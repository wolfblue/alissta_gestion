{"version":3,"sources":["webpack:///src/app/pages/SST/inicio-permiso/inicio-permiso.page.html","webpack:///src/app/pages/SST/inicio-permiso/inicio-permiso-routing.module.ts","webpack:///src/app/pages/SST/inicio-permiso/inicio-permiso.module.ts","webpack:///src/app/pages/SST/inicio-permiso/inicio-permiso.page.scss","webpack:///src/app/pages/SST/inicio-permiso/inicio-permiso.page.ts","webpack:///src/app/services/SST/current-postition.service.ts","webpack:///src/app/services/SST/sekected-items-service.service.ts"],"names":["routes","path","component","loadChildren","then","m","SeccionGeneralPageModule","InicioPermisoPageRoutingModule","imports","forChild","exports","InicioPermisoPageModule","declarations","options","weekday","year","month","day","hour","minute","second","InicioPermisoPage","modalController","currentPostitionService","alertController","router","dataService","context","device","tablaTrabajadoresService","selectedItemsService","locationDivice","boolLocationDivice","location","horaInicioActividad","boolHoraInicioActividad","horaFinActividad","ubicacionTrabajo","boolUbicacionTrabajo","alturaActividad","alturaActividadNumber","boolAlturaActividad","contadorUbicion","metros","centimetros","precargarDatos","permisoUbicacion","localStorage","getItem","create","modal","present","getCurrentPosition","header","buttons","text","handler","setItem","alert","console","log","verificarPermisos","getLocationDevice","mostrarError","latitud","coords","latitude","toString","length","substring","longitud","longitude","compararFechas","chechNumberAltura","guardarDatos","navigate","hi","Date","hf","message","getHours","getMinutes","infoAuditoria","selectedItems","data","FechaYHoraFinActDate","toLocaleDateString","setData","saveData","dataUrl","history","state","setListaTrabajadores","dtmFechaYHoraInicioAct","dtmFechaYHoraFinAct","strUbicacionTrabajo","dblAlturaActividad","edInfoAuditoria","strLatitud","strLongitud","getData","fechaInicio","formatearFecha","strHoraInicioActividad","formatearHora","get","user","strDocumentoEmpresa","documentoEmp","strNombreEmpresa","razonSocial","strTipoDocEmpresa","tipoDocumento","strIdentificacionUsuario","id","strNombreUsuario","nombre","correo","strUUID","uuid","event","detail","value","Math","floor","fecha","date","dia","getDate","mes","getMonth","anio","getFullYear","fechaFormateada","padStart","hora","minutos","horaFormateada","target","selector","template","CurrentPostitionService","utils","geolocation","locationDevice","presentLoading","resp","onFinally","error","dismissLoading","navigator","permissions","query","name","result","window","href","providedIn","SekectedItemsServiceService","items"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAe;;;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACKf,UAAMA,MAAM,GAAW,CACrB;AACEC,YAAI,EAAE,EADR;AAEEC,iBAAS,EAAE;AAFb,OADqB,EAKrB;AACED,YAAI,EAAE,iBADR;AAEEE,oBAAY,EAAE;AAAA,iBACZ;AAAA;AAAA;AAAA;AAAA,kGAAyFC,IAAzF,CAA8F,UAAAC,CAAC;AAAA,mBAAIA,CAAC,CAACC,wBAAN;AAAA,WAA/F,CADY;AAAA;AAFhB,OALqB,CAAvB;;UAgBaC,8BAA8B;AAAA;AAAA,Q;;AAA9BA,oCAA8B,6DAJ1C,+DAAS;AACRC,eAAO,EAAE,CAAC,6DAAaC,QAAb,CAAsBT,MAAtB,CAAD,CADD;AAERU,eAAO,EAAE,CAAC,4DAAD;AAFD,OAAT,CAI0C,GAA9BH,8BAA8B,CAA9B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;UCNAI,uBAAuB;AAAA;AAAA,Q;;AAAvBA,6BAAuB,6DAJnC,+DAAS;AACRH,eAAO,EAAE,CAAC,4DAAD,EAAe,0DAAf,EAA4B,0DAA5B,EAAyC,6FAAzC,EAAyE,kEAAzE,CADD;AAERI,oBAAY,EAAE,CAAC,sEAAD;AAFN,OAAT,CAImC,GAAvBD,uBAAuB,CAAvB;;;;;;;;;;;;;;;;ACfb;AAAe;;;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACcf,UAAME,OAAO,GAA+B;AAC1CC,eAAO,EAAE,MADiC;AAE1CC,YAAI,EAAE,SAFoC;AAG1CC,aAAK,EAAE,MAHmC;AAI1CC,WAAG,EAAE,SAJqC;AAK1CC,YAAI,EAAE,SALoC;AAM1CC,cAAM,EAAE,SANkC;AAO1CC,cAAM,EAAE;AAPkC,OAA5C;;UAeaC,iBAAiB;AAqB5B,mCACSC,eADT,EAEUC,uBAFV,EAGUC,eAHV,EAIUC,MAJV,EAKUC,WALV,EAMUC,OANV,EAOUC,MAPV,EAQUC,wBARV,EASUC,oBATV,EAS2D;AAAA;;AARlD,eAAAR,eAAA,GAAAA,eAAA;AACC,eAAAC,uBAAA,GAAAA,uBAAA;AACA,eAAAC,eAAA,GAAAA,eAAA;AACA,eAAAC,MAAA,GAAAA,MAAA;AACA,eAAAC,WAAA,GAAAA,WAAA;AACA,eAAAC,OAAA,GAAAA,OAAA;AACA,eAAAC,MAAA,GAAAA,MAAA;AACA,eAAAC,wBAAA,GAAAA,wBAAA;AACA,eAAAC,oBAAA,GAAAA,oBAAA;AA5BV,eAAAC,cAAA,GAA8B,IAA9B;AACA,eAAAC,kBAAA,GAA8B,KAA9B;AACA,eAAAC,QAAA,GAAmB,YAAnB;AACA,eAAAC,mBAAA,GAA4B,IAA5B;AACA,eAAAC,uBAAA,GAAmC,KAAnC;AAEA,eAAAC,gBAAA,GAAyB,IAAzB;AACA,eAAAC,gBAAA,GAA2B,IAA3B;AACA,eAAAC,oBAAA,GAAgC,KAAhC;AACA,eAAAC,eAAA,GAA0B,IAA1B;AACA,eAAAC,qBAAA,GAAgC,IAAhC;AACA,eAAAC,mBAAA,GAA+B,KAA/B;AAGA,eAAAC,eAAA,GAA0B,CAA1B;AAEA,eAAAC,MAAA,GAAiB,CAAjB;AACA,eAAAC,WAAA,GAAsB,CAAtB;AAaE,eAAKC,cAAL;AACD;;AAjC2B;AAAA;AAAA,iBAmC5B,oBAAW;AACT,iBAAKC,gBAAL,GAAwBC,YAAY,CAACC,OAAb,CAAqB,kBAArB,KAA4C,MAA5C,GAAqD,IAArD,GAA4D,KAApF;AACD;AArC2B;AAAA;AAAA,iBAuC5B,2BAAkB;AAChB,iBAAK1B,eAAL,CACG2B,MADH,CACU;AACN/C,uBAAS,EAAE;AADL,aADV,EAIGE,IAJH,CAIQ,UAAA8C,KAAK,EAAI;AACbA,mBAAK,CAACC,OAAN;AACD,aANH;AAOD;AA/C2B;AAAA;AAAA,iBAiDtB,+BAAsB;;;;;;;;yBACtB,KAAKL,gB;;;;;AACP,yBAAKM,kBAAL;;;;;AAGY,2BAAM,KAAK5B,eAAL,CAAqByB,MAArB,CAA4B;AAC9CI,4BAAM,EAAE,yFADsC;AAE9CC,6BAAO,EAAE,CACP;AACEC,4BAAI,EAAE,SADR;AAEEC,+BAAO,EAAE,mBAAM;AACb,+BAAI,CAACJ,kBAAL;;AACAL,sCAAY,CAACU,OAAb,CAAqB,kBAArB,EAAyC,MAAzC;AACA,+BAAI,CAACzB,kBAAL,GAA0B,KAA1B;AACD;AANH,uBADO,EASP,UATO;AAFqC,qBAA5B,CAAN;;;AAAR0B,yB;AAcNA,yBAAK,CAACP,OAAN;;;;;;;;AACD;AArE2B;AAAA;AAAA,iBAuEpB,8BAAqB;AAAA;;AAC3BQ,mBAAO,CAACC,GAAR,CAAY,oBAAZ;AACA,iBAAKrC,uBAAL,CAA6BsC,iBAA7B,GAAiDzD,IAAjD,CAAsD;AAAA,qBAAY;AAAA;AAAA;AAAA;AAAA;AAAA;AAQhE,6BAAM,KAAKmB,uBAAL,CAA6B6B,kBAA7B,EAAN;;AARgE;AAShE,2BAAKrB,cAAL,GAAsB,KAAKR,uBAAL,CAA6BuC,iBAA7B,EAAtB;;AATgE,0BAU3D,KAAK/B,cAVsD;AAAA;AAAA;AAAA;;AAW9D,2BAAKC,kBAAL,GAA0B,IAA1B;AACA,2BAAK+B,YAAL,CAAkB,yGAAlB;AAZ8D;;AAAA;AAe5DC,6BAf4D,GAgB9D,KAAKjC,cAAL,CAAoBkC,MAApB,CAA2BC,QAA3B,CAAoCC,QAApC,GAA+CC,MAA/C,GAAwD,EAAxD,GACI,KAAKrC,cAAL,CAAoBkC,MAApB,CAA2BC,QAA3B,CAAoCC,QAApC,GAA+CE,SAA/C,CAAyD,CAAzD,EAA4D,EAA5D,CADJ,GAEI,KAAKtC,cAAL,CAAoBkC,MAApB,CAA2BC,QAA3B,CAAoCC,QAApC,EAlB0D;AAmB5DG,8BAnB4D,GAoB9D,KAAKvC,cAAL,CAAoBkC,MAApB,CAA2BM,SAA3B,CAAqCJ,QAArC,GAAgDC,MAAhD,GAAyD,EAAzD,GACI,KAAKrC,cAAL,CAAoBkC,MAApB,CAA2BM,SAA3B,CAAqCJ,QAArC,GAAgDE,SAAhD,CAA0D,CAA1D,EAA6D,EAA7D,CADJ,GAEI,KAAKtC,cAAL,CAAoBkC,MAApB,CAA2BM,SAA3B,CAAqCJ,QAArC,EAtB0D;AAuBhE,2BAAKlC,QAAL,eAAqB+B,OAArB,eAAiCM,QAAjC;AACA,2BAAKtC,kBAAL,GAA0B,KAA1B;;AAxBgE;AAAA;AAAA;AAAA;AAAA;AAAA,iBAAZ;AAAA,aAAtD;AA0BD;AAnG2B;AAAA;AAAA,iBAqGtB,qBAAY;;;;;wBACX,KAAKD,c;;;;;AACR,yBAAKC,kBAAL,GAA0B,IAA1B;AACA,yBAAK+B,YAAL,CAAkB,8EAAlB;;;;;AAII,2BAAM,KAAKS,cAAL,EAAN;;;;;;;;;;;AAGN,yBAAKlC,oBAAL,GAA4B,KAA5B;;wBACK,KAAKD,gB;;;;;AACR,yBAAK0B,YAAL,CAAkB,yDAAlB;AACA,yBAAKzB,oBAAL,GAA4B,IAA5B;;;;0BAIE,KAAKmC,iBAAL,MAA4B,K;;;;;;;;;AAGhC,2BAAM,KAAKC,YAAL,EAAN;;;AACA,yBAAKjD,MAAL,CAAYkD,QAAZ,CAAqB,CAAC,8EAAD,CAArB;;;;;;;;AACD;AA3H2B;AAAA;AAAA,iBA6Hd,0BAAc;;;;;;;AACtBC,sB,GAAK,IAAIC,IAAJ,CAAS,KAAK3C,mBAAd,C;AACL4C,sB,GAAK,IAAID,IAAJ,CAAS,KAAKzC,gBAAd,C;;0BACL,KAAKF,mBAAL,IAA4B,IAA5B,IAAoC,KAAKE,gBAAL,IAAyB,I;;;;;;AACjD,2BAAM,KAAKZ,eAAL,CAAqByB,MAArB,CAA4B;AAC9CI,4BAAM,EAAE,QADsC;AAE9C0B,6BAAO,EAAE,mFAFqC;AAG9CzB,6BAAO,EAAE,CAAC,IAAD;AAHqC,qBAA5B,CAAN;;;AAARI,yB;AAKNA,yBAAK,CAACP,OAAN;AACA,yBAAKhB,uBAAL,GAA+B,IAA/B;sDACO,K;;;0BAGLyC,EAAE,GAAGE,E;;;;;;AACO,2BAAM,KAAKtD,eAAL,CAAqByB,MAArB,CAA4B;AAC9CI,4BAAM,EAAE,QADsC;AAE9C0B,6BAAO,EAAE,gEAFqC;AAG9CzB,6BAAO,EAAE,CAAC,IAAD;AAHqC,qBAA5B,CAAN;;;AAARI,0B;;AAKNA,0BAAK,CAACP,OAAN;;AACA,yBAAKhB,uBAAL,GAA+B,IAA/B;sDACO,K;;;0BAGLyC,EAAE,CAACI,QAAH,OAAkBF,EAAE,CAACE,QAAH,EAAlB,IAAmCJ,EAAE,CAACK,UAAH,OAAoBH,EAAE,CAACG,UAAH,E;;;;;;AAE3C,2BAAM,KAAKzD,eAAL,CAAqByB,MAArB,CAA4B;AAC9CI,4BAAM,EAAE,QADsC;AAE9C0B,6BAAO,EAAE,gEAFqC;AAG9CzB,6BAAO,EAAE,CAAC,IAAD;AAHqC,qBAA5B,CAAN;;;AAARI,2B;;AAKNA,2BAAK,CAACP,OAAN;;AACA,yBAAKhB,uBAAL,GAA+B,IAA/B;sDACO,K;;;AAET,yBAAKA,uBAAL,GAA+B,KAA/B;sDACO,I;;;;;;;;AACR;AAnK2B;AAAA;AAAA,iBAqKd,sBAAa4C,OAAb,EAA8B;;;;;;;AAC5B,2BAAM,KAAKvD,eAAL,CAAqByB,MAArB,CAA4B;AAC9CI,4BAAM,EAAE,QADsC;AAE9C0B,6BAAO,EAAEA,OAFqC;AAG9CzB,6BAAO,EAAE,CAAC,IAAD;AAHqC,qBAA5B,CAAN;;;AAARI,yB;AAKNA,yBAAK,CAACP,OAAN;;;;;;;;AACD;AA5K2B;AAAA;AAAA,iBA8KtB,wBAAe;;;;;;AACnB,2BAAM,KAAK+B,aAAL,EAAN;;;AACA,yBAAKpD,oBAAL,CAA0BqD,aAA1B,GAA0C,EAA1C;AACA,yBAAKC,IAAL,CAAUC,oBAAV,GAAiC,KAAKjD,gBAAtC;AACA,yBAAKgD,IAAL,CAAU,qBAAV,IAAmC,KAAKhD,gBAAxC;AACA,yBAAKgD,IAAL,CAAU,qBAAV,IAAmC,IAAIP,IAAJ,CAAS,KAAKzC,gBAAd,EAAgCkD,kBAAhC,CAAmD,OAAnD,EAA4DzE,OAA5D,CAAnC;AACA,yBAAKuE,IAAL,CAAU,wBAAV,IAAsC,KAAKA,IAAL,CAAU,kBAAV,CAAtC;AACA,yBAAKA,IAAL,CAAU,qBAAV,IAAmC,KAAK/C,gBAAxC;AACA,yBAAK+C,IAAL,CAAU,oBAAV,IAAkC,KAAK5C,qBAAvC;AACA,yBAAK4C,IAAL,CAAU,WAAV,IAAyB,8DAAzB;AACA,yBAAKA,IAAL,CAAU,QAAV,IAAsB,KAAKzC,MAA3B;AACA,yBAAKyC,IAAL,CAAU,aAAV,IAA2B,KAAKxC,WAAhC;AACA,yBAAKlB,WAAL,CAAiB6D,OAAjB,CAAyB,KAAKH,IAA9B;AACA,yBAAK1D,WAAL,CAAiB8D,QAAjB;;;;;;;;AACD;AA5L2B;AAAA;AAAA,iBA8L5B,0BAAiB;AACf,gBAAMC,OAAO,GAAGC,OAAO,CAACC,KAAR,CAAcP,IAA9B;AACAzB,mBAAO,CAACC,GAAR,CAAY6B,OAAZ,EAAqB,wBAArB;;AACA,gBAAIA,OAAJ,EAAa;AACX9B,qBAAO,CAACC,GAAR,CAAY,yBAAZ;AACA,mBAAK/B,wBAAL,CAA8B+D,oBAA9B,CAAmDH,OAAO,CAAC,2BAAD,CAA1D;AACA,mBAAK/D,WAAL,CAAiB6D,OAAjB,CAAyBE,OAAzB;AACA,mBAAKL,IAAL,GAAYK,OAAZ;AACA9B,qBAAO,CAACC,GAAR,CAAY,KAAKwB,IAAjB;AACA,mBAAKlD,mBAAL,GAA2BuD,OAAO,CAACI,sBAAnC;AACA,mBAAKzD,gBAAL,GAAwBqD,OAAO,CAACK,mBAAhC;AACA,mBAAKzD,gBAAL,GAAwBoD,OAAO,CAACM,mBAAhC;AACA,mBAAKxD,eAAL,GAAuBkD,OAAO,CAACO,kBAA/B;AACA,mBAAKrD,MAAL,GAAc8C,OAAO,CAAC9C,MAAtB;AACA,mBAAKC,WAAL,GAAmB6C,OAAO,CAAC7C,WAA3B;AACA,mBAAKX,QAAL,eAAqBwD,OAAO,CAACQ,eAAR,CAAwBC,UAA7C,eAA4DT,OAAO,CAACQ,eAAR,CAAwBE,WAApF;AACA,mBAAKzD,eAAL,GAAuB,KAAKL,gBAAL,CAAsB+B,MAA7C;AACA,mBAAKrC,cAAL,GAAsB;AACpBkC,sBAAM,EAAE;AACNC,0BAAQ,EAAEuB,OAAO,CAACQ,eAAR,CAAwBC,UAD5B;AAEN3B,2BAAS,EAAEkB,OAAO,CAACQ,eAAR,CAAwBE;AAF7B;AADY,eAAtB;AAMD,aApBD,MAoBO;AACL,mBAAKf,IAAL,GAAY,KAAK1D,WAAL,CAAiB0E,OAAjB,EAAZ;AACA,mBAAKvE,wBAAL,CAA8B+D,oBAA9B,CAAmD,KAAKR,IAAL,CAAU,2BAAV,CAAnD,EAFK,CAGL;AACA;;AACA,mBAAK/C,gBAAL,GAAwB,KAAK+C,IAAL,CAAU,qBAAV,CAAxB;AACA,mBAAKzC,MAAL,GAAc,KAAKyC,IAAL,CAAU,QAAV,CAAd;AACA,mBAAKxC,WAAL,GAAmB,KAAKwC,IAAL,CAAU,aAAV,CAAnB,CAPK,CAQL;AACD;;AACD,iBAAKiB,WAAL,GAAmB,KAAKC,cAAL,CAAoB,KAAKlB,IAAL,CAAU,kBAAV,EAA8BjB,QAA9B,EAApB,CAAnB;AACA,iBAAKjC,mBAAL,GAA2B,KAAKkD,IAAL,CAAU,kBAAV,CAA3B;AACA,iBAAKmB,sBAAL,GAA8B,KAAKC,aAAL,CAAmB,KAAKpB,IAAL,CAAU,kBAAV,CAAnB,CAA9B;AACD;AAlO2B;AAAA;AAAA,iBAoOtB,yBAAgB;;;;;;;AACT,2BAAM,KAAKzD,OAAL,CAAa8E,GAAb,EAAN;;;AAAPC,wB;AAEJ,yBAAKtB,IAAL,CAAU,iBAAV,EAA6Bc,UAA7B,GAA0C,KAAKnE,cAAL,CAAoBkC,MAApB,CAA2BC,QAA3B,CAAoCC,QAApC,EAA1C;AACA,yBAAKiB,IAAL,CAAU,iBAAV,EAA6Be,WAA7B,GAA2C,KAAKpE,cAAL,CAAoBkC,MAApB,CAA2BM,SAA3B,CAAqCJ,QAArC,EAA3C;AACA,yBAAKiB,IAAL,CAAU,iBAAV,EAA6BuB,mBAA7B,GAAmDD,IAAI,CAAC,UAAD,CAAJ,CAAiBE,YAApE;AACA,yBAAKxB,IAAL,CAAU,iBAAV,EAA6ByB,gBAA7B,GAAgDH,IAAI,CAAC,UAAD,CAAJ,CAAiBI,WAAjE;AACA,yBAAK1B,IAAL,CAAU,iBAAV,EAA6B2B,iBAA7B,GAAiDL,IAAI,CAAC,UAAD,CAAJ,CAAiBM,aAAlE;AAEA,yBAAK5B,IAAL,CAAU,iBAAV,EAA6B6B,wBAA7B,GAAwDP,IAAI,CAAC,aAAD,CAAJ,CAAoBQ,EAApB,CAAuB/C,QAAvB,EAAxD;AACA,yBAAKiB,IAAL,CAAU,iBAAV,EAA6B+B,gBAA7B,GAAgDT,IAAI,CAAC,aAAD,CAAJ,CAAoBU,MAApE;AACA,yBAAKhC,IAAL,CAAU,gCAAV,IAA8CsB,IAAI,CAAC,aAAD,CAAJ,CAAoBW,MAAlE;AACA,yBAAKjC,IAAL,CAAU,iBAAV,EAA6BkC,OAA7B,GAAuC,KAAK1F,MAAL,CAAY2F,IAAZ,GAAmB,KAAK3F,MAAL,CAAY2F,IAA/B,GAAsC,KAA7E;AAEA,yBAAKnC,IAAL,CAAU,oBAAV,IAAkCsB,IAAI,CAAC,UAAD,CAAJ,CAAiBQ,EAAjB,CAAoB/C,QAApB,EAAlC;AACA,yBAAKiB,IAAL,CAAU,gBAAV,IAA8BsB,IAAI,CAAC,UAAD,CAAJ,CAAiBI,WAA/C;AACA,yBAAK1B,IAAL,CAAU,kBAAV,IAAgCsB,IAAI,CAAC,UAAD,CAAJ,CAAiBM,aAAjD;AAEA,yBAAK5B,IAAL,CAAU,6BAAV,IAA2CsB,IAAI,CAAC,aAAD,CAAJ,CAAoBW,MAA/D;;;;;;;;AACD;AAvP2B;AAAA;AAAA,iBAyP5B,qBAAYG,KAAZ,EAAwB;AACtB,iBAAKpF,gBAAL,GAAwBoF,KAAK,CAACC,MAAN,CAAaC,KAArC;AACD;AA3P2B;AAAA;AAAA,iBA6P5B,6BAAiB;AACf,gBAAI,KAAK/E,MAAL,IAAe,IAAf,IAAuB,KAAKC,WAAL,IAAoB,IAA/C,EAAqD;AACnD,mBAAKmB,YAAL,CAAkB,0DAAlB;AACA,mBAAKtB,mBAAL,GAA2B,IAA3B;AACA,qBAAO,KAAP;AACD;;AAED,gBAAI,KAAKG,WAAL,GAAmB,EAAvB,EAA2B;AACzB,mBAAKmB,YAAL,CAAkB,0CAAlB;AACA,mBAAKtB,mBAAL,GAA2B,IAA3B;AACA,qBAAO,KAAP;AACD;;AACD,iBAAKE,MAAL,GAAcgF,IAAI,CAACC,KAAL,CAAW,KAAKjF,MAAhB,CAAd;AACA,iBAAKH,qBAAL,GAA6B,KAAKG,MAAL,GAAc,KAAKC,WAAL,GAAmB,GAA9D;;AACA,gBAAI,KAAKJ,qBAAL,IAA8B,IAAlC,EAAwC;AACtC,mBAAKuB,YAAL,CAAkB,iDAAlB;AACA,mBAAKtB,mBAAL,GAA2B,IAA3B;AACA,qBAAO,KAAP;AACD;;AACD,iBAAKF,eAAL,GAAuB,KAAKC,qBAAL,CAA2B2B,QAA3B,EAAvB;AACA,iBAAK1B,mBAAL,GAA2B,KAA3B;AACA,mBAAO,IAAP;AACD;AAnR2B;AAAA;AAAA,iBAqR5B,gBAAO;AACL,iBAAKhB,MAAL,CAAYkD,QAAZ,CAAqB,CAAC,+CAAD,CAArB,EAAwE;AAAEgB,mBAAK,EAAE;AAAEP,oBAAI,EAAE,KAAKA;AAAb;AAAT,aAAxE;AACD;AAvR2B;AAAA;AAAA,iBAyRpB,wBAAeyC,KAAf,EAA4B;AAClC,gBAAMC,IAAI,GAAG,IAAIjD,IAAJ,CAASgD,KAAT,CAAb;AAEA,gBAAME,GAAG,GAAGD,IAAI,CAACE,OAAL,EAAZ;AACA,gBAAMC,GAAG,GAAGH,IAAI,CAACI,QAAL,KAAkB,CAA9B;AACA,gBAAMC,IAAI,GAAGL,IAAI,CAACM,WAAL,EAAb;AAEA,gBAAMC,eAAe,aAAMN,GAAG,CAAC5D,QAAJ,GAAemE,QAAf,CAAwB,CAAxB,EAA2B,GAA3B,CAAN,cAAyCL,GAAG,CAAC9D,QAAJ,GAAemE,QAAf,CAAwB,CAAxB,EAA2B,GAA3B,CAAzC,cAA4EH,IAAI,CAAChE,QAAL,EAA5E,CAArB;AAEA,mBAAOkE,eAAP;AACD;AAnS2B;AAAA;AAAA,iBAqSpB,uBAAcR,KAAd,EAAyB;AAC/B,gBAAMC,IAAI,GAAG,IAAIjD,IAAJ,CAASgD,KAAT,CAAb;AAEA,gBAAMU,IAAI,GAAGT,IAAI,CAAC9C,QAAL,EAAb;AACA,gBAAMwD,OAAO,GAAGV,IAAI,CAAC7C,UAAL,EAAhB;AAEA,gBAAMwD,cAAc,aAAMF,IAAI,CAACpE,QAAL,GAAgBmE,QAAhB,CAAyB,CAAzB,EAA4B,GAA5B,CAAN,cAA0CE,OAAO,CAACrE,QAAR,GAAmBmE,QAAnB,CAA4B,CAA5B,EAA+B,GAA/B,CAA1C,CAApB;AAEA,mBAAOG,cAAP;AACD;AA9S2B;AAAA;AAAA,iBAgT5B,4BAAmBjB,KAAnB,EAA+B;AAC7B,gBAAIA,KAAK,CAACkB,MAAN,CAAahB,KAAb,CAAmBtD,MAAnB,IAA6B,CAAjC,EAAoC;AAClC,mBAAK1B,eAAL,GAAuB,CAAvB;AACA;AACD;;AACD,iBAAKA,eAAL,GAAuB8E,KAAK,CAACkB,MAAN,CAAahB,KAAb,CAAmBtD,MAA1C;AACD;AAtT2B;AAAA,S;;;;gBA3BrB;;gBAEA;;gBACA;;gBACA;;gBACA;;gBAEA;;gBACA;;gBACA;;gBACA;;;;AAiBI/C,uBAAiB,6DAL7B,gEAAU;AACTsH,gBAAQ,EAAE,oBADD;AAETC,gBAAQ,EAAR;AAAA;AAAA,wHAFS;;;;AAAA,OAAV,CAK6B,GAAjBvH,iBAAiB,CAAjB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;UCrBAwH,uBAAuB;AAGlC,yCAAoBC,KAApB,EAAiDC,WAAjD,EAAkF;AAAA;;AAA9D,eAAAD,KAAA,GAAAA,KAAA;AAA6B,eAAAC,WAAA,GAAAA,WAAA;AAFjD,eAAAC,cAAA,GAA8B,IAA9B;AAEoF;;AAHlD;AAAA;AAAA,iBAKlC,6BAAiB;AACf,mBAAO,KAAKA,cAAZ;AACD;AAPiC;AAAA;AAAA,iBAS5B,8BAAkB;;;;;;;;;AAEpB,2BAAM,KAAKF,KAAL,CAAWG,cAAX,EAAN;;;AACA,yBAAKF,WAAL,CACG3F,kBADH,GAEGhD,IAFH,CAEQ,UAAA8I,IAAI,EAAI;AACZ,4BAAI,CAACC,SAAL,CAAeD,IAAI,CAACjF,MAAL,CAAYC,QAAZ,CAAqBC,QAArB,EAAf,EAAgD+E,IAAI,CAACjF,MAAL,CAAYM,SAAZ,CAAsBJ,QAAtB,EAAhD;;AACA,4BAAI,CAAC6E,cAAL,GAAsBE,IAAtB;AACD,qBALH,WAMS,UAAAE,KAAK,EAAI;AACdzF,6BAAO,CAACC,GAAR,CAAY,wBAAZ,EAAsCwF,KAAtC;AACD,qBARH;;;;;;;AAUAzF,2BAAO,CAACyF,KAAR,CAAc,gCAAd;AACA,yBAAKD,SAAL;;;;AAEA,yBAAKL,KAAL,CAAWO,cAAX;;;;;;;;;AAEH;AA3BiC;AAAA;AAAA,iBA6B1B,mBAAUnF,QAAV,EAA6BK,SAA7B,EAA+C;AACrD,iBAAKuE,KAAL,CAAWO,cAAX;AAEA,gBAAMN,WAAW,GAAG,IAAI,8EAAJ,EAApB;AACAA,uBAAW,CAAC7E,QAAZ,GAAuBA,QAAvB;AACA6E,uBAAW,CAACxE,SAAZ,GAAwBA,SAAxB;AACD;AAnCiC;AAAA;AAAA,iBAqC5B,6BAAoB;;;;;;AACxBZ,2BAAO,CAACC,GAAR,CAAY,2DAAZ;;0BACI,iBAAiB0F,S;;;;;;;AAEF,2BAAMA,SAAS,CAACC,WAAV,CAAsBC,KAAtB,CAA4B;AAAEC,0BAAI,EAAE;AAAR,qBAA5B,CAAN;;;AAATC,0B;;AAEN,wBAAIA,MAAM,CAAC/D,KAAP,KAAiB,SAArB,EAAgC;AAC9B,2BAAKvC,kBAAL;AACD,qBAFD,MAEO,IAAIsG,MAAM,CAAC/D,KAAP,KAAiB,QAArB,EAA+B;AACpChC,6BAAO,CAACC,GAAR,CAAY,qCAAZ;AACD,qBAFM,MAEA,IAAI8F,MAAM,CAAC/D,KAAP,KAAiB,QAArB,EAA+B;AACpChC,6BAAO,CAACC,GAAR,CAAY,8BAAZ;AACA+F,4BAAM,CAAC1H,QAAP,CAAgB2H,IAAhB,GAAuB,eAAvB;AACD;;;;;;;;AAEDjG,2BAAO,CAACyF,KAAR,CAAc,qDAAd;;;;;;;;AAGL;AAvDiC;AAAA,S;;;;gBAL3B;;gBADe;;;;AAMXP,6BAAuB,6DAHnC,iEAAW;AACVgB,kBAAU,EAAE;AADF,OAAX,CAGmC,GAAvBhB,uBAAuB,CAAvB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;UCHAiB,2BAA2B;AAGtC,+CAAc;AAAA;;AAFd,eAAA3E,aAAA,GAAgB,EAAhB;AAEgB;;AAHsB;AAAA;AAAA,iBAKtC,4BAAmB;AACjB,mBAAO,KAAKA,aAAZ;AACD;AAPqC;AAAA;AAAA,iBAStC,0BAAiB4E,KAAjB,EAAwB;AACtB,iBAAK5E,aAAL,GAAqB4E,KAArB;AACD;AAXqC;AAAA,S;;;;;;AAA3BD,iCAA2B,6DAHvC,iEAAW;AACVD,kBAAU,EAAE;AADF,OAAX,CAGuC,GAA3BC,2BAA2B,CAA3B","file":"src-app-pages-SST-inicio-permiso-inicio-permiso-module-es5.js","sourcesContent":["export default \"<ion-header>\\n  <app-nav-bar></app-nav-bar>\\n  <div class=\\\"toolbar\\\">\\n    <ion-title style=\\\"color: #7e7e7e; padding: 0\\\"><strong> Registro Permiso</strong></ion-title>\\n  </div>\\n</ion-header>\\n\\n<ion-content>\\n  <!-- Botón para visualizar trabajadores. lae una opción “Ver Trabajadores”\\n    través de un modal los datos de los listado de trabajadores-->\\n  <div>\\n    <ion-item class=\\\"mostrar-usuarios\\\">\\n      <p class=\\\"center-trabajadores\\\" (click)=\\\"verTrabajadores()\\\">\\n        <ion-icon style=\\\"font-size: 1.1rem\\\" name=\\\"people\\\"></ion-icon>Ver Trabajadores\\n      </p>\\n      <ion-icon (click)=\\\"back()\\\" name=\\\"chevron-back-outline\\\" slot=\\\"start\\\"></ion-icon>\\n    </ion-item>\\n  </div>\\n  <div class=\\\"toolbar toolcontent\\\">\\n    <span> <ion-img style=\\\"width: 32px; height: 32px\\\" src=\\\"assets/img/clarity_book-solid.svg\\\"></ion-img> </span>\\n    <ion-title>Información Actividad a Realizar</ion-title>\\n  </div>\\n  <div class=\\\"ion-padding\\\">\\n    <div *ngIf=\\\"boolLocationDivice\\\" class=\\\"error-message\\\">Ingrese el campo</div>\\n    <ion-row>\\n      <div class=\\\"col-8 center-ubi\\\"><strong class=\\\"requieredQues\\\">*</strong>{{location ? location : 'Posición'}}</div>\\n      <div class=\\\"btn-position\\\" (click)=\\\"authCurrentPosition()\\\">\\n        <ion-icon name=\\\"location\\\" slot=\\\"end\\\"></ion-icon>\\n      </div>\\n    </ion-row>\\n    <div (click)=\\\"authCurrentPosition()\\\" class=\\\"ion-text-center ion-padding\\\" style=\\\"padding: 0\\\">\\n      <button style=\\\"width: 50%\\\" class=\\\"guardar-continuar\\\" expand=\\\"block\\\" color=\\\"secondary\\\">Iniciar</button>\\n    </div>\\n    <br />\\n\\n    <!-- boton para obtener latitud longitud -->\\n\\n    <ion-label class=\\\"ion-padding\\\" style=\\\"font-weight: 800\\\" position=\\\"floating\\\">Fecha Realización Actividad </ion-label>\\n    <ion-input style=\\\"background: #cfcfcf; border-radius: 10px; opacity: 0.5\\\" type=\\\"text\\\" [(ngModel)]=\\\"fechaInicio\\\" disabled></ion-input>\\n    <br />\\n    <!-- hora inicio *obligatorio -->\\n    <ion-label class=\\\"ion-padding\\\" style=\\\"font-weight: 800\\\" position=\\\"floating\\\"\\n      ><strong class=\\\"requieredQues\\\">*</strong>Hora Inicio\\n    </ion-label>\\n    <ion-item class=\\\"border\\\">\\n      <ion-datetime\\n        style=\\\"opacity: 0.5\\\"\\n        displayFormat=\\\"HH:mm\\\"\\n        pickerFormat=\\\"HH:mm\\\"\\n        [(ngModel)]=\\\"strHoraInicioActividad\\\"\\n        doneText=\\\"Aceptar\\\"\\n        cancelText=\\\"Cancelar\\\"\\n        disabled\\n      ></ion-datetime>\\n    </ion-item>\\n    <br />\\n    <!-- hora fin acticidad -->\\n\\n    <div *ngIf=\\\"boolHoraInicioActividad\\\" class=\\\"error-message\\\">Ingrese el campo</div>\\n    <ion-label class=\\\"ion-padding\\\" style=\\\"font-weight: 800\\\" position=\\\"floating\\\"><strong class=\\\"requieredQues\\\">*</strong>Hora Fin</ion-label>\\n    <ion-item class=\\\"border\\\">\\n      <ion-datetime\\n        (ionChange)=\\\"onChangeFin($event)\\\"\\n        displayFormat=\\\"HH:mm\\\"\\n        pickerFormat=\\\"HH:mm\\\"\\n        [(ngModel)]=\\\"horaFinActividad\\\"\\n        doneText=\\\"Aceptar\\\"\\n        cancelText=\\\"Cancelar\\\"\\n      ></ion-datetime>\\n    </ion-item>\\n    <br />\\n\\n    <!-- ubicacion del trabajo es un textform maximo 200 caracteres-->\\n    <div *ngIf=\\\"boolUbicacionTrabajo\\\" class=\\\"error-message\\\">Ingrese el campo</div>\\n\\n    <ion-label class=\\\"ion-padding\\\" style=\\\"font-weight: 800; color: #ff7500\\\" position=\\\"floating\\\">\\n      <strong class=\\\"requieredQues\\\">*</strong>Ubicación del Trabajo\\n    </ion-label>\\n    <ion-item class=\\\"border\\\">\\n      <ion-input (ionChange)=\\\"actualizarContador($event)\\\" type=\\\"text\\\" maxlength=\\\"200\\\" [(ngModel)]=\\\"ubicacionTrabajo\\\"></ion-input>\\n    </ion-item>\\n    <p class=\\\"counter\\\">{{contadorUbicion}}/200</p>\\n    <div *ngIf=\\\"boolAlturaActividad\\\" class=\\\"error-message\\\">Ingrese el campo</div>\\n\\n    <!-- input y al lado derecho lebel Metros -->\\n    <ion-label class=\\\"ion-padding\\\" style=\\\"font-weight: 800; color: #ff7500\\\" position=\\\"floating\\\"\\n      ><strong class=\\\"requieredQues\\\">*</strong>Altura de la actividad\\n    </ion-label>\\n\\n    <ion-grid>\\n      <ion-row class=\\\"\\\">\\n        <ion-col size=\\\"3\\\">\\n          <ion-label style=\\\"font-size: 12px !important\\\" position=\\\"floating\\\">Metros</ion-label>\\n          <ion-item style=\\\"width: 80px\\\" class=\\\"border\\\">\\n            <ion-input type=\\\"number\\\" [(ngModel)]=\\\"metros\\\"></ion-input>\\n          </ion-item>\\n        </ion-col>\\n        <ion-col size=\\\"3\\\">\\n          <ion-label style=\\\"font-size: 12px !important\\\" position=\\\"floating\\\">Centímetros</ion-label>\\n          <ion-item style=\\\"width: 80px\\\" class=\\\"border\\\">\\n            <ion-input [(ngModel)]=\\\"centimetros\\\" type=\\\"number\\\" max=\\\"99\\\" maxlength=\\\"3\\\" value=\\\"0\\\"></ion-input>\\n          </ion-item>\\n        </ion-col>\\n      </ion-row>\\n    </ion-grid>\\n    <br />\\n\\n    <!-- bton continuar -->\\n    <div class=\\\"ion-text-center ion-padding\\\">\\n      <button class=\\\"guardar-continuar\\\" expand=\\\"block\\\" color=\\\"secondary\\\" (click)=\\\"continuar()\\\">Guardar y Continuar</button>\\n    </div>\\n  </div>\\n</ion-content>\\n\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { InicioPermisoPage } from './inicio-permiso.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: InicioPermisoPage,\n  },\n  {\n    path: 'seccion-general',\n    loadChildren: () =>\n      import('src/app/pages/SST/informacion-actividad/seccion-general/seccion-general.module').then(m => m.SeccionGeneralPageModule),\n  },\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class InicioPermisoPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { InicioPermisoPageRoutingModule } from './inicio-permiso-routing.module';\n\nimport { InicioPermisoPage } from './inicio-permiso.page';\nimport { SharedModule } from 'src/app/shared.module';\n\n@NgModule({\n  imports: [CommonModule, FormsModule, IonicModule, InicioPermisoPageRoutingModule, SharedModule],\n  declarations: [InicioPermisoPage],\n})\nexport class InicioPermisoPageModule {}\n","export default \"div.toolbar {\\n  background: #beb2b2;\\n  color: #fff;\\n  padding: 0 16px;\\n  height: 48px;\\n  align-items: center;\\n  display: flex;\\n  text-align: center;\\n}\\ndiv.toolbar ion-title {\\n  color: #fff;\\n}\\ndiv.toolbar.toolcontent {\\n  background-color: var(--ion-color-primary);\\n  display: flex;\\n  align-items: center;\\n}\\nion-item.mostrar-usuarios {\\n  /* quitar estilos */\\n  --background: none;\\n  --border-color: none;\\n  --border-style: none;\\n  width: 100%;\\n  background: var(--ion-background-color);\\n  color: var(--ion-color-primary);\\n  padding: 0 16px;\\n  height: 48px;\\n  width: 100%;\\n  align-items: center;\\n  display: flex;\\n  text-align: center;\\n}\\nbutton.guardar-continuar {\\n  color: #fff;\\n  background: #4b9a49 !important;\\n  margin-top: 10px;\\n  border-radius: 24px;\\n  width: 80%;\\n  height: 24px;\\n  font-size: 14px;\\n  font-weight: 500;\\n  text-transform: none;\\n  border: none;\\n  outline: none;\\n  cursor: pointer;\\n  transition: all 0.3s ease;\\n}\\n.btn-position {\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n  margin-top: 10px;\\n  margin-left: 10px;\\n  margin-right: 10px;\\n  margin-bottom: 10px;\\n  color: var(--ion-color-primary);\\n  border-radius: 8px;\\n  width: 40px;\\n  height: 40px;\\n  font-size: 24px;\\n  font-weight: 500;\\n  text-transform: uppercase;\\n  border: none;\\n  height: 20px;\\n}\\n.requieredQues {\\n  color: red;\\n}\\nion-col.label-bottom {\\n  align-self: flex-end !important;\\n  margin-top: auto !important;\\n}\\nion-item.border {\\n  height: 45px;\\n  border: 1px solid #808080;\\n  border-radius: 10px;\\n}\\np.counter {\\n  display: flex;\\n  margin-top: 0;\\n  color: var(--ion-color-primary);\\n}\\n.center-ubi {\\n  width: 80%;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  -webkit-user-select: none;\\n     -moz-user-select: none;\\n          user-select: none;\\n  border: 1px solid #808080;\\n  height: 40px;\\n}\\n.center-trabajadores {\\n  width: 100%;\\n  display: flex;\\n  text-align: center;\\n  justify-content: center;\\n  font-size: 17px;\\n}\\n.error-message {\\n  color: red;\\n  font-size: 10px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvU1NUL2luaWNpby1wZXJtaXNvL2luaWNpby1wZXJtaXNvLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLG1CQUFBO0VBQ0EsV0FBQTtFQUNBLGVBQUE7RUFDQSxZQUFBO0VBQ0EsbUJBQUE7RUFDQSxhQUFBO0VBQ0Esa0JBQUE7QUFDRjtBQUFFO0VBQ0UsV0FBQTtBQUVKO0FBQUU7RUFDRSwwQ0FBQTtFQUNBLGFBQUE7RUFDQSxtQkFBQTtBQUVKO0FBQ0E7RUFDRSxtQkFBQTtFQUNBLGtCQUFBO0VBQ0Esb0JBQUE7RUFDQSxvQkFBQTtFQUNBLFdBQUE7RUFDQSx1Q0FBQTtFQUNBLCtCQUFBO0VBQ0EsZUFBQTtFQUNBLFlBQUE7RUFDQSxXQUFBO0VBQ0EsbUJBQUE7RUFDQSxhQUFBO0VBQ0Esa0JBQUE7QUFFRjtBQUNBO0VBQ0UsV0FBQTtFQUNBLDhCQUFBO0VBQ0EsZ0JBQUE7RUFDQSxtQkFBQTtFQUNBLFVBQUE7RUFDQSxZQUFBO0VBQ0EsZUFBQTtFQUNBLGdCQUFBO0VBQ0Esb0JBQUE7RUFDQSxZQUFBO0VBQ0EsYUFBQTtFQUNBLGVBQUE7RUFDQSx5QkFBQTtBQUVGO0FBQ0E7RUFDRSxhQUFBO0VBQ0EsdUJBQUE7RUFDQSxtQkFBQTtFQUNBLGdCQUFBO0VBQ0EsaUJBQUE7RUFDQSxrQkFBQTtFQUNBLG1CQUFBO0VBQ0EsK0JBQUE7RUFDQSxrQkFBQTtFQUNBLFdBQUE7RUFDQSxZQUFBO0VBQ0EsZUFBQTtFQUNBLGdCQUFBO0VBQ0EseUJBQUE7RUFDQSxZQUFBO0VBQ0EsWUFBQTtBQUVGO0FBQ0E7RUFDRSxVQUFBO0FBRUY7QUFDQTtFQUNFLCtCQUFBO0VBQ0EsMkJBQUE7QUFFRjtBQUNBO0VBQ0UsWUFBQTtFQUNBLHlCQUFBO0VBQ0EsbUJBQUE7QUFFRjtBQUFBO0VBQ0UsYUFBQTtFQUNBLGFBQUE7RUFDQSwrQkFBQTtBQUdGO0FBQUE7RUFDRSxVQUFBO0VBQ0EsYUFBQTtFQUNBLG1CQUFBO0VBQ0EsdUJBQUE7RUFDQSx5QkFBQTtLQUFBLHNCQUFBO1VBQUEsaUJBQUE7RUFDQSx5QkFBQTtFQUNBLFlBQUE7QUFHRjtBQURBO0VBQ0UsV0FBQTtFQUNBLGFBQUE7RUFDQSxrQkFBQTtFQUNBLHVCQUFBO0VBQ0EsZUFBQTtBQUlGO0FBREE7RUFDRSxVQUFBO0VBQ0EsZUFBQTtBQUlGIiwiZmlsZSI6InNyYy9hcHAvcGFnZXMvU1NUL2luaWNpby1wZXJtaXNvL2luaWNpby1wZXJtaXNvLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbImRpdi50b29sYmFyIHtcbiAgYmFja2dyb3VuZDogI2JlYjJiMjtcbiAgY29sb3I6ICNmZmY7XG4gIHBhZGRpbmc6IDAgMTZweDtcbiAgaGVpZ2h0OiA0OHB4O1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xuICBkaXNwbGF5OiBmbGV4O1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gIGlvbi10aXRsZSB7XG4gICAgY29sb3I6ICNmZmY7XG4gIH1cbiAgJi50b29sY29udGVudCB7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0taW9uLWNvbG9yLXByaW1hcnkpO1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgfVxufVxuaW9uLWl0ZW0ubW9zdHJhci11c3VhcmlvcyB7XG4gIC8qIHF1aXRhciBlc3RpbG9zICovXG4gIC0tYmFja2dyb3VuZDogbm9uZTtcbiAgLS1ib3JkZXItY29sb3I6IG5vbmU7XG4gIC0tYm9yZGVyLXN0eWxlOiBub25lO1xuICB3aWR0aDogMTAwJTtcbiAgYmFja2dyb3VuZDogdmFyKC0taW9uLWJhY2tncm91bmQtY29sb3IpO1xuICBjb2xvcjogdmFyKC0taW9uLWNvbG9yLXByaW1hcnkpO1xuICBwYWRkaW5nOiAwIDE2cHg7XG4gIGhlaWdodDogNDhweDtcbiAgd2lkdGg6IDEwMCU7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbn1cblxuYnV0dG9uLmd1YXJkYXItY29udGludWFyIHtcbiAgY29sb3I6ICNmZmY7XG4gIGJhY2tncm91bmQ6ICM0YjlhNDkgIWltcG9ydGFudDtcbiAgbWFyZ2luLXRvcDogMTBweDtcbiAgYm9yZGVyLXJhZGl1czogMjRweDtcbiAgd2lkdGg6IDgwJTtcbiAgaGVpZ2h0OiAyNHB4O1xuICBmb250LXNpemU6IDE0cHg7XG4gIGZvbnQtd2VpZ2h0OiA1MDA7XG4gIHRleHQtdHJhbnNmb3JtOiBub25lO1xuICBib3JkZXI6IG5vbmU7XG4gIG91dGxpbmU6IG5vbmU7XG4gIGN1cnNvcjogcG9pbnRlcjtcbiAgdHJhbnNpdGlvbjogYWxsIDAuM3MgZWFzZTtcbn1cblxuLmJ0bi1wb3NpdGlvbiB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xuICBtYXJnaW4tdG9wOiAxMHB4O1xuICBtYXJnaW4tbGVmdDogMTBweDtcbiAgbWFyZ2luLXJpZ2h0OiAxMHB4O1xuICBtYXJnaW4tYm90dG9tOiAxMHB4O1xuICBjb2xvcjogdmFyKC0taW9uLWNvbG9yLXByaW1hcnkpO1xuICBib3JkZXItcmFkaXVzOiA4cHg7XG4gIHdpZHRoOiA0MHB4O1xuICBoZWlnaHQ6IDQwcHg7XG4gIGZvbnQtc2l6ZTogMjRweDtcbiAgZm9udC13ZWlnaHQ6IDUwMDtcbiAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTtcbiAgYm9yZGVyOiBub25lO1xuICBoZWlnaHQ6IDIwcHg7XG59XG5cbi5yZXF1aWVyZWRRdWVzIHtcbiAgY29sb3I6IHJlZDtcbn1cblxuaW9uLWNvbC5sYWJlbC1ib3R0b20ge1xuICBhbGlnbi1zZWxmOiBmbGV4LWVuZCAhaW1wb3J0YW50O1xuICBtYXJnaW4tdG9wOiBhdXRvICFpbXBvcnRhbnQ7XG59XG5cbmlvbi1pdGVtLmJvcmRlciB7XG4gIGhlaWdodDogNDVweDtcbiAgYm9yZGVyOiAxcHggc29saWQgIzgwODA4MDtcbiAgYm9yZGVyLXJhZGl1czogMTBweDtcbn1cbnAuY291bnRlciB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIG1hcmdpbi10b3A6IDA7XG4gIGNvbG9yOiB2YXIoLS1pb24tY29sb3ItcHJpbWFyeSk7XG59XG5cbi5jZW50ZXItdWJpIHtcbiAgd2lkdGg6IDgwJTtcbiAgZGlzcGxheTogZmxleDtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gIHVzZXItc2VsZWN0OiBub25lO1xuICBib3JkZXI6IDFweCBzb2xpZCAjODA4MDgwO1xuICBoZWlnaHQ6IDQwcHg7XG59XG4uY2VudGVyLXRyYWJhamFkb3JlcyB7XG4gIHdpZHRoOiAxMDAlO1xuICBkaXNwbGF5OiBmbGV4O1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICBmb250LXNpemU6IDE3cHg7XG59XG5cbi5lcnJvci1tZXNzYWdlIHtcbiAgY29sb3I6IHJlZDtcbiAgZm9udC1zaXplOiAxMHB4O1xufVxuIl19 */\";","import { Component, OnInit } from '@angular/core';\r\nimport { Geoposition } from '@ionic-native/geolocation/ngx';\r\nimport { ModalController } from '@ionic/angular';\r\nimport { ModalTrabajadoresComponent } from 'src/app/components/modal-trabajadores/modal-trabajadores.component';\r\nimport { CurrentPostitionService } from 'src/app/services/SST/current-postition.service';\r\nimport { AlertController } from '@ionic/angular';\r\nimport { Router } from '@angular/router';\r\nimport { SaveDataService } from 'src/app/services/SST/save-data.service';\r\nimport { EDGuardarPermisoTrabajoAPP } from 'src/app/interfaces/edguardar-permiso-trabajo-app';\r\nimport { ContextService } from 'src/app/services/context.service';\r\nimport { Device } from '@ionic-native/device/ngx';\r\nimport { TablaTrabajadoresService } from 'src/app/services/SST/tabla-trabajadores.service';\r\nimport { SekectedItemsServiceService } from 'src/app/services/SST/sekected-items-service.service';\r\n\r\nconst options: Intl.DateTimeFormatOptions = {\r\n  weekday: 'long',\r\n  year: 'numeric',\r\n  month: 'long',\r\n  day: 'numeric',\r\n  hour: '2-digit',\r\n  minute: '2-digit',\r\n  second: '2-digit',\r\n};\r\n\r\n@Component({\r\n  selector: 'app-inicio-permiso',\r\n  templateUrl: './inicio-permiso.page.html',\r\n  styleUrls: ['./inicio-permiso.page.scss'],\r\n})\r\nexport class InicioPermisoPage implements OnInit {\r\n  data: EDGuardarPermisoTrabajoAPP;\r\n  locationDivice: Geoposition = null;\r\n  boolLocationDivice: boolean = false;\r\n  location: string = ' Ubicación';\r\n  horaInicioActividad: Date = null;\r\n  boolHoraInicioActividad: boolean = false;\r\n  strHoraInicioActividad: String;\r\n  horaFinActividad: Date = null;\r\n  ubicacionTrabajo: string = null;\r\n  boolUbicacionTrabajo: boolean = false;\r\n  alturaActividad: string = null;\r\n  alturaActividadNumber: number = null;\r\n  boolAlturaActividad: boolean = false;\r\n  permisoUbicacion: boolean;\r\n  fechaInicio: String;\r\n  contadorUbicion: number = 0;\r\n\r\n  metros: number = 0;\r\n  centimetros: number = 0;\r\n\r\n  constructor(\r\n    public modalController: ModalController,\r\n    private currentPostitionService: CurrentPostitionService,\r\n    private alertController: AlertController,\r\n    private router: Router,\r\n    private dataService: SaveDataService,\r\n    private context: ContextService,\r\n    private device: Device,\r\n    private tablaTrabajadoresService: TablaTrabajadoresService,\r\n    private selectedItemsService: SekectedItemsServiceService\r\n  ) {\r\n    this.precargarDatos();\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.permisoUbicacion = localStorage.getItem('permisoUbicacion') == 'true' ? true : false;\r\n  }\r\n\r\n  verTrabajadores() {\r\n    this.modalController\r\n      .create({\r\n        component: ModalTrabajadoresComponent,\r\n      })\r\n      .then(modal => {\r\n        modal.present();\r\n      });\r\n  }\r\n\r\n  async authCurrentPosition() {\r\n    if (this.permisoUbicacion) {\r\n      this.getCurrentPosition();\r\n      return;\r\n    }\r\n    const alert = await this.alertController.create({\r\n      header: '¿Autorizas el acceso a la ubicación de este dispositivo para registrarla en el permiso?',\r\n      buttons: [\r\n        {\r\n          text: 'Aceptar',\r\n          handler: () => {\r\n            this.getCurrentPosition();\r\n            localStorage.setItem('permisoUbicacion', 'true');\r\n            this.boolLocationDivice = false;\r\n          },\r\n        },\r\n        'Cancelar',\r\n      ],\r\n    });\r\n    alert.present();\r\n  }\r\n\r\n  private getCurrentPosition() {\r\n    console.log('getCurrentPosition');\r\n    this.currentPostitionService.verificarPermisos().then(async () => {\r\n      /*  locationDivice ficticia */\r\n      // this.locationDivice = {\r\n      //   coords: {\r\n      //     latitude: 4.60971345345345345,\r\n      //     longitude: -74.123456789101112,\r\n      //   },\r\n      // } as Geoposition;\r\n      await this.currentPostitionService.getCurrentPosition();\r\n      this.locationDivice = this.currentPostitionService.getLocationDevice();\r\n      if (!this.locationDivice) {\r\n        this.boolLocationDivice = true;\r\n        this.mostrarError('No se pudo obtener la ubicación del dispositivo, intenta nuevamente. Verifica que el GPS este activado.');\r\n        return;\r\n      }\r\n      let latitud =\r\n        this.locationDivice.coords.latitude.toString().length > 10\r\n          ? this.locationDivice.coords.latitude.toString().substring(0, 10)\r\n          : this.locationDivice.coords.latitude.toString();\r\n      let longitud =\r\n        this.locationDivice.coords.longitude.toString().length > 10\r\n          ? this.locationDivice.coords.longitude.toString().substring(0, 10)\r\n          : this.locationDivice.coords.longitude.toString();\r\n      this.location = `  ${latitud}, ${longitud}`;\r\n      this.boolLocationDivice = false;\r\n    });\r\n  }\r\n\r\n  async continuar() {\r\n    if (!this.locationDivice) {\r\n      this.boolLocationDivice = true;\r\n      this.mostrarError('Debes autorizar el acceso a la ubicación de este dispositivo para continuar.');\r\n      return;\r\n    }\r\n\r\n    if (!(await this.compararFechas())) {\r\n      return;\r\n    }\r\n    this.boolUbicacionTrabajo = false;\r\n    if (!this.ubicacionTrabajo) {\r\n      this.mostrarError('Debes ingresar la dirección del trabajo para continuar.');\r\n      this.boolUbicacionTrabajo = true;\r\n      return;\r\n    }\r\n\r\n    if (this.chechNumberAltura() == false) {\r\n      return;\r\n    }\r\n    await this.guardarDatos();\r\n    this.router.navigate(['/home/permisos/registro-permiso/crear-permiso/inicio-permiso/seccion-general']);\r\n  }\r\n\r\n  private async compararFechas(): Promise<boolean> {\r\n    let hi = new Date(this.horaInicioActividad);\r\n    let hf = new Date(this.horaFinActividad);\r\n    if (this.horaInicioActividad == null || this.horaFinActividad == null) {\r\n      const alert = await this.alertController.create({\r\n        header: 'Alerta',\r\n        message: 'Debes ingresar la hora de inicio y la hora de fin de la actividad para continuar.',\r\n        buttons: ['OK'],\r\n      });\r\n      alert.present();\r\n      this.boolHoraInicioActividad = true;\r\n      return false;\r\n    }\r\n\r\n    if (hi > hf) {\r\n      const alert = await this.alertController.create({\r\n        header: 'Alerta',\r\n        message: 'La hora de inicio no puede ser mayor o igual a la hora de fin.',\r\n        buttons: ['OK'],\r\n      });\r\n      alert.present();\r\n      this.boolHoraInicioActividad = true;\r\n      return false;\r\n    }\r\n\r\n    if (hi.getHours() === hf.getHours() && hi.getMinutes() === hf.getMinutes()) {\r\n      // Las horas y minutos son iguales\r\n      const alert = await this.alertController.create({\r\n        header: 'Alerta',\r\n        message: 'La hora de inicio no puede ser mayor o igual a la hora de fin.',\r\n        buttons: ['OK'],\r\n      });\r\n      alert.present();\r\n      this.boolHoraInicioActividad = true;\r\n      return false;\r\n    }\r\n    this.boolHoraInicioActividad = false;\r\n    return true;\r\n  }\r\n\r\n  private async mostrarError(message: string) {\r\n    const alert = await this.alertController.create({\r\n      header: 'Alerta',\r\n      message: message,\r\n      buttons: ['OK'],\r\n    });\r\n    alert.present();\r\n  }\r\n\r\n  async guardarDatos() {\r\n    await this.infoAuditoria();\r\n    this.selectedItemsService.selectedItems = [];\r\n    this.data.FechaYHoraFinActDate = this.horaFinActividad;\r\n    this.data['dtmFechaYHoraFinAct'] = this.horaFinActividad;\r\n    this.data['strFechaYHoraFinAct'] = new Date(this.horaFinActividad).toLocaleDateString('es-ES', options);\r\n    this.data['strFechaYHoraInicioAct'] = this.data['strFechaRegistro'];\r\n    this.data['strUbicacionTrabajo'] = this.ubicacionTrabajo;\r\n    this.data['dblAlturaActividad'] = this.alturaActividadNumber;\r\n    this.data['lastRoute'] = '/home/permisos/registro-permiso/crear-permiso/inicio-permiso';\r\n    this.data['metros'] = this.metros;\r\n    this.data['centimetros'] = this.centimetros;\r\n    this.dataService.setData(this.data);\r\n    this.dataService.saveData();\r\n  }\r\n\r\n  precargarDatos() {\r\n    const dataUrl = history.state.data;\r\n    console.log(dataUrl, 'dataUrl-inicio-permiso');\r\n    if (dataUrl) {\r\n      console.log('entro a precargar datos');\r\n      this.tablaTrabajadoresService.setListaTrabajadores(dataUrl['listaTrabajadoresMigrados']);\r\n      this.dataService.setData(dataUrl);\r\n      this.data = dataUrl;\r\n      console.log(this.data);\r\n      this.horaInicioActividad = dataUrl.dtmFechaYHoraInicioAct;\r\n      this.horaFinActividad = dataUrl.dtmFechaYHoraFinAct;\r\n      this.ubicacionTrabajo = dataUrl.strUbicacionTrabajo;\r\n      this.alturaActividad = dataUrl.dblAlturaActividad;\r\n      this.metros = dataUrl.metros;\r\n      this.centimetros = dataUrl.centimetros;\r\n      this.location = `  ${dataUrl.edInfoAuditoria.strLatitud}, ${dataUrl.edInfoAuditoria.strLongitud}`;\r\n      this.contadorUbicion = this.ubicacionTrabajo.length;\r\n      this.locationDivice = {\r\n        coords: {\r\n          latitude: dataUrl.edInfoAuditoria.strLatitud,\r\n          longitude: dataUrl.edInfoAuditoria.strLongitud,\r\n        },\r\n      } as Geoposition;\r\n    } else {\r\n      this.data = this.dataService.getData();\r\n      this.tablaTrabajadoresService.setListaTrabajadores(this.data['listaTrabajadoresMigrados']);\r\n      // this.horaInicioActividad = this.data['dtmFechaYHoraInicioAct'];\r\n      // this.horaFinActividad = this.data['dtmFechaYHoraFinAct'];\r\n      this.ubicacionTrabajo = this.data['strUbicacionTrabajo'];\r\n      this.metros = this.data['metros'];\r\n      this.centimetros = this.data['centimetros'];\r\n      // this.location = `  ${this.data['edInfoAuditoria'].strLatitud}, ${this.data['edInfoAuditoria'].strLongitud}`;\r\n    }\r\n    this.fechaInicio = this.formatearFecha(this.data['dtmFechaRegistro'].toString());\r\n    this.horaInicioActividad = this.data['dtmFechaRegistro'];\r\n    this.strHoraInicioActividad = this.formatearHora(this.data['dtmFechaRegistro']);\r\n  }\r\n\r\n  async infoAuditoria() {\r\n    let user = await this.context.get();\r\n\r\n    this.data['edInfoAuditoria'].strLatitud = this.locationDivice.coords.latitude.toString();\r\n    this.data['edInfoAuditoria'].strLongitud = this.locationDivice.coords.longitude.toString();\r\n    this.data['edInfoAuditoria'].strDocumentoEmpresa = user['_empresa'].documentoEmp;\r\n    this.data['edInfoAuditoria'].strNombreEmpresa = user['_empresa'].razonSocial;\r\n    this.data['edInfoAuditoria'].strTipoDocEmpresa = user['_empresa'].tipoDocumento;\r\n\r\n    this.data['edInfoAuditoria'].strIdentificacionUsuario = user['_trabajador'].id.toString();\r\n    this.data['edInfoAuditoria'].strNombreUsuario = user['_trabajador'].nombre;\r\n    this.data['strCorreoUsuarioElaboroPermiso'] = user['_trabajador'].correo;\r\n    this.data['edInfoAuditoria'].strUUID = this.device.uuid ? this.device.uuid : 'web';\r\n\r\n    this.data['strNumeroDocumento'] = user['_empresa'].id.toString();\r\n    this.data['strRazonSocial'] = user['_empresa'].razonSocial;\r\n    this.data['strTipoDocumento'] = user['_empresa'].tipoDocumento;\r\n\r\n    this.data['CorreoUsuarioElaboroPermiso'] = user['_trabajador'].correo;\r\n  }\r\n\r\n  onChangeFin(event: any) {\r\n    this.horaFinActividad = event.detail.value;\r\n  }\r\n\r\n  chechNumberAltura(): boolean {\r\n    if (this.metros == null || this.centimetros == null) {\r\n      this.mostrarError('Debes ingresar la altura de la actividad para continuar.');\r\n      this.boolAlturaActividad = true;\r\n      return false;\r\n    }\r\n\r\n    if (this.centimetros > 99) {\r\n      this.mostrarError('Los centimetros no pueden ser mayor a 99');\r\n      this.boolAlturaActividad = true;\r\n      return false;\r\n    }\r\n    this.metros = Math.floor(this.metros);\r\n    this.alturaActividadNumber = this.metros + this.centimetros / 100;\r\n    if (this.alturaActividadNumber <= 1.49) {\r\n      this.mostrarError('La altura de la actividad debe ser mayor a 1.50');\r\n      this.boolAlturaActividad = true;\r\n      return false;\r\n    }\r\n    this.alturaActividad = this.alturaActividadNumber.toString();\r\n    this.boolAlturaActividad = false;\r\n    return true;\r\n  }\r\n\r\n  back() {\r\n    this.router.navigate(['/home/permisos/registro-permiso/crear-permiso'], { state: { data: this.data } });\r\n  }\r\n\r\n  private formatearFecha(fecha: string): string {\r\n    const date = new Date(fecha);\r\n\r\n    const dia = date.getDate();\r\n    const mes = date.getMonth() + 1;\r\n    const anio = date.getFullYear();\r\n\r\n    const fechaFormateada = `${dia.toString().padStart(2, '0')}/${mes.toString().padStart(2, '0')}/${anio.toString()}`;\r\n\r\n    return fechaFormateada;\r\n  }\r\n\r\n  private formatearHora(fecha: Date): string {\r\n    const date = new Date(fecha);\r\n\r\n    const hora = date.getHours();\r\n    const minutos = date.getMinutes();\r\n\r\n    const horaFormateada = `${hora.toString().padStart(2, '0')}:${minutos.toString().padStart(2, '0')}`;\r\n\r\n    return horaFormateada;\r\n  }\r\n\r\n  actualizarContador(event: any) {\r\n    if (event.target.value.length == 0) {\r\n      this.contadorUbicion = 0;\r\n      return;\r\n    }\r\n    this.contadorUbicion = event.target.value.length;\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\nimport { Geolocation } from 'src/app/entities/condiciones-salud';\nimport { Geolocation as GeolocationService, Geoposition } from '@ionic-native/geolocation/ngx';\nimport { UtilsService } from 'src/app/services/utils.service';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class CurrentPostitionService {\n  locationDevice: Geoposition = null;\n\n  constructor(private utils: UtilsService, private geolocation: GeolocationService) {}\n\n  getLocationDevice(): Geoposition {\n    return this.locationDevice;\n  }\n\n  async getCurrentPosition(): Promise<void> {\n    try {\n      await this.utils.presentLoading();\n      this.geolocation\n        .getCurrentPosition()\n        .then(resp => {\n          this.onFinally(resp.coords.latitude.toString(), resp.coords.longitude.toString());\n          this.locationDevice = resp;\n        })\n        .catch(error => {\n          console.log('Error getting location', error);\n        });\n    } catch (error) {\n      console.error('Error al obtener la ubicación:', error);\n      this.onFinally();\n    } finally {\n      this.utils.dismissLoading();\n    }\n  }\n\n  private onFinally(latitude?: string, longitude?: string): void {\n    this.utils.dismissLoading();\n\n    const geolocation = new Geolocation();\n    geolocation.latitude = latitude;\n    geolocation.longitude = longitude;\n  }\n\n  async verificarPermisos() {\n    console.log('El navegador admite la API de permisos de geolocalización');\n    if ('permissions' in navigator) {\n      try {\n        const result = await navigator.permissions.query({ name: 'geolocation' });\n\n        if (result.state === 'granted') {\n          this.getCurrentPosition();\n        } else if (result.state === 'prompt') {\n          console.log('Los permisos aún no se han otorgado');\n        } else if (result.state === 'denied') {\n          console.log('Los permisos están denegados');\n          window.location.href = 'app-settings:';\n        }\n      } catch (error) {\n        console.error('Error al verificar los permisos de geolocalización:', error);\n      }\n    }\n  }\n}\n","import { Injectable } from '@angular/core';\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class SekectedItemsServiceService {\r\n  selectedItems = {};\r\n\r\n  constructor() {}\r\n\r\n  getSelectedItems() {\r\n    return this.selectedItems;\r\n  }\r\n\r\n  setSelectedItems(items) {\r\n    this.selectedItems = items;\r\n  }\r\n}\r\n"]}