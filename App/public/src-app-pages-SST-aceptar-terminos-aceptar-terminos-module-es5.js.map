{"version":3,"sources":["webpack:///src/app/pages/SST/aceptar-terminos/aceptar-terminos.page.html","webpack:///src/app/pages/SST/aceptar-terminos/aceptar-terminos-routing.module.ts","webpack:///src/app/pages/SST/aceptar-terminos/aceptar-terminos.module.ts","webpack:///src/app/pages/SST/aceptar-terminos/aceptar-terminos.page.scss","webpack:///src/app/pages/SST/aceptar-terminos/aceptar-terminos.page.ts"],"names":["routes","path","component","loadChildren","then","m","PreviewPageModule","FirmarPageModule","FirmarSiPageModule","AceptarTerminosPageRoutingModule","imports","forChild","exports","AceptarTerminosPageModule","declarations","AceptarTerminosPage","router","alertController","saveDataService","utils","dataService","dataBaseService","tablaTrabajadoresService","modalController","context","selectedItemsService","getData","get","response","console","log","usuario","create","modal","present","reponsble","lat","data","strLatitud","lng","strLongitud","autorizacion","strCargo","_cargo","strNombreCompleto","_nombre","strTipoDocumento","_tipoDocumento","strDocumentoIdentificacion","_id","strFirmaBase64","setData","autorizado","mostrarError","navigate","getTablaTrabajadores","length","listaItemSeleccionados","forEach","element","index","JSON","aplanar","concat","map","subArray","Array","isArray","filter","item","stringify","enviar","message","header","buttons","alert","dataUrl","history","state","presentLoading","setListaTrabajadores","dismissLoading","saveData","enviarPermisoTrabajo","status","open","usuarios","deleteTrabajadorMigrado","deleteEDGuardarPermisoTrabajoAPP","setSelectedItems","replaceUrl","error","selector","template"],"mappings":"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","file":"src-app-pages-SST-aceptar-terminos-aceptar-terminos-module-es5.js","sourcesContent":["export default \"<ion-header>\\n  <app-nav-bar></app-nav-bar>\\n  <div style=\\\"display: flex; align-items: center\\\" class=\\\"toolbar\\\">\\n    <span> <ion-img style=\\\"width: 32px; height: 32px; margin-right: 12px\\\" src=\\\"assets/img/carbon_result-draft.svg\\\"></ion-img> </span>\\n    <ion-title style=\\\"color: #7e7e7e; padding: 0\\\"><strong> PERMISOS DE TRABAJO</strong></ion-title>\\n    <ion-icon style=\\\"color: #ff7500; width: 24px; height: 24px\\\" name=\\\"chevron-down-outline\\\"></ion-icon>\\n  </div>\\n</ion-header>\\n\\n<ion-content>\\n  <div>\\n    <ion-item class=\\\"mostrar-usuarios\\\">\\n      <p class=\\\"center-trabajadores\\\" (click)=\\\"verTrabajadores()\\\">\\n        <ion-icon style=\\\"font-size: 1.1rem\\\" name=\\\"people\\\"></ion-icon>Ver Trabajadores\\n      </p>\\n      <ion-icon (click)=\\\"back()\\\" name=\\\"chevron-back-outline\\\" slot=\\\"start\\\"></ion-icon>\\n    </ion-item>\\n  </div>\\n  <div class=\\\"toolbar toolcontent\\\">\\n    <ion-icon style=\\\"width: 24px; height: 24px\\\" name=\\\"checkmark-done-outline\\\"></ion-icon>\\n    <ion-title>Resultado del Permiso</ion-title>\\n  </div>\\n  <ion-card-title class=\\\"title-dy ion-padding\\\" style=\\\"text-align: center !important; color: #ff7500\\\">\\n    <ion-label style=\\\"color: #ff7500; text-transform: none\\\">\\n      ¿La persona que autoriza el permiso de trabajo en alturas tambien es responsable de activar el plan de emergencia?\\n    </ion-label>\\n  </ion-card-title>\\n  <ion-card-content>\\n    <ion-radio-group [(ngModel)]=\\\"reponsble\\\" class=\\\"horizontal\\\" mode=\\\"md\\\">\\n      <ion-item>\\n        <ion-label>SI</ion-label>\\n        <ion-radio slot=\\\"start\\\" value=\\\"si\\\"></ion-radio>\\n      </ion-item>\\n      <ion-item>\\n        <ion-label>NO</ion-label>\\n        <ion-radio slot=\\\"start\\\" value=\\\"no\\\"></ion-radio>\\n      </ion-item>\\n    </ion-radio-group>\\n  </ion-card-content>\\n  <ion-card-title>\\n    <ion-label class=\\\"title-dy\\\">\\n      <span style=\\\"color: #ff7500\\\">*</span> Una vez verificada las condiciones de trabajo para el desarrollo de la actividad, el estado del\\n      permiso de trabajo en alturas es\\n    </ion-label>\\n  </ion-card-title>\\n  <ion-card-content>\\n    <ion-radio-group [(ngModel)]=\\\"autorizado\\\" class=\\\"horizontal\\\" mode=\\\"md\\\">\\n      <ion-item>\\n        <ion-label style=\\\"display: flex !important\\\" class=\\\"text-auto\\\"\\n          >Autorizado <ion-icon style=\\\"color: green; font-size: 19px\\\" name=\\\"happy\\\"></ion-icon\\n        ></ion-label>\\n        <ion-radio slot=\\\"start\\\" value=\\\"Autorizado 😀\\\"></ion-radio>\\n      </ion-item>\\n      <ion-item>\\n        <ion-label style=\\\"display: flex !important\\\" class=\\\"text-auto\\\"\\n          >Negado <ion-icon style=\\\"color: red; font-size: 19px\\\" name=\\\"sad\\\"></ion-icon\\n        ></ion-label>\\n        <ion-radio slot=\\\"start\\\" value=\\\"Negado 😕\\\"></ion-radio>\\n      </ion-item>\\n    </ion-radio-group>\\n  </ion-card-content>\\n  <!--  -->\\n  <div class=\\\"ion-padding\\\">\\n    <button class=\\\"guardar-continuar\\\" expand=\\\"block\\\" color=\\\"primary\\\" (click)=\\\"visualizar()\\\">Visualizar Permiso</button>\\n    <br />\\n    <br />\\n    <button *ngIf=\\\"reponsble === 'no'\\\" class=\\\"guardar-firmar\\\" expand=\\\"block\\\" color=\\\"success\\\" (click)=\\\"firmar()\\\">\\n      Firmar Permiso Trabajo\\n    </button>\\n  </div>\\n  <br />\\n  <ion-card-title style=\\\"padding: 32px\\\">\\n    <ion-label class=\\\"title-dy\\\">\\n      <span style=\\\"color: #ff7500\\\">*</span> Al enviar el formulario está autorizando el uso de su firma únicamente para el permiso de\\n      trabajo para la actividad descrita previamente. La política de tratamiento de la información la puede consultar en\\n      <a href=\\\"https://www.positiva.gov.co\\\" style=\\\"color: #000 !important\\\"><u>https://www.positiva.gov.co</u></a>\\n    </ion-label>\\n  </ion-card-title>\\n  <br />\\n  <div class=\\\"ion-padding ion-text-center\\\">\\n    <button class=\\\"guardar-enviar\\\" style=\\\"width: 40%\\\" color=\\\"secondary\\\" (click)=\\\"preenviar()\\\">\\n      <ion-icon style=\\\"transform: rotate(308deg)\\\" name=\\\"send\\\"></ion-icon>Enviar\\n    </button>\\n  </div>\\n</ion-content>\\n\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { AceptarTerminosPage } from './aceptar-terminos.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: AceptarTerminosPage,\n  },\n  {\n    path: 'preview',\n    loadChildren: () => import('src/app/pages/SST/preview/preview.module').then(m => m.PreviewPageModule),\n  },\n  {\n    path: 'firmar',\n    loadChildren: () => import('src/app/pages/SST/firmar/firmar.module').then(m => m.FirmarPageModule),\n  },\n  {\n    path: 'firmar-si',\n    loadChildren: () => import('src/app/pages/SST/firmar-si/firmar-si.module').then(m => m.FirmarSiPageModule),\n  },\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class AceptarTerminosPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { AceptarTerminosPageRoutingModule } from './aceptar-terminos-routing.module';\n\nimport { AceptarTerminosPage } from './aceptar-terminos.page';\nimport { SharedModule } from 'src/app/shared.module';\n\n@NgModule({\n  imports: [CommonModule, FormsModule, IonicModule, AceptarTerminosPageRoutingModule, SharedModule],\n  declarations: [AceptarTerminosPage],\n})\nexport class AceptarTerminosPageModule {}\n","export default \"div.toolbar {\\n  background: #beb2b2;\\n  color: #fff;\\n  padding: 0 16px;\\n  height: 48px;\\n  align-items: center;\\n  display: flex;\\n  text-align: center;\\n}\\ndiv.toolbar ion-title {\\n  color: #fff;\\n}\\ndiv.toolbar.toolcontent {\\n  background-color: var(--ion-color-primary);\\n}\\nbutton {\\n  color: #fff;\\n  border-radius: 24px;\\n  width: 100%;\\n  height: 40px;\\n  font-size: 14px;\\n  font-weight: 700;\\n  border: none;\\n  outline: none;\\n  cursor: pointer;\\n  transition: all 0.3s ease;\\n}\\nbutton.guardar-continuar {\\n  background: var(--ion-color-primary);\\n}\\nbutton.guardar-firmar {\\n  background: var(--ion-color-success);\\n}\\nbutton.guardar-enviar {\\n  background: var(--ion-color-primary);\\n}\\nion-label {\\n  margin-top: 12px;\\n  margin-bottom: auto;\\n  padding: auto;\\n  font-size: 16px;\\n  font-weight: 500;\\n  text-transform: uppercase;\\n  color: #000;\\n  text-align: justify;\\n}\\nion-label .text-auto {\\n  font-size: 8px;\\n  text-transform: none;\\n}\\nion-item {\\n  /* quitar estilos */\\n  --background: none;\\n  --border-color: none;\\n  --border-style: none;\\n}\\nion-item.mostrar-usuarios {\\n  /* quitar estilos */\\n  --background: none;\\n  --border-color: none;\\n  --border-style: none;\\n  width: 100%;\\n  background: var(--ion-background-color);\\n  color: var(--ion-color-primary);\\n  padding: 0 16px;\\n  height: 48px;\\n  width: 100%;\\n  align-items: center;\\n  display: flex;\\n  text-align: center;\\n}\\nion-card-title {\\n  text-transform: none;\\n  font-size: 1.1rem;\\n  font-weight: 500;\\n  color: #000;\\n  text-align: justify;\\n}\\nion-radio-group.horizontal {\\n  display: flex;\\n  flex-direction: row;\\n  justify-content: space-between;\\n  align-items: center;\\n  width: 100%;\\n  margin: 0;\\n  padding: 0;\\n}\\nion-radio-group.horizontal ion-item {\\n  margin: 0;\\n  padding: 0;\\n  width: 100%;\\n}\\nion-radio-group.horizontal ion-item ion-label {\\n  margin: 0;\\n  padding: 0;\\n  width: 100%;\\n  font-size: 14px;\\n}\\nion-radio {\\n  margin-right: 8px !important;\\n}\\nion-card-content,\\nion-card {\\n  /* quitar padin izq der */\\n  padding: 0;\\n  padding-top: 8px;\\n  padding-bottom: 8px;\\n  width: 100%;\\n}\\nion-card-title {\\n  padding: 8px;\\n  justify-content: center;\\n  text-align: justify;\\n}\\nion-label.title-dy {\\n  color: var(--ion-text-color);\\n  text-transform: none;\\n}\\n.center-trabajadores {\\n  width: 100%;\\n  display: flex;\\n  text-align: center;\\n  justify-content: center;\\n  font-size: 17px;\\n}\\nion-card-content {\\n  display: flex !important;\\n}\\nion-radio-group {\\n  display: flex !important;\\n  align-items: center;\\n  justify-content: center !important;\\n}\\nion-radio-group ion-item {\\n  display: flex !important;\\n  align-items: center;\\n  justify-content: center;\\n  width: auto !important;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvU1NUL2FjZXB0YXItdGVybWlub3MvYWNlcHRhci10ZXJtaW5vcy5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxtQkFBQTtFQUNBLFdBQUE7RUFDQSxlQUFBO0VBQ0EsWUFBQTtFQUNBLG1CQUFBO0VBQ0EsYUFBQTtFQUNBLGtCQUFBO0FBQ0Y7QUFBRTtFQUNFLFdBQUE7QUFFSjtBQUFFO0VBQ0UsMENBQUE7QUFFSjtBQUVBO0VBQ0UsV0FBQTtFQUNBLG1CQUFBO0VBQ0EsV0FBQTtFQUNBLFlBQUE7RUFDQSxlQUFBO0VBQ0EsZ0JBQUE7RUFDQSxZQUFBO0VBQ0EsYUFBQTtFQUNBLGVBQUE7RUFDQSx5QkFBQTtBQUNGO0FBQUU7RUFDRSxvQ0FBQTtBQUVKO0FBQUU7RUFDRSxvQ0FBQTtBQUVKO0FBQUU7RUFDRSxvQ0FBQTtBQUVKO0FBRUE7RUFDRSxnQkFBQTtFQUNBLG1CQUFBO0VBQ0EsYUFBQTtFQUNBLGVBQUE7RUFDQSxnQkFBQTtFQUNBLHlCQUFBO0VBQ0EsV0FBQTtFQUNBLG1CQUFBO0FBQ0Y7QUFBRTtFQUNFLGNBQUE7RUFDQSxvQkFBQTtBQUVKO0FBRUE7RUFDRSxtQkFBQTtFQUNBLGtCQUFBO0VBQ0Esb0JBQUE7RUFDQSxvQkFBQTtBQUNGO0FBRUE7RUFDRSxtQkFBQTtFQUNBLGtCQUFBO0VBQ0Esb0JBQUE7RUFDQSxvQkFBQTtFQUNBLFdBQUE7RUFDQSx1Q0FBQTtFQUNBLCtCQUFBO0VBQ0EsZUFBQTtFQUNBLFlBQUE7RUFDQSxXQUFBO0VBQ0EsbUJBQUE7RUFDQSxhQUFBO0VBQ0Esa0JBQUE7QUFDRjtBQUVBO0VBQ0Usb0JBQUE7RUFDQSxpQkFBQTtFQUNBLGdCQUFBO0VBQ0EsV0FBQTtFQUNBLG1CQUFBO0FBQ0Y7QUFFQTtFQUNFLGFBQUE7RUFDQSxtQkFBQTtFQUNBLDhCQUFBO0VBQ0EsbUJBQUE7RUFDQSxXQUFBO0VBQ0EsU0FBQTtFQUNBLFVBQUE7QUFDRjtBQUFFO0VBQ0UsU0FBQTtFQUNBLFVBQUE7RUFDQSxXQUFBO0FBRUo7QUFESTtFQUNFLFNBQUE7RUFDQSxVQUFBO0VBQ0EsV0FBQTtFQUNBLGVBQUE7QUFHTjtBQUNBO0VBQ0UsNEJBQUE7QUFFRjtBQUFBOztFQUVFLHlCQUFBO0VBQ0EsVUFBQTtFQUNBLGdCQUFBO0VBQ0EsbUJBQUE7RUFDQSxXQUFBO0FBR0Y7QUFBQTtFQUNFLFlBQUE7RUFDQSx1QkFBQTtFQUNBLG1CQUFBO0FBR0Y7QUFBQTtFQUNFLDRCQUFBO0VBQ0Esb0JBQUE7QUFHRjtBQURBO0VBQ0UsV0FBQTtFQUNBLGFBQUE7RUFDQSxrQkFBQTtFQUNBLHVCQUFBO0VBQ0EsZUFBQTtBQUlGO0FBREE7RUFDRSx3QkFBQTtBQUlGO0FBRkE7RUFDRSx3QkFBQTtFQUNBLG1CQUFBO0VBQ0Esa0NBQUE7QUFLRjtBQUpFO0VBQ0Usd0JBQUE7RUFDQSxtQkFBQTtFQUNBLHVCQUFBO0VBQ0Esc0JBQUE7QUFNSiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL1NTVC9hY2VwdGFyLXRlcm1pbm9zL2FjZXB0YXItdGVybWlub3MucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiZGl2LnRvb2xiYXIge1xuICBiYWNrZ3JvdW5kOiAjYmViMmIyO1xuICBjb2xvcjogI2ZmZjtcbiAgcGFkZGluZzogMCAxNnB4O1xuICBoZWlnaHQ6IDQ4cHg7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgaW9uLXRpdGxlIHtcbiAgICBjb2xvcjogI2ZmZjtcbiAgfVxuICAmLnRvb2xjb250ZW50IHtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1pb24tY29sb3ItcHJpbWFyeSk7XG4gIH1cbn1cblxuYnV0dG9uIHtcbiAgY29sb3I6ICNmZmY7XG4gIGJvcmRlci1yYWRpdXM6IDI0cHg7XG4gIHdpZHRoOiAxMDAlO1xuICBoZWlnaHQ6IDQwcHg7XG4gIGZvbnQtc2l6ZTogMTRweDtcbiAgZm9udC13ZWlnaHQ6IDcwMDtcbiAgYm9yZGVyOiBub25lO1xuICBvdXRsaW5lOiBub25lO1xuICBjdXJzb3I6IHBvaW50ZXI7XG4gIHRyYW5zaXRpb246IGFsbCAwLjNzIGVhc2U7XG4gICYuZ3VhcmRhci1jb250aW51YXIge1xuICAgIGJhY2tncm91bmQ6IHZhcigtLWlvbi1jb2xvci1wcmltYXJ5KTtcbiAgfVxuICAmLmd1YXJkYXItZmlybWFyIHtcbiAgICBiYWNrZ3JvdW5kOiB2YXIoLS1pb24tY29sb3Itc3VjY2Vzcyk7XG4gIH1cbiAgJi5ndWFyZGFyLWVudmlhciB7XG4gICAgYmFja2dyb3VuZDogdmFyKC0taW9uLWNvbG9yLXByaW1hcnkpO1xuICB9XG59XG5cbmlvbi1sYWJlbCB7XG4gIG1hcmdpbi10b3A6IDEycHg7XG4gIG1hcmdpbi1ib3R0b206IGF1dG87XG4gIHBhZGRpbmc6IGF1dG87XG4gIGZvbnQtc2l6ZTogMTZweDtcbiAgZm9udC13ZWlnaHQ6IDUwMDtcbiAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTtcbiAgY29sb3I6ICMwMDA7XG4gIHRleHQtYWxpZ246IGp1c3RpZnk7XG4gICYgLnRleHQtYXV0byB7XG4gICAgZm9udC1zaXplOiA4cHg7XG4gICAgdGV4dC10cmFuc2Zvcm06IG5vbmU7XG4gIH1cbn1cblxuaW9uLWl0ZW0ge1xuICAvKiBxdWl0YXIgZXN0aWxvcyAqL1xuICAtLWJhY2tncm91bmQ6IG5vbmU7XG4gIC0tYm9yZGVyLWNvbG9yOiBub25lO1xuICAtLWJvcmRlci1zdHlsZTogbm9uZTtcbn1cblxuaW9uLWl0ZW0ubW9zdHJhci11c3VhcmlvcyB7XG4gIC8qIHF1aXRhciBlc3RpbG9zICovXG4gIC0tYmFja2dyb3VuZDogbm9uZTtcbiAgLS1ib3JkZXItY29sb3I6IG5vbmU7XG4gIC0tYm9yZGVyLXN0eWxlOiBub25lO1xuICB3aWR0aDogMTAwJTtcbiAgYmFja2dyb3VuZDogdmFyKC0taW9uLWJhY2tncm91bmQtY29sb3IpO1xuICBjb2xvcjogdmFyKC0taW9uLWNvbG9yLXByaW1hcnkpO1xuICBwYWRkaW5nOiAwIDE2cHg7XG4gIGhlaWdodDogNDhweDtcbiAgd2lkdGg6IDEwMCU7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbn1cblxuaW9uLWNhcmQtdGl0bGUge1xuICB0ZXh0LXRyYW5zZm9ybTogbm9uZTtcbiAgZm9udC1zaXplOiAxLjFyZW07XG4gIGZvbnQtd2VpZ2h0OiA1MDA7XG4gIGNvbG9yOiAjMDAwO1xuICB0ZXh0LWFsaWduOiBqdXN0aWZ5O1xufVxuXG5pb24tcmFkaW8tZ3JvdXAuaG9yaXpvbnRhbCB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGZsZXgtZGlyZWN0aW9uOiByb3c7XG4gIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgd2lkdGg6IDEwMCU7XG4gIG1hcmdpbjogMDtcbiAgcGFkZGluZzogMDtcbiAgaW9uLWl0ZW0ge1xuICAgIG1hcmdpbjogMDtcbiAgICBwYWRkaW5nOiAwO1xuICAgIHdpZHRoOiAxMDAlO1xuICAgIGlvbi1sYWJlbCB7XG4gICAgICBtYXJnaW46IDA7XG4gICAgICBwYWRkaW5nOiAwO1xuICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICBmb250LXNpemU6IDE0cHg7XG4gICAgfVxuICB9XG59XG5pb24tcmFkaW8ge1xuICBtYXJnaW4tcmlnaHQ6IDhweCAhaW1wb3J0YW50O1xufVxuaW9uLWNhcmQtY29udGVudCxcbmlvbi1jYXJkIHtcbiAgLyogcXVpdGFyIHBhZGluIGl6cSBkZXIgKi9cbiAgcGFkZGluZzogMDtcbiAgcGFkZGluZy10b3A6IDhweDtcbiAgcGFkZGluZy1ib3R0b206IDhweDtcbiAgd2lkdGg6IDEwMCU7XG59XG5cbmlvbi1jYXJkLXRpdGxlIHtcbiAgcGFkZGluZzogOHB4O1xuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgdGV4dC1hbGlnbjoganVzdGlmeTtcbn1cblxuaW9uLWxhYmVsLnRpdGxlLWR5IHtcbiAgY29sb3I6IHZhcigtLWlvbi10ZXh0LWNvbG9yKTtcbiAgdGV4dC10cmFuc2Zvcm06IG5vbmU7XG59XG4uY2VudGVyLXRyYWJhamFkb3JlcyB7XG4gIHdpZHRoOiAxMDAlO1xuICBkaXNwbGF5OiBmbGV4O1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICBmb250LXNpemU6IDE3cHg7XG59XG5cbmlvbi1jYXJkLWNvbnRlbnQge1xuICBkaXNwbGF5OiBmbGV4ICFpbXBvcnRhbnQ7XG59XG5pb24tcmFkaW8tZ3JvdXAge1xuICBkaXNwbGF5OiBmbGV4ICFpbXBvcnRhbnQ7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIGp1c3RpZnktY29udGVudDogY2VudGVyICFpbXBvcnRhbnQ7XG4gIGlvbi1pdGVtIHtcbiAgICBkaXNwbGF5OiBmbGV4ICFpbXBvcnRhbnQ7XG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgICB3aWR0aDogYXV0byAhaW1wb3J0YW50O1xuICB9XG59XG4iXX0= */\";","import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { AlertController, ModalController, Platform } from '@ionic/angular';\nimport { EDGuardarPermisoTrabajoAPP } from 'src/app/interfaces/edguardar-permiso-trabajo-app';\nimport { DataBaseService } from 'src/app/services/SST/data-base.service';\nimport { DataService } from 'src/app/services/SST/data.service';\nimport { SaveDataService } from 'src/app/services/SST/save-data.service';\nimport { TablaTrabajadoresService } from 'src/app/services/SST/tabla-trabajadores.service';\nimport { UtilsService } from 'src/app/services/utils.service';\nimport { ModalTrabajadoresComponent } from 'src/app/components/modal-trabajadores/modal-trabajadores.component';\nimport { TrabajadorMigrado } from 'src/app/interfaces/trabajador-migrado';\nimport { EDFirmaResponsablePermisoTrabajo } from 'src/app/interfaces/edfirma-responsable-permiso-trabajo';\nimport { ContextService } from 'src/app/services/context.service';\nimport { SekectedItemsServiceService } from 'src/app/services/SST/sekected-items-service.service';\n\n@Component({\n  selector: 'app-aceptar-terminos',\n  templateUrl: './aceptar-terminos.page.html',\n  styleUrls: ['./aceptar-terminos.page.scss'],\n})\nexport class AceptarTerminosPage implements OnInit {\n  reponsble: string;\n  autorizado: string;\n  data: EDGuardarPermisoTrabajoAPP;\n  usuariosPorLiberar: TrabajadorMigrado[];\n  usuario: any;\n\n  constructor(\n    private router: Router,\n    private alertController: AlertController,\n    private saveDataService: SaveDataService,\n    private utils: UtilsService,\n    private dataService: DataService,\n    private dataBaseService: DataBaseService,\n    private tablaTrabajadoresService: TablaTrabajadoresService,\n    public modalController: ModalController,\n    private context: ContextService,\n    private selectedItemsService: SekectedItemsServiceService\n  ) {}\n\n  ngOnInit() {\n    this.getData();\n    this.context.get().then(response => {\n      console.log(response['_trabajador']);\n      this.usuario = response['_trabajador'];\n    });\n  }\n\n  verTrabajadores() {\n    this.modalController\n      .create({\n        component: ModalTrabajadoresComponent,\n      })\n      .then(modal => {\n        modal.present();\n      });\n  }\n\n  async visualizar() {\n    if (this.reponsble === 'si') {\n      let lat = this.data['edInfoAuditoria'].strLatitud;\n      let lng = this.data['edInfoAuditoria'].strLongitud;\n      let autorizacion: EDFirmaResponsablePermisoTrabajo = {\n        strCargo: this.usuario._cargo,\n        strNombreCompleto: this.usuario._nombre,\n        strTipoDocumento: this.usuario._tipoDocumento,\n        strDocumentoIdentificacion: this.usuario._id,\n        strFirmaBase64: '',\n        strLatitud: lat,\n        strLongitud: lng,\n      };\n      this.data['edResponsableActivarPlanEmergencia'] = autorizacion;\n      this.data['edCoordinadorTrabajoAlturas'] = autorizacion;\n      this.data['edAutorizadoPermisoTrabajo'] = autorizacion;\n      this.data['enviar'] = true;\n      this.saveDataService.setData(this.data);\n    }\n    if (this.autorizado == null) {\n      this.mostrarError('Debes llenar el estado del permiso');\n      return;\n    }\n    this.router.navigate([\n      '/home/permisos/registro-permiso/crear-permiso/inicio-permiso/seccion-general/seccion-multiusos/seccion-plataforma/descripcion-actividad/proteccion-colectiva/evidencia/aceptar-terminos/preview',\n    ]);\n    this.data['Autorizado'] = this.autorizado;\n    if (this.autorizado === 'Autorizado 😀') {\n      this.data['blnPermisoAutorizado'] = true;\n    } else {\n      this.data['blnPermisoAutorizado'] = false;\n    }\n  }\n\n  firmar() {\n    if (this.reponsble == null || this.autorizado == null) {\n      this.mostrarError('Debes llenar todos los campos anteriores');\n      return;\n    }\n    if (this.tablaTrabajadoresService.getTablaTrabajadores().length === 0) {\n      this.mostrarError('Debes agregar trabajadores');\n      return;\n    }\n    if (this.reponsble === 'si') {\n      this.router.navigate([\n        '/home/permisos/registro-permiso/crear-permiso/inicio-permiso/seccion-general/seccion-multiusos/seccion-plataforma/descripcion-actividad/proteccion-colectiva/evidencia/aceptar-terminos/firmar-si',\n      ]);\n      return;\n    }\n    this.router.navigate([\n      '/home/permisos/registro-permiso/crear-permiso/inicio-permiso/seccion-general/seccion-multiusos/seccion-plataforma/descripcion-actividad/proteccion-colectiva/evidencia/aceptar-terminos/firmar',\n    ]);\n  }\n\n  preenviar() {\n    this.data = this.saveDataService.getData();\n    if (this.autorizado === 'Autorizado 😀') {\n      this.data['blnPermisoAutorizado'] = true;\n    } else {\n      this.data['blnPermisoAutorizado'] = false;\n    }\n    this.saveDataService.setData(this.data);\n\n    if (this.reponsble == null || this.autorizado == null) {\n      this.mostrarError('Debes llenar todos los campos anteriores');\n      return;\n    }\n    if (!this.data['enviar']) {\n      this.mostrarError('Visualiza el permiso antes de enviarlo o firmarlo');\n      return;\n    }\n    let listaItemSeleccionados = this.data['listaItemSeleccionados'];\n\n    listaItemSeleccionados.forEach((element, index) => {\n      console.log(JSON);\n    });\n    let aplanar = [].concat(\n      ...listaItemSeleccionados.map(subArray => (Array.isArray(subArray) ? subArray.filter(item => item !== null) : subArray))\n    );\n    this.data['listaItemSeleccionados'] = aplanar;\n    console.log(JSON.stringify(this.data['listaItemSeleccionados']));\n    this.enviar();\n  }\n\n  private async mostrarError(message: string) {\n    const alert = await this.alertController.create({\n      header: 'Alerta',\n      message: message,\n      buttons: ['OK'],\n    });\n    alert.present();\n  }\n\n  private async getData() {\n    const dataUrl = history.state.data;\n    await this.utils.presentLoading();\n    if (dataUrl) {\n      this.tablaTrabajadoresService.setListaTrabajadores(dataUrl['listaTrabajadoresMigrados']);\n      this.saveDataService.setData(dataUrl);\n      this.data = dataUrl;\n    } else {\n      console.log('dataUrl else');\n      this.data = this.saveDataService.getData();\n      this.saveDataService.setData(this.data);\n    }\n    console.log(this.data);\n    this.utils.dismissLoading();\n  }\n\n  async enviar() {\n    try {\n      await this.utils.presentLoading();\n      await this.saveDataService.saveData();\n      // await this.saveDataService.porLiberar(this.usuariosPorLiberar);\n      const { status, data } = await this.dataService.enviarPermisoTrabajo(this.data);\n\n      if (status === 200) {\n        this.alertController\n          .create({\n            header: 'Alerta',\n            message: 'Permiso enviado correctamente',\n            buttons: ['Aceptar'],\n          })\n          .then(alert => {\n            alert.present();\n          });\n        console.log('Permiso enviado:', data);\n        this.data['link'] = data;\n        this.dataBaseService.open().then(async () => {\n          let usuarios = this.data['listaTrabajadoresMigrados'];\n          usuarios.forEach(async usuario => {\n            await this.dataBaseService.deleteTrabajadorMigrado(usuario);\n          });\n          await this.dataBaseService.deleteEDGuardarPermisoTrabajoAPP(this.data);\n          this.utils.dismissLoading();\n          this.selectedItemsService.setSelectedItems([]);\n\n          this.router.navigate(['/home/permisos'], { replaceUrl: true });\n        });\n      } else {\n        this.alertController\n          .create({\n            header: 'Alerta',\n            message: 'No pudimos enviar el permiso, intenta nuevamente más tarde',\n            buttons: ['Aceptar'],\n          })\n          .then(alert => {\n            alert.present();\n            this.router.navigate(['/home/permisos'], { replaceUrl: true });\n          });\n      }\n    } catch (error) {\n      console.error('Error al enviar el permiso:', error);\n      this.alertController\n        .create({\n          header: 'Alerta',\n          message: 'No pudimos enviar el permiso, intenta nuevamente más tarde revisalo en pendientes',\n          buttons: ['Aceptar'],\n        })\n        .then(alert => {\n          alert.present();\n        });\n      this.router.navigate(['/home/permisos'], { replaceUrl: true });\n    } finally {\n      this.utils.dismissLoading();\n    }\n  }\n\n  back() {\n    this.router.navigate(\n      [\n        '/home/permisos/registro-permiso/crear-permiso/inicio-permiso/seccion-general/seccion-multiusos/seccion-plataforma/descripcion-actividad/proteccion-colectiva/evidencia',\n      ],\n      { state: { data: this.data } }\n    );\n  }\n}\n"]}