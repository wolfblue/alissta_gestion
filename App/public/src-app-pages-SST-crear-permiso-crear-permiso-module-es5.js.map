{"version":3,"sources":["webpack:///src/app/pages/SST/crear-permiso/crear-permiso.page.html","webpack:///src/app/interfaces/edfirma-responsable-permiso-trabajo.ts","webpack:///src/app/interfaces/edguardar-permiso-trabajo-app.ts","webpack:///src/app/pages/SST/crear-permiso/crear-permiso-routing.module.ts","webpack:///src/app/pages/SST/crear-permiso/crear-permiso.module.ts","webpack:///src/app/pages/SST/crear-permiso/crear-permiso.page.scss","webpack:///src/app/pages/SST/crear-permiso/crear-permiso.page.ts"],"names":["EDFirmaResponsablePermisoTrabajo","strTipoDocumento","strNombreCompleto","strDocumentoIdentificacion","strCargo","strFirmaBase64","strLatitud","strLongitud","options","weekday","year","month","day","hour","minute","second","EDGuardarPermisoTrabajoAPP","uniqueId","Date","now","toString","enviar","lastRoute","fk_ID_PermisoAlturas_MaestroTipoPermiso","strRazonSocial","strNumeroDocumento","strFechaRegistro","FechaRegistroDate","strFechaYHoraInicioAct","dtmFechaYHoraInicioAct","strFechaYHoraFinAct","dtmFechaYHoraFinAct","strUbicacionTrabajo","dblAlturaActividad","metros","centimetros","listaMaestroCuestionario","strTipoTrabajo","strAntesActividad","strDuranteActividad","strDespuesActividad","listaItemSeleccionados","listaTrabajadoresMigrados","strObservaciones","blnPermisoAutorizado","edAutorizadoPermisoTrabajo","edResponsableActivarPlanEmergencia","edCoordinadorTrabajoAlturas","listaAnexoImagenes","strCorreoUsuarioElaboroPermiso","edInfoAuditoria","razonSocial","tipoDocumento","numeroDocumento","fechaRegistro","dtmFechaRegistro","toLocaleDateString","fechaYHoraInicioAct","fechaYHoraFinAct","ubicacionTrabajo","alturaActividad","maestroCuestionario","tipoTrabajo","antesActividad","duranteActividad","despuesActividad","itemSeleccionados","trabajadoresMigrados","observaciones","permisoAutorizado","autorizadoPermisoTrabajo","responsableActivarPlanEmergencia","coordinadorTrabajoAlturas","anexoImagenes","correoUsuarioElaboroPermiso","infoAuditoria","routes","path","component","loadChildren","then","m","InicioPermisoPageModule","CrearPermisoPageRoutingModule","imports","forChild","exports","CrearPermisoPageModule","declarations","CrearPermisoPage","dataBaseService","tablaTrabajadoresService","router","alertController","saveDataService","utils","modalController","modalController2","modalControllerQr","chekInternet","dataService","context","tablaTrabajadores","listaTipoPermiso","tipoDeDocumento","showDialog","trabajadoresMarcados","currentPage","workersPerPage","habilitarEdicionCargo","trabajador","blnCodigoQR","strCargoTrabajador","strNombreTrabajador","blnAyudanteSeguridad","accion","Fk_ID_Empresa","PK_ID_PermisoAlturas_PersonasAMigrar","strNumeroDocumeto","console","log","tiposDePermiso","get","response","idEMpresa","id","precargarDatos","numeroDeDocumento","undefined","open","getTrabajador","testNetworkConnection","internet","mostrarError","limpiaCampos","presentLoading","user","blnAfiliadoEmpresaActivo","dismissLoading","addTrabajadorMigrado","prepararUser","error","close","create","modal","dismiss","present","componentProps","onDidDismiss","result","data","trabajadorActualizado","cargoTrabajador","addTrabajador","getTablaTrabajadores","totalPage","Math","ceil","length","tipoPermiso","getTrabajadoresChecked","getTrabajadoresNotChecked","guardarDatos","navigate","modalQr","usuario","JSON","parse","e","verdad","stringify","nomAsist","numAsistente","cargo","tiAsistente","strNumeroDocumentoEmpresa","numEmpr","strTipoDocumentoEmpresa","tiEmpr","trabajadoresChecked","setListaTrabajadores","forEach","blnActivo","updateTrabajadorMigrado","find","strDescripcion","PK_ID_PermisoAlturas_MaestroTipoPermiso","setData","saveData","event","detail","value","getAllTipoPermiso","subscribe","next","complete","getAllTrabajadoresMigrados","listaTrabajadores","filter","isChecked","checked","map","isOnCurrentPage","includes","push","index","indexOf","startIndex","endIndex","updatePage","trabajadoresEnPaginaActual","slice","todosMarcados","every","otrosMarcados","marcarTodos","message","header","buttons","alert","dataUrl","history","state","tipo","allTrabajadores","key","target","regex","RegExp","test","replace","selector","template"],"mappings":"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","file":"src-app-pages-SST-crear-permiso-crear-permiso-module-es5.js","sourcesContent":["export default \"<ion-header>\\n  <app-nav-bar></app-nav-bar>\\n  <div class=\\\"toolbar\\\">\\n    <ion-title>Registro permiso</ion-title>\\n  </div>\\n</ion-header>\\n\\n<ion-content>\\n  <div class=\\\"ion-padding\\\">\\n    <ion-label class=\\\"ion-padding\\\" style=\\\"font-weight: 700\\\">Permiso de Trabajo</ion-label>\\n    <ion-item class=\\\"border\\\">\\n      <ion-select [(ngModel)]=\\\"tipoPermiso\\\" (ionChange)=\\\"onChangePermiso($event)\\\" okText=\\\"Aceptar\\\" cancelText=\\\"Cancelar\\\">\\n        <ion-item *ngFor=\\\"let permiso of listaTipoPermiso\\\">\\n          <ion-select-option value=\\\"{{permiso.strDescripcion}}\\\">{{permiso.strDescripcion}}</ion-select-option>\\n        </ion-item>\\n      </ion-select>\\n    </ion-item>\\n    <br />\\n    <ion-label class=\\\"ion-padding\\\" style=\\\"font-weight: 700\\\">Tipo Documento</ion-label>\\n    <ion-item class=\\\"border\\\">\\n      <ion-select [(ngModel)]=\\\"tipoDeDocumento\\\" okText=\\\"Aceptar\\\" cancelText=\\\"Cancelar\\\">\\n        <ion-select-option value=\\\"CC\\\">Cédula de Ciudadanía</ion-select-option>\\n        <ion-select-option value=\\\"CE\\\">Cédula de Extranjería</ion-select-option>\\n        <ion-select-option value=\\\"PA\\\">Pasaporte</ion-select-option>\\n        <ion-select-option value=\\\"TI\\\">Tarjeta de Identidad</ion-select-option>\\n        <ion-select-option value=\\\"PT\\\">Permiso Trabajo</ion-select-option>\\n      </ion-select>\\n    </ion-item>\\n    <br />\\n    <ion-label class=\\\"ion-padding\\\" style=\\\"font-weight: 700\\\" position=\\\"floating\\\">Número Identificación</ion-label>\\n    <ion-row>\\n      <ion-col size=\\\"10\\\">\\n        <!-- label: numero de documento -->\\n        <ion-item class=\\\"border\\\" *ngIf=\\\"tipoDeDocumento !== 'PA'\\\">\\n          <ion-input\\n            type=\\\"number\\\"\\n            inputmode=\\\"numeric\\\"\\n            pattern=\\\"^[0-9]*$\\\"\\n            [(ngModel)]=\\\"numeroDeDocumento\\\"\\n            (keyup)=\\\"numberOnly($event)\\\"\\n          ></ion-input>\\n        </ion-item>\\n        <ion-item class=\\\"border\\\" *ngIf=\\\"tipoDeDocumento === 'PA'\\\">\\n          <ion-input type=\\\"text\\\" [(ngModel)]=\\\"numeroDeDocumento\\\"></ion-input>\\n        </ion-item>\\n      </ion-col>\\n      <ion-col size=\\\"2\\\" style=\\\"margin: 0; padding: 0\\\">\\n        <!-- btn buscar -->\\n        <ion-button style=\\\"font-size: 0\\\" fill=\\\"outline\\\" class=\\\"ion-text-end\\\" expand=\\\"block\\\" color=\\\"primary\\\" (click)=\\\"buscarTrabajador()\\\"\\n          ><ion-icon style=\\\"font-size: 1.5rem\\\" name=\\\"search\\\"></ion-icon\\n        ></ion-button>\\n      </ion-col>\\n    </ion-row>\\n    <br />\\n    <!-- btn adicionar trabajador -->\\n\\n    <div (click)=\\\"leerQr()\\\">\\n      <button class=\\\"qr\\\" expand=\\\"block\\\" color=\\\"secondary\\\" (click)=\\\"addTrabajador()\\\">\\n        Escanear QR <ion-icon style=\\\"font-size: 28px\\\" name=\\\"help-circle-outline\\\"></ion-icon>\\n      </button>\\n    </div>\\n    <br />\\n\\n    <!-- un checkbox para poder marcar todos los usuarios  -->\\n    <div class=\\\"ion-text-center titulo-tabla\\\">\\n      <ion-label style=\\\"font-weight: 700\\\">Trabajadores Agregados al Permiso de Trabajo</ion-label>\\n    </div>\\n    <!-- tabla -->\\n    <ion-grid>\\n      <ion-row class=\\\"header-table\\\">\\n        <ion-col size=\\\"3\\\">\\n          <ion-label>Nombre </ion-label>\\n        </ion-col>\\n        <ion-col size=\\\"2\\\">\\n          <ion-label>ID</ion-label>\\n        </ion-col>\\n        <ion-col size=\\\"3\\\">\\n          <ion-label>Cargo</ion-label>\\n        </ion-col>\\n        <ion-col size=\\\"2\\\">\\n          <ion-label>Ayudante de Seguridad</ion-label>\\n        </ion-col>\\n        <ion-col size=\\\"2\\\">\\n          <ion-label>Trabajador Autorizado</ion-label>\\n        </ion-col>\\n      </ion-row>\\n      <ion-row\\n        *ngFor=\\\"let trabajador of tablaTrabajadores | slice:(currentPage - 1) * workersPerPage:currentPage * workersPerPage\\\"\\n        class=\\\"body-table\\\"\\n      >\\n        <ion-col size=\\\"3\\\">\\n          <ion-label>{{trabajador.strNombreTrabajador}}</ion-label>\\n        </ion-col>\\n        <ion-col size=\\\"2\\\">\\n          <ion-label>{{trabajador.strNumeroDocumeto}}</ion-label>\\n        </ion-col>\\n        <ion-col size=\\\"3\\\">\\n          <ion-label>{{trabajador.strCargoTrabajador}}</ion-label>\\n        </ion-col>\\n        <ion-col size=\\\"2\\\" class=\\\"check\\\">\\n          <ion-checkbox [(ngModel)]=\\\"trabajador.blnAyudanteSeguridad\\\"></ion-checkbox>\\n        </ion-col>\\n        <ion-col size=\\\"2\\\" class=\\\"check\\\">\\n          <ion-checkbox [(ngModel)]=\\\"trabajador.accion\\\"></ion-checkbox>\\n        </ion-col>\\n      </ion-row>\\n    </ion-grid>\\n    <div class=\\\"pagination-buttons ion-text-center\\\">\\n      <ion-button style=\\\"height: 24px\\\" (click)=\\\"previousPage()\\\" [disabled]=\\\"currentPage === 1\\\"\\n        ><ion-icon name=\\\"chevron-back\\\"></ion-icon\\n      ></ion-button>\\n      <ion-button style=\\\"height: 24px\\\" [disabled]=\\\"true\\\">{{currentPage}}/{{totalPage}}</ion-button>\\n      <ion-button style=\\\"height: 24px\\\" (click)=\\\"nextPage()\\\" [disabled]=\\\"currentPage * workersPerPage >= tablaTrabajadores.length\\\"\\n        ><ion-icon name=\\\"chevron-forward-outline\\\"></ion-icon\\n      ></ion-button>\\n    </div>\\n    <div class=\\\"ion-padding\\\">Total de trabajadores: {{tablaTrabajadores.length}}</div>\\n    <!-- btn guardar -->\\n    <div class=\\\"ion-text-center\\\">\\n      <button class=\\\"guardar-continuar\\\" *ngIf=\\\"tablaTrabajadores.length > 0\\\" expand=\\\"block\\\" color=\\\"secondary\\\" (click)=\\\"guardar()\\\">\\n        Guardar y Continuar\\n      </button>\\n    </div>\\n  </div>\\n</ion-content>\\n\";","export class EDFirmaResponsablePermisoTrabajo {\n  strTipoDocumento: string;\n  strNombreCompleto: string;\n  strDocumentoIdentificacion: string;\n  strCargo: string;\n  strFirmaBase64: string;\n  strLatitud: string;\n  strLongitud: string;\n\n  constructor() {\n    this.strTipoDocumento = '';\n    this.strNombreCompleto = '';\n    this.strDocumentoIdentificacion = '';\n    this.strCargo = '';\n    this.strFirmaBase64 = '';\n    this.strLatitud = '';\n    this.strLongitud = '';\n  }\n}\n","import { EDAnexosImagenesPermisoTrabajo } from './edanexos-imagenes-permiso-trabajo';\nimport { EDFirmaResponsablePermisoTrabajo } from './edfirma-responsable-permiso-trabajo';\nimport { EDInfoAuditoriaAPP } from './edinfo-auditoria-app';\nimport { MaestroCuestionario } from './maestro-cuestionario';\nimport { MaestroHijo } from './maestro-hijo';\nimport { TrabajadorMigrado } from './trabajador-migrado';\n\nconst options: Intl.DateTimeFormatOptions = {\n  weekday: 'long',\n  year: 'numeric',\n  month: 'long',\n  day: 'numeric',\n  hour: '2-digit',\n  minute: '2-digit',\n  second: '2-digit',\n};\n\nexport class EDGuardarPermisoTrabajoAPP {\n  private uniqueId: string;\n  get UniqueId(): string {\n    return this.uniqueId;\n  }\n\n  private enviar: boolean;\n  get Enviar(): boolean {\n    return this.enviar;\n  }\n\n  set Enviar(enviar: boolean) {\n    this.enviar = enviar;\n  }\n\n  private lastRoute: string;\n  get LastRoute(): string {\n    return this.lastRoute;\n  }\n  set LastRoute(lastRoute: string) {\n    this.lastRoute = lastRoute;\n  }\n\n  private fk_ID_PermisoAlturas_MaestroTipoPermiso: number;\n  get FK_ID_PermisoAlturas_MaestroTipoPermiso(): number {\n    return this.fk_ID_PermisoAlturas_MaestroTipoPermiso;\n  }\n  set FK_ID_PermisoAlturas_MaestroTipoPermiso(fk_ID_PermisoAlturas_MaestroTipoPermiso: number) {\n    this.fk_ID_PermisoAlturas_MaestroTipoPermiso = fk_ID_PermisoAlturas_MaestroTipoPermiso;\n  }\n\n  private strRazonSocial: string;\n  data: { [key: number]: any };\n  get RazonSocial(): string {\n    return this.strRazonSocial;\n  }\n  set RazonSocial(razonSocial: string) {\n    this.strRazonSocial = razonSocial;\n  }\n  private strTipoDocumento: string;\n  get TipoDocumento(): string {\n    return this.strTipoDocumento;\n  }\n  set TipoDocumento(tipoDocumento: string) {\n    this.strTipoDocumento = tipoDocumento;\n  }\n\n  private strNumeroDocumento: string;\n  get NumeroDocumento(): string {\n    return this.strNumeroDocumento;\n  }\n  set NumeroDocumento(numeroDocumento: string) {\n    this.strNumeroDocumento = numeroDocumento;\n  }\n  private strFechaRegistro: string;\n  get FechaRegistro(): string {\n    return this.strFechaRegistro;\n  }\n  set FechaRegistro(fechaRegistro: string) {\n    this.strFechaRegistro = fechaRegistro;\n  }\n\n  private dtmFechaRegistro: Date;\n  get FechaRegistroDate(): Date {\n    return this.dtmFechaRegistro;\n  }\n  set FechaRegistroDate(fechaRegistro: Date) {\n    this.dtmFechaRegistro = new Date(fechaRegistro);\n    this.strFechaRegistro = new Date(fechaRegistro).toLocaleDateString('es-ES', options);\n    this.strFechaYHoraInicioAct = new Date(fechaRegistro).toLocaleDateString('es-ES', options);\n  }\n\n  private strFechaYHoraInicioAct: string;\n  get FechaYHoraInicioAct(): string {\n    return this.strFechaYHoraInicioAct;\n  }\n  set FechaYHoraInicioAct(fechaYHoraInicioAct: string) {\n    this.strFechaYHoraInicioAct = fechaYHoraInicioAct;\n  }\n\n  private dtmFechaYHoraInicioAct: Date;\n  get FechaYHoraInicioActDate(): Date {\n    return this.dtmFechaYHoraInicioAct;\n  }\n  set FechaYHoraInicioActDate(fechaYHoraInicioAct: Date) {\n    this.dtmFechaYHoraInicioAct = fechaYHoraInicioAct;\n    this.strFechaYHoraInicioAct = new Date(fechaYHoraInicioAct).toLocaleDateString('es-ES', options);\n  }\n\n  private strFechaYHoraFinAct: string;\n  get FechaYHoraFinAct(): string {\n    return this.strFechaYHoraFinAct;\n  }\n  set FechaYHoraFinAct(fechaYHoraFinAct: string) {\n    this.strFechaYHoraFinAct = fechaYHoraFinAct;\n  }\n\n  private dtmFechaYHoraFinAct: Date;\n  get FechaYHoraFinActDate(): Date {\n    return this.dtmFechaYHoraFinAct;\n  }\n  set FechaYHoraFinActDate(fechaYHoraFinAct: Date) {\n    this.dtmFechaYHoraFinAct = fechaYHoraFinAct;\n    this.strFechaYHoraFinAct = new Date(fechaYHoraFinAct).toLocaleDateString('es-ES', options);\n  }\n\n  private strUbicacionTrabajo: string;\n  get UbicacionTrabajo(): string {\n    return this.strUbicacionTrabajo;\n  }\n  set UbicacionTrabajo(ubicacionTrabajo: string) {\n    this.strUbicacionTrabajo = ubicacionTrabajo;\n  }\n\n  private dblAlturaActividad: number;\n  get AlturaActividad(): number {\n    return this.dblAlturaActividad;\n  }\n  set AlturaActividad(alturaActividad: number) {\n    this.dblAlturaActividad = alturaActividad;\n  }\n\n  private metros: number;\n  get Metros(): number {\n    return this.metros;\n  }\n\n  set Metros(metros: number) {\n    this.metros = metros;\n  }\n\n  private centimetros: number;\n  get Centimetros(): number {\n    return this.centimetros;\n  }\n\n  private listaMaestroCuestionario: MaestroCuestionario[];\n  get MaestroCuestionario(): MaestroCuestionario[] {\n    return this.listaMaestroCuestionario;\n  }\n  set MaestroCuestionario(maestroCuestionario: MaestroCuestionario[]) {\n    this.listaMaestroCuestionario = maestroCuestionario;\n  }\n\n  private strTipoTrabajo: string;\n  get TipoTrabajo(): string {\n    return this.strTipoTrabajo;\n  }\n  set TipoTrabajo(tipoTrabajo: string) {\n    this.strTipoTrabajo = tipoTrabajo;\n  }\n\n  private strAntesActividad: string;\n  get AntesActividad(): string {\n    return this.strAntesActividad;\n  }\n  set AntesActividad(antesActividad: string) {\n    this.strAntesActividad = antesActividad;\n  }\n\n  private strDuranteActividad: string;\n  get DuranteActividad(): string {\n    return this.strDuranteActividad;\n  }\n  set DuranteActividad(duranteActividad: string) {\n    this.strDuranteActividad = duranteActividad;\n  }\n\n  private strDespuesActividad: string;\n  get DespuesActividad(): string {\n    return this.strDespuesActividad;\n  }\n  set DespuesActividad(despuesActividad: string) {\n    this.strDespuesActividad = despuesActividad;\n  }\n\n  private listaItemSeleccionados: MaestroHijo[];\n  get ItemSeleccionados(): MaestroHijo[] {\n    return this.listaItemSeleccionados;\n  }\n  set ItemSeleccionados(itemSeleccionados: MaestroHijo[]) {\n    this.listaItemSeleccionados = itemSeleccionados;\n  }\n\n  private listaTrabajadoresMigrados: TrabajadorMigrado[];\n  get TrabajadoresMigrados(): TrabajadorMigrado[] {\n    return this.listaTrabajadoresMigrados;\n  }\n  set TrabajadoresMigrados(trabajadoresMigrados: TrabajadorMigrado[]) {\n    this.listaTrabajadoresMigrados = trabajadoresMigrados;\n  }\n\n  private strObservaciones: string;\n  get Observaciones(): string {\n    return this.strObservaciones;\n  }\n  set Observaciones(observaciones: string) {\n    this.strObservaciones = observaciones;\n  }\n\n  private blnPermisoAutorizado: boolean;\n  get PermisoAutorizado(): boolean {\n    return this.blnPermisoAutorizado;\n  }\n  set PermisoAutorizado(permisoAutorizado: boolean) {\n    this.blnPermisoAutorizado = permisoAutorizado;\n  }\n\n  private edAutorizadoPermisoTrabajo: EDFirmaResponsablePermisoTrabajo;\n  get AutorizadoPermisoTrabajo(): EDFirmaResponsablePermisoTrabajo {\n    return this.edAutorizadoPermisoTrabajo;\n  }\n  set AutorizadoPermisoTrabajo(autorizadoPermisoTrabajo: EDFirmaResponsablePermisoTrabajo) {\n    this.edAutorizadoPermisoTrabajo = autorizadoPermisoTrabajo;\n  }\n\n  private edResponsableActivarPlanEmergencia: EDFirmaResponsablePermisoTrabajo;\n  get ResponsableActivarPlanEmergencia(): EDFirmaResponsablePermisoTrabajo {\n    return this.edResponsableActivarPlanEmergencia;\n  }\n  set ResponsableActivarPlanEmergencia(responsableActivarPlanEmergencia: EDFirmaResponsablePermisoTrabajo) {\n    this.edResponsableActivarPlanEmergencia = responsableActivarPlanEmergencia;\n  }\n\n  private edCoordinadorTrabajoAlturas: EDFirmaResponsablePermisoTrabajo;\n  get CoordinadorTrabajoAlturas(): EDFirmaResponsablePermisoTrabajo {\n    return this.edCoordinadorTrabajoAlturas;\n  }\n  set CoordinadorTrabajoAlturas(coordinadorTrabajoAlturas: EDFirmaResponsablePermisoTrabajo) {\n    this.edCoordinadorTrabajoAlturas = coordinadorTrabajoAlturas;\n  }\n\n  private listaAnexoImagenes: EDAnexosImagenesPermisoTrabajo[];\n  get AnexoImagenes(): EDAnexosImagenesPermisoTrabajo[] {\n    return this.listaAnexoImagenes;\n  }\n  set AnexoImagenes(anexoImagenes: EDAnexosImagenesPermisoTrabajo[]) {\n    this.listaAnexoImagenes = anexoImagenes;\n  }\n\n  private strCorreoUsuarioElaboroPermiso: string;\n  get CorreoUsuarioElaboroPermiso(): string {\n    return this.strCorreoUsuarioElaboroPermiso;\n  }\n  set CorreoUsuarioElaboroPermiso(correoUsuarioElaboroPermiso: string) {\n    this.strCorreoUsuarioElaboroPermiso = correoUsuarioElaboroPermiso;\n  }\n\n  private edInfoAuditoria: EDInfoAuditoriaAPP;\n  get InfoAuditoria(): EDInfoAuditoriaAPP {\n    return this.edInfoAuditoria;\n  }\n  set InfoAuditoria(infoAuditoria: EDInfoAuditoriaAPP) {\n    this.edInfoAuditoria = infoAuditoria;\n  }\n\n  constructor() {\n    this.uniqueId = Date.now().toString();\n    this.enviar = false;\n    this.lastRoute = '';\n    this.fk_ID_PermisoAlturas_MaestroTipoPermiso = 0;\n    this.strRazonSocial = '';\n    this.strTipoDocumento = '';\n    this.strNumeroDocumento = '';\n    this.strFechaRegistro = '';\n    this.FechaRegistroDate = new Date();\n    this.strFechaYHoraInicioAct = '';\n    this.dtmFechaYHoraInicioAct = new Date();\n    this.strFechaYHoraFinAct = '';\n    this.dtmFechaYHoraFinAct = new Date();\n    this.strUbicacionTrabajo = '';\n    this.dblAlturaActividad = 0;\n    this.metros = 0;\n    this.centimetros = 0;\n    this.listaMaestroCuestionario = [];\n    this.strTipoTrabajo = '';\n    this.strAntesActividad = '';\n    this.strDuranteActividad = '';\n    this.strDespuesActividad = '';\n    this.listaItemSeleccionados = [];\n    this.listaTrabajadoresMigrados = [];\n    this.strObservaciones = '';\n    this.blnPermisoAutorizado = false;\n    this.edAutorizadoPermisoTrabajo = new EDFirmaResponsablePermisoTrabajo();\n    this.edResponsableActivarPlanEmergencia = new EDFirmaResponsablePermisoTrabajo();\n    this.edCoordinadorTrabajoAlturas = new EDFirmaResponsablePermisoTrabajo();\n    this.listaAnexoImagenes = [];\n    this.strCorreoUsuarioElaboroPermiso = '';\n    this.edInfoAuditoria = new EDInfoAuditoriaAPP();\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { CrearPermisoPage } from './crear-permiso.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: CrearPermisoPage,\n  },\n  {\n    path: 'inicio-permiso',\n    loadChildren: () => import('src/app/pages/SST/inicio-permiso/inicio-permiso.module').then(m => m.InicioPermisoPageModule),\n  },\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class CrearPermisoPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { CrearPermisoPageRoutingModule } from './crear-permiso-routing.module';\n\nimport { CrearPermisoPage } from './crear-permiso.page';\nimport { SharedModule } from 'src/app/shared.module';\n\n@NgModule({\n  imports: [CommonModule, FormsModule, IonicModule, CrearPermisoPageRoutingModule, SharedModule],\n  declarations: [CrearPermisoPage],\n})\nexport class CrearPermisoPageModule {}\n","export default \".header-table {\\n  font-size: 0.59rem;\\n  font-weight: bold;\\n  background-color: #b1b7bd;\\n  color: black;\\n  text-align: center;\\n  padding: 2px;\\n  border: 1px solid #b1b7bd;\\n  border-radius: 0px 0px 0px 0px;\\n  border-collapse: collapse;\\n  border-spacing: 0;\\n  width: 100%;\\n  margin: 0 auto;\\n  align-items: center;\\n}\\n.header-table ion-label {\\n  display: flex;\\n  justify-content: center;\\n}\\n.body-table {\\n  font-size: 0.5rem;\\n  font-weight: 400;\\n  background-color: #e9ecef;\\n  color: black;\\n  text-align: start;\\n  align-items: center;\\n  padding-bottom: 2px;\\n  border: 1px solid #b1b7bd;\\n  min-height: 42px;\\n}\\n.body-table .check {\\n  text-align: center;\\n}\\n.titulo-tabla {\\n  background-color: #b1b7bd;\\n  margin-top: 10px;\\n  padding: 5px;\\n  font-size: 0.9rem;\\n  border-radius: 8px 8px 0px 0px;\\n}\\nion-grid {\\n  padding: 0px;\\n}\\nion-col {\\n  padding-top: 0;\\n}\\ndiv.toolbar {\\n  background: #ff7500;\\n  color: #fff;\\n  padding: 0 16px;\\n  height: 48px;\\n  align-items: center;\\n  display: flex;\\n  text-align: center;\\n}\\ndiv.toolbar ion-title {\\n  color: #fff;\\n}\\nbutton.guardar-continuar {\\n  color: #fff;\\n  background: #4b9a49 !important;\\n  margin-top: 10px;\\n  border-radius: 24px;\\n  width: 80%;\\n  height: 24px;\\n  font-size: 14px;\\n  font-weight: 500;\\n  text-transform: none;\\n  border: none;\\n  outline: none;\\n  cursor: pointer;\\n  transition: all 0.3s ease;\\n}\\nbutton.adicionar {\\n  font-weight: 800;\\n  color: #000;\\n  background: #ff7500 !important;\\n  margin-top: 10px;\\n  border-radius: 24px;\\n  width: 40%;\\n  height: 24px;\\n  font-size: 14px;\\n  text-transform: uppercase;\\n  border: none;\\n  outline: none;\\n  cursor: pointer;\\n  transition: all 0.3s ease;\\n}\\nbutton.qr {\\n  display: flex;\\n  align-items: center;\\n  font-weight: 600;\\n  color: #fff;\\n  background: #0027ff !important;\\n  margin-top: 10px;\\n  border-radius: 24px;\\n  transition: all 0.3s ease;\\n}\\nion-item.border {\\n  height: 45px;\\n  border: 1px solid #808080;\\n  border-radius: 10px;\\n}\\nion-select {\\n  width: 100%;\\n}\\nion-select div.select-icon {\\n  opacity: 1 !important;\\n}\\ndialog {\\n  background-color: white;\\n  color: black;\\n  border-color: transparent;\\n  overflow: hidden;\\n  border-radius: 5px;\\n  cursor: pointer;\\n  box-shadow: 0 0 20px 8px #d0d0d0;\\n  height: 100%;\\n  width: 100%;\\n}\\ndialog .header {\\n  color: black;\\n  padding: 10px;\\n  font-size: 1rem;\\n  font-weight: 600;\\n  text-align: center;\\n  display: flex;\\n  justify-content: space-between;\\n  border-bottom: 1px solid #b1b7bd;\\n}\\ndialog .header .close {\\n  float: right;\\n  cursor: pointer;\\n  background: transparent !important;\\n  color: black;\\n  font-size: 1.5rem;\\n  font-weight: 600;\\n}\\ndialog .body {\\n  padding: 10px;\\n  font-size: 1rem;\\n  font-weight: 400;\\n  text-align: center;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvU1NUL2NyZWFyLXBlcm1pc28vY3JlYXItcGVybWlzby5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxrQkFBQTtFQUNBLGlCQUFBO0VBQ0EseUJBQUE7RUFDQSxZQUFBO0VBQ0Esa0JBQUE7RUFDQSxZQUFBO0VBQ0EseUJBQUE7RUFDQSw4QkFBQTtFQUNBLHlCQUFBO0VBQ0EsaUJBQUE7RUFDQSxXQUFBO0VBQ0EsY0FBQTtFQUNBLG1CQUFBO0FBQ0Y7QUFBRTtFQUNFLGFBQUE7RUFDQSx1QkFBQTtBQUVKO0FBRUE7RUFDRSxpQkFBQTtFQUNBLGdCQUFBO0VBQ0EseUJBQUE7RUFDQSxZQUFBO0VBQ0EsaUJBQUE7RUFDQSxtQkFBQTtFQUNBLG1CQUFBO0VBQ0EseUJBQUE7RUFDQSxnQkFBQTtBQUNGO0FBQUU7RUFDRSxrQkFBQTtBQUVKO0FBRUE7RUFDRSx5QkFBQTtFQUNBLGdCQUFBO0VBQ0EsWUFBQTtFQUNBLGlCQUFBO0VBQ0EsOEJBQUE7QUFDRjtBQUVBO0VBQ0UsWUFBQTtBQUNGO0FBRUE7RUFDRSxjQUFBO0FBQ0Y7QUFFQTtFQUNFLG1CQUFBO0VBQ0EsV0FBQTtFQUNBLGVBQUE7RUFDQSxZQUFBO0VBQ0EsbUJBQUE7RUFDQSxhQUFBO0VBQ0Esa0JBQUE7QUFDRjtBQUFFO0VBQ0UsV0FBQTtBQUVKO0FBQ0E7RUFDRSxXQUFBO0VBQ0EsOEJBQUE7RUFDQSxnQkFBQTtFQUNBLG1CQUFBO0VBQ0EsVUFBQTtFQUNBLFlBQUE7RUFDQSxlQUFBO0VBQ0EsZ0JBQUE7RUFDQSxvQkFBQTtFQUNBLFlBQUE7RUFDQSxhQUFBO0VBQ0EsZUFBQTtFQUNBLHlCQUFBO0FBRUY7QUFDQTtFQUNFLGdCQUFBO0VBQ0EsV0FBQTtFQUNBLDhCQUFBO0VBQ0EsZ0JBQUE7RUFDQSxtQkFBQTtFQUNBLFVBQUE7RUFDQSxZQUFBO0VBQ0EsZUFBQTtFQUNBLHlCQUFBO0VBQ0EsWUFBQTtFQUNBLGFBQUE7RUFDQSxlQUFBO0VBQ0EseUJBQUE7QUFFRjtBQUNBO0VBQ0UsYUFBQTtFQUNBLG1CQUFBO0VBQ0EsZ0JBQUE7RUFDQSxXQUFBO0VBQ0EsOEJBQUE7RUFDQSxnQkFBQTtFQUNBLG1CQUFBO0VBRUEseUJBQUE7QUFDRjtBQUVBO0VBQ0UsWUFBQTtFQUNBLHlCQUFBO0VBQ0EsbUJBQUE7QUFDRjtBQUVBO0VBQ0UsV0FBQTtBQUNGO0FBQUU7RUFDRSxxQkFBQTtBQUVKO0FBRUE7RUFDRSx1QkFBQTtFQUNBLFlBQUE7RUFDQSx5QkFBQTtFQUNBLGdCQUFBO0VBQ0Esa0JBQUE7RUFDQSxlQUFBO0VBQ0EsZ0NBQUE7RUFDQSxZQUFBO0VBQ0EsV0FBQTtBQUNGO0FBRUE7RUFDRSxZQUFBO0VBQ0EsYUFBQTtFQUNBLGVBQUE7RUFDQSxnQkFBQTtFQUNBLGtCQUFBO0VBQ0EsYUFBQTtFQUNBLDhCQUFBO0VBQ0EsZ0NBQUE7QUFDRjtBQUFFO0VBQ0UsWUFBQTtFQUNBLGVBQUE7RUFDQSxrQ0FBQTtFQUNBLFlBQUE7RUFDQSxpQkFBQTtFQUNBLGdCQUFBO0FBRUo7QUFDQTtFQUNFLGFBQUE7RUFDQSxlQUFBO0VBQ0EsZ0JBQUE7RUFDQSxrQkFBQTtBQUVGIiwiZmlsZSI6InNyYy9hcHAvcGFnZXMvU1NUL2NyZWFyLXBlcm1pc28vY3JlYXItcGVybWlzby5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuaGVhZGVyLXRhYmxlIHtcbiAgZm9udC1zaXplOiAwLjU5cmVtO1xuICBmb250LXdlaWdodDogYm9sZDtcbiAgYmFja2dyb3VuZC1jb2xvcjogI2IxYjdiZDtcbiAgY29sb3I6IGJsYWNrO1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gIHBhZGRpbmc6IDJweDtcbiAgYm9yZGVyOiAxcHggc29saWQgI2IxYjdiZDtcbiAgYm9yZGVyLXJhZGl1czogMHB4IDBweCAwcHggMHB4O1xuICBib3JkZXItY29sbGFwc2U6IGNvbGxhcHNlO1xuICBib3JkZXItc3BhY2luZzogMDtcbiAgd2lkdGg6IDEwMCU7XG4gIG1hcmdpbjogMCBhdXRvO1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xuICBpb24tbGFiZWwge1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gIH1cbn1cblxuLmJvZHktdGFibGUge1xuICBmb250LXNpemU6IDAuNXJlbTtcbiAgZm9udC13ZWlnaHQ6IDQwMDtcbiAgYmFja2dyb3VuZC1jb2xvcjogI2U5ZWNlZjtcbiAgY29sb3I6IGJsYWNrO1xuICB0ZXh0LWFsaWduOiBzdGFydDtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgcGFkZGluZy1ib3R0b206IDJweDtcbiAgYm9yZGVyOiAxcHggc29saWQgI2IxYjdiZDtcbiAgbWluLWhlaWdodDogNDJweDtcbiAgLmNoZWNrIHtcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gIH1cbn1cblxuLnRpdHVsby10YWJsYSB7XG4gIGJhY2tncm91bmQtY29sb3I6ICNiMWI3YmQ7XG4gIG1hcmdpbi10b3A6IDEwcHg7XG4gIHBhZGRpbmc6IDVweDtcbiAgZm9udC1zaXplOiAwLjlyZW07XG4gIGJvcmRlci1yYWRpdXM6IDhweCA4cHggMHB4IDBweDtcbn1cblxuaW9uLWdyaWQge1xuICBwYWRkaW5nOiAwcHg7XG59XG5cbmlvbi1jb2wge1xuICBwYWRkaW5nLXRvcDogMDtcbn1cblxuZGl2LnRvb2xiYXIge1xuICBiYWNrZ3JvdW5kOiAjZmY3NTAwO1xuICBjb2xvcjogI2ZmZjtcbiAgcGFkZGluZzogMCAxNnB4O1xuICBoZWlnaHQ6IDQ4cHg7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgaW9uLXRpdGxlIHtcbiAgICBjb2xvcjogI2ZmZjtcbiAgfVxufVxuYnV0dG9uLmd1YXJkYXItY29udGludWFyIHtcbiAgY29sb3I6ICNmZmY7XG4gIGJhY2tncm91bmQ6ICM0YjlhNDkgIWltcG9ydGFudDtcbiAgbWFyZ2luLXRvcDogMTBweDtcbiAgYm9yZGVyLXJhZGl1czogMjRweDtcbiAgd2lkdGg6IDgwJTtcbiAgaGVpZ2h0OiAyNHB4O1xuICBmb250LXNpemU6IDE0cHg7XG4gIGZvbnQtd2VpZ2h0OiA1MDA7XG4gIHRleHQtdHJhbnNmb3JtOiBub25lO1xuICBib3JkZXI6IG5vbmU7XG4gIG91dGxpbmU6IG5vbmU7XG4gIGN1cnNvcjogcG9pbnRlcjtcbiAgdHJhbnNpdGlvbjogYWxsIDAuM3MgZWFzZTtcbn1cblxuYnV0dG9uLmFkaWNpb25hciB7XG4gIGZvbnQtd2VpZ2h0OiA4MDA7XG4gIGNvbG9yOiAjMDAwO1xuICBiYWNrZ3JvdW5kOiAjZmY3NTAwICFpbXBvcnRhbnQ7XG4gIG1hcmdpbi10b3A6IDEwcHg7XG4gIGJvcmRlci1yYWRpdXM6IDI0cHg7XG4gIHdpZHRoOiA0MCU7XG4gIGhlaWdodDogMjRweDtcbiAgZm9udC1zaXplOiAxNHB4O1xuICB0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlO1xuICBib3JkZXI6IG5vbmU7XG4gIG91dGxpbmU6IG5vbmU7XG4gIGN1cnNvcjogcG9pbnRlcjtcbiAgdHJhbnNpdGlvbjogYWxsIDAuM3MgZWFzZTtcbn1cblxuYnV0dG9uLnFyIHtcbiAgZGlzcGxheTogZmxleDtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgZm9udC13ZWlnaHQ6IDYwMDtcbiAgY29sb3I6ICNmZmY7XG4gIGJhY2tncm91bmQ6ICMwMDI3ZmYgIWltcG9ydGFudDtcbiAgbWFyZ2luLXRvcDogMTBweDtcbiAgYm9yZGVyLXJhZGl1czogMjRweDtcblxuICB0cmFuc2l0aW9uOiBhbGwgMC4zcyBlYXNlO1xufVxuXG5pb24taXRlbS5ib3JkZXIge1xuICBoZWlnaHQ6IDQ1cHg7XG4gIGJvcmRlcjogMXB4IHNvbGlkICM4MDgwODA7XG4gIGJvcmRlci1yYWRpdXM6IDEwcHg7XG59XG5cbmlvbi1zZWxlY3Qge1xuICB3aWR0aDogMTAwJTtcbiAgZGl2LnNlbGVjdC1pY29uIHtcbiAgICBvcGFjaXR5OiAxICFpbXBvcnRhbnQ7XG4gIH1cbn1cblxuZGlhbG9nIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7XG4gIGNvbG9yOiBibGFjaztcbiAgYm9yZGVyLWNvbG9yOiB0cmFuc3BhcmVudDtcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgYm9yZGVyLXJhZGl1czogNXB4O1xuICBjdXJzb3I6IHBvaW50ZXI7XG4gIGJveC1zaGFkb3c6IDAgMCAyMHB4IDhweCAjZDBkMGQwO1xuICBoZWlnaHQ6IDEwMCU7XG4gIHdpZHRoOiAxMDAlO1xufVxuXG5kaWFsb2cgLmhlYWRlciB7XG4gIGNvbG9yOiBibGFjaztcbiAgcGFkZGluZzogMTBweDtcbiAgZm9udC1zaXplOiAxcmVtO1xuICBmb250LXdlaWdodDogNjAwO1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcbiAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNiMWI3YmQ7XG4gIC5jbG9zZSB7XG4gICAgZmxvYXQ6IHJpZ2h0O1xuICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudCAhaW1wb3J0YW50O1xuICAgIGNvbG9yOiBibGFjaztcbiAgICBmb250LXNpemU6IDEuNXJlbTtcbiAgICBmb250LXdlaWdodDogNjAwO1xuICB9XG59XG5kaWFsb2cgLmJvZHkge1xuICBwYWRkaW5nOiAxMHB4O1xuICBmb250LXNpemU6IDFyZW07XG4gIGZvbnQtd2VpZ2h0OiA0MDA7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbn1cbiJdfQ== */\";","import { Component, OnInit, ChangeDetectorRef, ViewChild } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { TrabajadorMigrado } from 'src/app/interfaces/trabajador-migrado';\nimport { DataBaseService } from 'src/app/services/SST/data-base.service';\nimport { TablaTrabajadoresService } from 'src/app/services/SST/tabla-trabajadores.service';\nimport { QrData } from 'src/app/interfaces/qr-data';\nimport { AlertController, ModalController, Platform } from '@ionic/angular';\nimport { SaveDataService } from 'src/app/services/SST/save-data.service';\nimport { EDGuardarPermisoTrabajoAPP } from 'src/app/interfaces/edguardar-permiso-trabajo-app';\nimport { TipoPermiso } from 'src/app/interfaces/tipo-permiso';\nimport { UtilsService } from 'src/app/services/utils.service';\nimport { QRComponent } from 'src/app/components/qr/qr.component';\nimport { ModalAddTrabajadorComponent } from 'src/app/components/modal-add-trabajador/modal-add-trabajador.component';\nimport { NetworkService } from 'src/app/services/network.service';\nimport { DataService } from 'src/app/services/SST/data.service';\nimport { ContextService } from 'src/app/services/context.service';\n\n@Component({\n  selector: 'app-crear-permiso',\n  templateUrl: './crear-permiso.page.html',\n  styleUrls: ['./crear-permiso.page.scss'],\n})\nexport class CrearPermisoPage implements OnInit {\n  qrData: QrData;\n  numeroDeDocumento: string;\n  tablaTrabajadores: TrabajadorMigrado[] = [];\n  data: EDGuardarPermisoTrabajoAPP;\n  tipoPermiso: string;\n  listaTipoPermiso: TipoPermiso[] = [];\n  cargoTrabajador: string;\n  tipoDeDocumento: string = 'CC';\n  marcarTodos: any;\n\n  showDialog = false;\n\n  trabajadoresMarcados: any[] = [];\n\n  currentPage: number = 1;\n  workersPerPage: number = 10;\n  totalPage: number;\n\n  habilitarEdicionCargo: boolean = false;\n\n  stringQR: string;\n  trabajador: TrabajadorMigrado = {\n    blnCodigoQR: false,\n    strCargoTrabajador: '',\n    strNombreTrabajador: '',\n    blnAyudanteSeguridad: false,\n    accion: false,\n    Fk_ID_Empresa: 0,\n    PK_ID_PermisoAlturas_PersonasAMigrar: 0,\n    strNumeroDocumeto: '',\n    strTipoDocumento: '',\n  };\n\n  idEMpresa: string;\n\n  constructor(\n    private dataBaseService: DataBaseService,\n    private tablaTrabajadoresService: TablaTrabajadoresService,\n    private router: Router,\n    private alertController: AlertController,\n    private saveDataService: SaveDataService,\n    private utils: UtilsService,\n    private modalController: ModalController,\n    private modalController2: ModalController,\n    private modalControllerQr: ModalController,\n    private chekInternet: NetworkService,\n    private dataService: DataService,\n    private context: ContextService\n  ) {}\n\n  ngOnInit() {\n    console.log('ngOnInit');\n    this.tiposDePermiso();\n    this.context.get().then(response => {\n      this.idEMpresa = response['_empresa'].id.toString();\n      console.log('id empresa', this.idEMpresa);\n    });\n  }\n\n  ionViewWillEnter() {\n    console.log('ionViewWillEnter');\n    this.precargarDatos();\n  }\n\n  async buscarTrabajador() {\n    if (this.numeroDeDocumento === undefined || this.numeroDeDocumento === '' || this.tipoDeDocumento === undefined) return;\n    try {\n      this.dataBaseService.open().then(async () => {\n        const trabajador = await this.dataBaseService.getTrabajador(`${this.numeroDeDocumento}`, this.tipoDeDocumento);\n\n        if (trabajador === null) {\n          let internet = await this.chekInternet.testNetworkConnection();\n          if (!internet) {\n            this.mostrarError('No se encontró el trabajador');\n            this.limpiaCampos();\n\n            return;\n          }\n          console.log('buscado web');\n          await this.utils.presentLoading();\n\n          const user = await this.dataService.getTrabajador(`${this.numeroDeDocumento}`, this.tipoDeDocumento);\n          console.log('user', user);\n          if (!user.blnAfiliadoEmpresaActivo) {\n            this.mostrarError(\n              'Estimado usuario, el trabajador consultado no cuenta con relación laboral en la empresa con la que se inició sesión.'\n            );\n            this.limpiaCampos();\n            this.utils.dismissLoading();\n            return;\n          }\n          this.trabajador = user;\n          this.trabajador.accion = true;\n          this.trabajador.strTipoDocumento = user.strTipoDocumento;\n          console.log('trabajador', this.trabajador);\n          await this.dataBaseService.addTrabajadorMigrado(user);\n        } else {\n          this.trabajador = trabajador;\n          this.trabajador.accion = true;\n        }\n        this.utils.dismissLoading();\n\n        this.prepararUser();\n      });\n    } catch (error) {\n      this.dataBaseService.close();\n    } finally {\n      this.utils.dismissLoading();\n    }\n  }\n\n  async cerrarModal() {\n    const modal = await this.modalController2.create({\n      component: ModalAddTrabajadorComponent,\n    });\n    modal.dismiss();\n    return await modal.present();\n  }\n\n  async prepararUser() {\n    if (this.modalControllerQr) this.modalControllerQr.dismiss();\n\n    this.trabajador.strCargoTrabajador = 'Trabajador';\n    const modal = await this.modalController.create({\n      component: ModalAddTrabajadorComponent,\n      componentProps: {\n        trabajador: this.trabajador,\n      },\n    });\n\n    modal.onDidDismiss().then(result => {\n      console.log('result', result);\n      if (result.data !== undefined) {\n        const trabajadorActualizado = result.data.trabajador;\n        this.trabajador = trabajadorActualizado;\n        this.cargoTrabajador = trabajadorActualizado.strCargoTrabajador;\n        this.addTrabajador();\n      } else {\n        this.limpiaCampos();\n      }\n    });\n\n    return await modal.present();\n  }\n\n  limpiaCampos() {\n    this.habilitarEdicionCargo = false;\n    this.tipoDeDocumento = 'CC';\n    this.numeroDeDocumento = '';\n    this.cargoTrabajador = '';\n    this.trabajador = {\n      strCargoTrabajador: '',\n      strNombreTrabajador: '',\n      blnAyudanteSeguridad: false,\n      accion: false,\n      Fk_ID_Empresa: 0,\n      PK_ID_PermisoAlturas_PersonasAMigrar: 0,\n      strNumeroDocumeto: '',\n      strTipoDocumento: '',\n    };\n  }\n\n  addTrabajador() {\n    if (this.trabajador.strNombreTrabajador === '') return;\n    this.trabajador.strCargoTrabajador = this.cargoTrabajador;\n    this.tablaTrabajadoresService.addTrabajador(this.trabajador);\n    this.tablaTrabajadores = this.tablaTrabajadoresService.getTablaTrabajadores();\n    this.totalPage = Math.ceil(this.tablaTrabajadores.length / this.workersPerPage);\n    this.limpiaCampos();\n  }\n\n  async guardar() {\n    if (this.tablaTrabajadores.length === 0) {\n      this.mostrarError('Debe agregar al menos un trabajador');\n      return;\n    }\n    if (this.tipoPermiso === undefined) {\n      this.mostrarError('Debe seleccionar un tipo de permiso');\n      return;\n    }\n    if (this.getTrabajadoresChecked().length === 0) {\n      this.mostrarError('Debe seleccionar al menos un trabajador');\n      return;\n    }\n    if (this.getTrabajadoresNotChecked().length > 0) {\n      this.mostrarError('Hay trabajadores sin seleccionar');\n      return;\n    }\n\n    await this.guardarDatos();\n    this.router.navigate(['/home/permisos/registro-permiso/crear-permiso/inicio-permiso']);\n  }\n\n  async leerQr() {\n    let usuario;\n    try {\n      const modalQr = await this.modalControllerQr.create({\n        component: QRComponent,\n      });\n\n      await modalQr.present();\n\n      modalQr\n        .onDidDismiss()\n        .then(result => {\n          console.log('result', result.data);\n          if (!result.data) {\n            this.mostrarError('No pudimos leer la información', 'Alerta');\n            return false;\n          }\n          try {\n            usuario = JSON.parse(result.data['response']);\n          } catch (e) {\n            this.mostrarError('El QR no contiene un trabajador');\n            return false;\n          }\n          if (!usuario['nomAsist']) {\n            this.mostrarError('El QR no contiene un trabajador valido');\n            return false;\n          }\n\n          if (usuario['numEmpr'] != this.idEMpresa) {\n            this.mostrarError(\n              'Estimado usuario, el trabajador consultado no cuenta con relación laboral en la empresa con la que se inició sesión.'\n            );\n            return false;\n          } else {\n            return true;\n          }\n        })\n        .then(async verdad => {\n          if (this.modalControllerQr) await this.modalControllerQr.dismiss();\n          if (!this.trabajador) {\n            this.trabajador = {\n              PK_ID_PermisoAlturas_PersonasAMigrar: null,\n              strTipoDocumento: null,\n              strNumeroDocumeto: null,\n              strNombreTrabajador: null,\n              strCargoTrabajador: null,\n              Fk_ID_Empresa: null,\n              blnAyudanteSeguridad: null,\n              accion: null,\n            };\n          }\n\n          console.log('verdad', JSON.stringify(usuario));\n          console.log('trabajador', JSON.stringify(this.trabajador));\n          if (verdad) {\n            this.trabajador.strNombreTrabajador = usuario.nomAsist;\n            this.trabajador.strNumeroDocumeto = usuario.numAsistente;\n            this.trabajador.strCargoTrabajador = usuario.cargo.toString();\n            this.trabajador.strTipoDocumento = usuario.tiAsistente;\n            this.cargoTrabajador = usuario.cargo.toString();\n            this.numeroDeDocumento = usuario.numAsistente;\n            this.trabajador.blnCodigoQR = true;\n            this.trabajador.strNumeroDocumentoEmpresa = usuario.numEmpr;\n            this.trabajador.strTipoDocumentoEmpresa = usuario.tiEmpr;\n            this.habilitarEdicionCargo = true;\n\n            this.prepararUser();\n          }\n        });\n    } catch (error) {\n      this.mostrarError('No se puedo leer QR');\n    }\n  }\n\n  async guardarDatos() {\n    try {\n      console.log('guardando datos');\n      await this.utils.presentLoading();\n      await this.dataBaseService.open();\n      this.data['dtmFechaRegistro'] = new Date();\n      this.data['dtmFechaYHoraInicioAct'] = new Date();\n      let trabajadoresChecked = this.getTrabajadoresChecked();\n      this.data['listaTrabajadoresMigrados'] = trabajadoresChecked;\n      this.tablaTrabajadoresService.setListaTrabajadores(trabajadoresChecked);\n      this.data['listaTrabajadoresMigrados'].forEach(async trabajador => {\n        if (!trabajador.blnCodigoQR) {\n          trabajador.blnActivo = true;\n          console.log(JSON.stringify(trabajador));\n          await this.dataBaseService.updateTrabajadorMigrado(trabajador);\n          console.log('trabajador actualizado');\n        }\n      });\n      this.data['strTipoTrabajo'] = this.tipoPermiso;\n      this.data['lastRoute'] = '/home/permisos/registro-permiso/crear-permiso';\n      this.data['fk_ID_PermisoAlturas_MaestroTipoPermiso'] = this.listaTipoPermiso.find(\n        tipoPermiso => tipoPermiso.strDescripcion === this.tipoPermiso\n      ).PK_ID_PermisoAlturas_MaestroTipoPermiso;\n      this.saveDataService.setData(this.data);\n      this.saveDataService.saveData();\n      this.utils.dismissLoading();\n    } catch (error) {\n      this.utils.dismissLoading();\n      this.dataBaseService.close();\n      console.error('Error al guardar los datos:', error);\n    }\n  }\n\n  onChangePermiso(event: any) {\n    this.tipoPermiso = event.detail.value;\n  }\n\n  tiposDePermiso(): void {\n    this.dataBaseService.open().then(() => {\n      this.dataBaseService.getAllTipoPermiso().subscribe({\n        next: (listaTipoPermiso: TipoPermiso[]) => {\n          this.listaTipoPermiso = listaTipoPermiso;\n        },\n        error: error => {\n          this.dataBaseService.close();\n        },\n        complete: () => {\n          console.log('Tipos de permiso completados');\n        },\n      });\n    });\n  }\n\n  async allTrabajadores() {\n    try {\n      await this.utils.presentLoading();\n      this.dataBaseService.open().then(() => {\n        this.dataBaseService.getAllTrabajadoresMigrados().subscribe({\n          next: (listaTrabajadores: TrabajadorMigrado[]) => {\n            // this.tablaTrabajadores = listaTrabajadores;\n            this.tablaTrabajadores.forEach(trabajador => {\n              trabajador.accion = false;\n            });\n            this.tablaTrabajadoresService.setListaTrabajadores(this.tablaTrabajadores);\n            this.totalPage = Math.ceil(this.tablaTrabajadores.length / this.workersPerPage);\n            this.utils.dismissLoading();\n          },\n          error: error => {\n            console.error('Error al obtener los tipos de permiso:', error);\n          },\n        });\n      });\n    } catch (error) {\n      this.dataBaseService.close();\n      this.utils.dismissLoading();\n      console.error('Error al obtener los tipos de permiso:', error);\n    }\n  }\n\n  getTrabajadoresChecked(): TrabajadorMigrado[] {\n    return this.tablaTrabajadores.filter(trabajador => trabajador.accion || trabajador.blnAyudanteSeguridad);\n  }\n\n  getTrabajadoresNotChecked(): TrabajadorMigrado[] {\n    return this.tablaTrabajadores.filter(trabajador => !trabajador.accion && !trabajador.blnAyudanteSeguridad);\n  }\n\n  onChangeMarcarTodos(event: any) {\n    const isChecked = event.detail.checked;\n    this.tablaTrabajadores = this.tablaTrabajadores.map(trabajador => {\n      if (this.isOnCurrentPage(trabajador)) {\n        trabajador.accion = isChecked;\n      }\n      return trabajador;\n    });\n\n    if (isChecked) {\n      this.tablaTrabajadores\n        .filter(trabajador => !this.trabajadoresMarcados.includes(trabajador))\n        .forEach(trabajador => this.trabajadoresMarcados.push(trabajador));\n    } else {\n      this.trabajadoresMarcados = this.trabajadoresMarcados.filter(trabajador => !trabajador.accion);\n    }\n  }\n\n  isOnCurrentPage(trabajador: any): boolean {\n    const index = this.tablaTrabajadores.indexOf(trabajador);\n    const startIndex = (this.currentPage - 1) * this.workersPerPage;\n    const endIndex = this.currentPage * this.workersPerPage;\n    return index >= startIndex && index < endIndex;\n  }\n\n  previousPage() {\n    if (this.currentPage > 1) {\n      this.currentPage--;\n      this.updatePage();\n    }\n  }\n\n  nextPage() {\n    if (this.currentPage * this.workersPerPage < this.tablaTrabajadores.length) {\n      this.currentPage++;\n      this.updatePage();\n    }\n  }\n\n  updatePage() {\n    const trabajadoresEnPaginaActual = this.tablaTrabajadores.slice(\n      (this.currentPage - 1) * this.workersPerPage,\n      this.currentPage * this.workersPerPage\n    );\n\n    const todosMarcados = trabajadoresEnPaginaActual.every(trabajador => trabajador.accion);\n    const otrosMarcados = this.trabajadoresMarcados.every(trabajador => trabajador.accion);\n\n    this.marcarTodos = todosMarcados && otrosMarcados;\n  }\n\n  private async mostrarError(message: string, header?: string) {\n    const alert = await this.alertController.create({\n      header: header || 'Alerta',\n      message: message,\n      buttons: ['OK'],\n    });\n    alert.present();\n  }\n\n  async precargarDatos() {\n    const dataUrl = history.state.data;\n    const tipoPermiso = history.state.tipo;\n    await this.utils.presentLoading();\n    console.log('dataUrl', dataUrl);\n    if (dataUrl) {\n      this.data = dataUrl;\n      this.tablaTrabajadoresService.setListaTrabajadores(dataUrl['listaTrabajadoresMigrados']);\n      this.tipoPermiso = dataUrl['strTipoTrabajo'];\n      this.tablaTrabajadores = dataUrl['listaTrabajadoresMigrados'];\n      this.saveDataService.setData(dataUrl);\n    } else {\n      this.data = new EDGuardarPermisoTrabajoAPP();\n      await this.allTrabajadores();\n      this.saveDataService.setData(this.data);\n      this.tipoPermiso = tipoPermiso;\n    }\n    this.totalPage = Math.ceil(this.tablaTrabajadores.length / this.workersPerPage);\n    this.utils.dismissLoading();\n  }\n\n  numberOnly(event): void {\n    console.log('event', event.key);\n    if (event.key === 'Unidentified') {\n      event.target.value = '';\n    }\n    const regex = new RegExp(/^\\d+$/);\n    if (!regex.test(event.target.value)) {\n      event.target.value = event.target.value.replace(/[^0-9]/g, '');\n    }\n  }\n\n  cleanInput(event): void {\n    console.log('event', event);\n    if (this.numeroDeDocumento) {\n      this.numeroDeDocumento = this.numeroDeDocumento.replace(/[^0-9]/g, '');\n    }\n  }\n}\n"]}