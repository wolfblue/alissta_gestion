{"version":3,"sources":["./src/app/pages/SST/evidencia/evidencia.page.html","./src/app/pages/SST/evidencia/evidencia-routing.module.ts","./src/app/pages/SST/evidencia/evidencia.module.ts","./src/app/pages/SST/evidencia/evidencia.page.scss","./src/app/pages/SST/evidencia/evidencia.page.ts"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAe,irBAAknB,qhCAAqhC,yBAAyB,8eAA8e,E;;;;;;;;;;;;;;;;;;;ACApnE;AACc;AAEN;AAEjD,MAAM,MAAM,GAAW;IACrB;QACE,IAAI,EAAE,EAAE;QACR,SAAS,EAAE,6DAAa;KACzB;IACD;QACE,IAAI,EAAE,kBAAkB;QACxB,YAAY,EAAE,GAAG,EAAE,CAAC,0UAAoE,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,yBAAyB,CAAC;KAChI;CACF,CAAC;IAMW,0BAA0B,SAA1B,0BAA0B;CAAG;AAA7B,0BAA0B;IAJtC,8DAAQ,CAAC;QACR,OAAO,EAAE,CAAC,4DAAY,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;QACxC,OAAO,EAAE,CAAC,4DAAY,CAAC;KACxB,CAAC;GACW,0BAA0B,CAAG;AAAH;;;;;;;;;;;;;;;;;;;;;;;;ACpBE;AACM;AACF;AAEA;AAE2B;AAEvB;AACI;IAMxC,mBAAmB,SAAnB,mBAAmB;CAAG;AAAtB,mBAAmB;IAJ/B,8DAAQ,CAAC;QACR,OAAO,EAAE,CAAC,4DAAY,EAAE,0DAAW,EAAE,0DAAW,EAAE,oFAA0B,EAAE,kEAAY,CAAC;QAC3F,YAAY,EAAE,CAAC,6DAAa,CAAC;KAC9B,CAAC;GACW,mBAAmB,CAAG;AAAH;;;;;;;;;;;;;ACfhC;AAAe,6EAAc,wBAAwB,gBAAgB,oBAAoB,iBAAiB,wBAAwB,kBAAkB,uBAAuB,GAAG,yBAAyB,gBAAgB,GAAG,2BAA2B,+CAA+C,kBAAkB,wBAAwB,GAAG,aAAa,qBAAqB,wBAAwB,kBAAkB,oBAAoB,qBAAqB,8BAA8B,gBAAgB,wBAAwB,GAAG,WAAW,kBAAkB,4BAA4B,wBAAwB,GAAG,0BAA0B,uBAAuB,kBAAkB,kCAAkC,wBAAwB,uBAAuB,gBAAgB,mCAAmC,wBAAwB,eAAe,iBAAiB,oBAAoB,qBAAqB,iBAAiB,kBAAkB,oBAAoB,8BAA8B,GAAG,eAAe,mBAAmB,GAAG,kBAAkB,kBAAkB,4BAA4B,wBAAwB,oBAAoB,uBAAuB,GAAG,4BAA4B,gBAAgB,mCAAmC,qBAAqB,wBAAwB,eAAe,iBAAiB,oBAAoB,qBAAqB,yBAAyB,iBAAiB,kBAAkB,oBAAoB,8BAA8B,GAAG,6BAA6B,+CAA+C,yBAAyB,yBAAyB,gBAAgB,4CAA4C,oCAAoC,oBAAoB,iBAAiB,gBAAgB,wBAAwB,kBAAkB,uBAAuB,GAAG,YAAY,+CAA+C,yBAAyB,yBAAyB,kBAAkB,4BAA4B,wBAAwB,GAAG,2BAA2B,gBAAgB,kBAAkB,mCAAmC,wBAAwB,GAAG,yBAAyB,eAAe,qBAAqB,wBAAwB,uBAAuB,wBAAwB,wBAAwB,mDAAmD,wBAAwB,uBAAuB,GAAG,wBAAwB,gBAAgB,kBAAkB,uBAAuB,4BAA4B,oBAAoB,GAAG,+BAA+B,iBAAiB,gBAAgB,iBAAiB,0BAA0B,GAAG,yBAAyB,0BAA0B,GAAG,sBAAsB,gBAAgB,iBAAiB,GAAG,6CAA6C,+/KAA+/K,E;;;;;;;;;;;;;;;;;;;;;;;;ACAzqQ;AACT;AACyB;AAC8C;AAGvC;AACkB;AAC7B;AAC4B;IAO7E,aAAa,SAAb,aAAa;IAcxB,YACS,eAAgC,EAC/B,MAAc,EACd,WAA4B,EAC5B,eAAgC,EAChC,KAAmB,EACnB,wBAAkD;QALnD,oBAAe,GAAf,eAAe,CAAiB;QAC/B,WAAM,GAAN,MAAM,CAAQ;QACd,gBAAW,GAAX,WAAW,CAAiB;QAC5B,oBAAe,GAAf,eAAe,CAAiB;QAChC,UAAK,GAAL,KAAK,CAAc;QACnB,6BAAwB,GAAxB,wBAAwB,CAA0B;QAlB5D,WAAM,GAAqC;QACzC,IAAI;QACJ,+BAA+B;QAC/B,wGAAwG;QACxG,KAAK;QACL,IAAI;QACJ,+BAA+B;QAC/B,wGAAwG;QACxG,KAAK;SACN,CAAC;QAEF,iBAAY,GAAG,CAAC,CAAC;IAQd,CAAC;IAEJ,QAAQ;QACN,IAAI,CAAC,cAAc,EAAE,CAAC;IACxB,CAAC;IAED,eAAe;QACb,IAAI,CAAC,eAAe;aACjB,MAAM,CAAC;YACN,SAAS,EAAE,6HAA0B;SACtC,CAAC;aACD,IAAI,CAAC,KAAK,CAAC,EAAE;YACZ,KAAK,CAAC,OAAO,EAAE,CAAC;QAClB,CAAC,CAAC,CAAC;IACP,CAAC;IAEK,SAAS;;YACb,IAAI;gBACF,MAAM,cAAc,GAAG,MAAM,wDAAM,CAAC,QAAQ,CAAC;oBAC3C,kBAAkB,EAAE,YAAY;oBAChC,gBAAgB,EAAE,kBAAkB;oBACpC,iBAAiB,EAAE,kBAAkB;oBACrC,iBAAiB,EAAE,UAAU;oBAC7B,OAAO,EAAE,EAAE;oBACX,YAAY,EAAE,KAAK;oBACnB,UAAU,EAAE,kEAAgB,CAAC,MAAM;oBACnC,KAAK,EAAE,GAAG;oBACV,MAAM,EAAE,GAAG;oBACX,MAAM,EAAE,8DAAY,CAAC,MAAM;iBAC5B,CAAC,CAAC;gBAEH,IAAI,cAAc,IAAI,IAAI,EAAE;oBAC1B,OAAO;iBACR;gBAED,MAAM,KAAK,GAAmC;oBAC5C,eAAe,EAAE,OAAO,GAAG,CAAC,IAAI,CAAC,MAAM,CAAC,MAAM,GAAG,CAAC,CAAC;oBACnD,cAAc,EAAE,cAAc,CAAC,YAAY;iBAC5C,CAAC;gBACF,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;gBACxB,IAAI,CAAC,YAAY,EAAE,CAAC;aACrB;YAAC,OAAO,KAAK,EAAE;gBACd,OAAO,CAAC,KAAK,CAAC,yBAAyB,EAAE,KAAK,CAAC,CAAC;gBAChD,4BAA4B;aAC7B;QACH,CAAC;KAAA;IAEK,oBAAoB;;YACxB,IAAI;gBACF,MAAM,IAAI,CAAC,KAAK,CAAC,cAAc,EAAE,CAAC;gBAElC,IAAI,KAAK,GAAG,MAAM,wDAAM,CAAC,UAAU,CAAC,EAAE,OAAO,EAAE,EAAE,EAAE,MAAM,EAAE,GAAG,EAAE,KAAK,EAAE,GAAG,EAAE,kBAAkB,EAAE,IAAI,EAAE,CAAC,CAAC;gBAExG,IAAI,KAAK,IAAI,IAAI,EAAE;oBACjB,OAAO;iBACR;gBACD,MAAM,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC;aAC7B;YAAC,OAAO,KAAK,EAAE;gBACd,OAAO,CAAC,KAAK,CAAC,iCAAiC,EAAE,KAAK,CAAC,CAAC;gBACxD,4BAA4B;aAC7B;oBAAS;gBACR,IAAI,CAAC,KAAK,CAAC,cAAc,EAAE,CAAC;aAC7B;QACH,CAAC;KAAA;IAEK,SAAS,CAAC,aAA4B;;YAC1C,KAAK,IAAI,KAAK,GAAG,CAAC,EAAE,KAAK,GAAG,aAAa,CAAC,MAAM,CAAC,MAAM,EAAE,KAAK,EAAE,EAAE;gBAChE,MAAM,KAAK,GAAG,aAAa,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;gBAC1C,IAAI;oBACF,MAAM,QAAQ,GAAG,MAAM,KAAK,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC;oBAC5C,MAAM,IAAI,GAAG,MAAM,QAAQ,CAAC,IAAI,EAAE,CAAC;oBAEnC,MAAM,MAAM,GAAG,IAAI,UAAU,EAAE,CAAC;oBAEhC,MAAM,IAAI,OAAO,CAAO,OAAO,CAAC,EAAE;wBAChC,MAAM,CAAC,SAAS,GAAG,GAAG,EAAE;4BACtB,MAAM,UAAU,GAAG,MAAM,CAAC,MAAM,CAAC,QAAQ,EAAE,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;4BAC1D,MAAM,KAAK,GAAmC;gCAC5C,eAAe,EAAE,OAAO,GAAG,CAAC,IAAI,CAAC,YAAY,GAAG,CAAC,CAAC;gCAClD,cAAc,EAAE,UAAU,CAAC,QAAQ,EAAE;6BACtC,CAAC;4BACF,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;4BACxB,IAAI,CAAC,YAAY,EAAE,CAAC,CAAC,yBAAyB;4BAC9C,OAAO,EAAE,CAAC;wBACZ,CAAC,CAAC;wBACF,MAAM,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;oBAC7B,CAAC,CAAC,CAAC;iBACJ;gBAAC,OAAO,KAAK,EAAE;oBACd,OAAO,CAAC,KAAK,CAAC,yBAAyB,EAAE,KAAK,CAAC,CAAC;iBACjD;aACF;QACH,CAAC;KAAA;IAED,WAAW,CAAC,KAAqC;QAC/C,4BAA4B;QAC5B,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,CAAC;QAClD,IAAI,IAAI,CAAC,MAAM,CAAC,MAAM,KAAK,CAAC,EAAE;YAC5B,IAAI,CAAC,YAAY,GAAG,CAAC,CAAC;SACvB;IACH,CAAC;IAEK,SAAS;;YACb,IAAI,IAAI,CAAC,MAAM,CAAC,MAAM,KAAK,CAAC,EAAE;gBAC5B,IAAI,CAAC,YAAY,CAAC,kCAAkC,CAAC,CAAC;gBACtD,OAAO;aACR;YACD,MAAM,IAAI,CAAC,YAAY,EAAE,CAAC;YAC1B,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC;gBACnB,yLAAyL;aAC1L,CAAC,CAAC;QACL,CAAC;KAAA;IAEK,YAAY;;YAChB,IAAI,CAAC,IAAI,CAAC,oBAAoB,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC;YAC9C,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC;gBACpB,wKAAwK,CAAC;YAC3K,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;YACpC,IAAI,CAAC,WAAW,CAAC,QAAQ,EAAE,CAAC;QAC9B,CAAC;KAAA;IAEa,YAAY,CAAC,OAAe;;YACxC,MAAM,KAAK,GAAG,MAAM,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC;gBAC9C,MAAM,EAAE,QAAQ;gBAChB,OAAO,EAAE,OAAO;gBAChB,OAAO,EAAE,CAAC,IAAI,CAAC;aAChB,CAAC,CAAC;YACH,KAAK,CAAC,OAAO,EAAE,CAAC;QAClB,CAAC;KAAA;IAEK,cAAc;;YAClB,MAAM,OAAO,GAAG,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC;YACnC,OAAO,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;YACrB,MAAM,IAAI,CAAC,KAAK,CAAC,cAAc,EAAE,CAAC;YAClC,IAAI,OAAO,EAAE;gBACX,IAAI,CAAC,wBAAwB,CAAC,oBAAoB,CAAC,OAAO,CAAC,2BAA2B,CAAC,CAAC,CAAC;gBACzF,IAAI,CAAC,YAAY,GAAG,OAAO,CAAC,oBAAoB,CAAC,CAAC,MAAM,CAAC;gBACzD,IAAI,CAAC,MAAM,GAAG,OAAO,CAAC,oBAAoB,CAAC,CAAC;gBAC5C,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;gBAClC,IAAI,CAAC,IAAI,GAAG,OAAO,CAAC;aACrB;iBAAM;gBACL,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,WAAW,CAAC,OAAO,EAAE,CAAC;gBACvC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,IAAI,CAAC,oBAAoB,CAAC,CAAC;gBAC9C,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;aACrC;YACD,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;YACvB,IAAI,CAAC,KAAK,CAAC,cAAc,EAAE,CAAC;QAC9B,CAAC;KAAA;IAED,IAAI;QACF,IAAI,CAAC,MAAM,CAAC,QAAQ,CAClB;YACE,8JAA8J;SAC/J,EACD,EAAE,KAAK,EAAE,EAAE,IAAI,EAAE,IAAI,CAAC,IAAI,EAAE,EAAE,CAC/B,CAAC;IACJ,CAAC;IAED,eAAe;QACb,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,gBAAgB,CAAC,CAAC,CAAC;IAC3C,CAAC;CACF;;YAnMyB,8DAAe;YADhC,sDAAM;YAKN,sFAAe;YAJf,8DAAe;YAMf,2EAAY;YADZ,wGAAwB;;AASpB,aAAa;IALzB,+DAAS,CAAC;QACT,QAAQ,EAAE,eAAe;QACzB,uOAAoC;;KAErC,CAAC;GACW,aAAa,CAqLzB;AArLyB","file":"src-app-pages-SST-evidencia-evidencia-module-es2015.js","sourcesContent":["export default \"<ion-header>\\n  <app-nav-bar></app-nav-bar>\\n  <div class=\\\"toolbar\\\">\\n    <ion-title style=\\\"color: #7e7e7e\\\"><strong> Registro Permiso</strong></ion-title>\\n  </div>\\n</ion-header>\\n<ion-content>\\n  <div>\\n    <ion-item class=\\\"mostrar-usuarios\\\">\\n      <p class=\\\"center-trabajadores\\\" (click)=\\\"verTrabajadores()\\\">\\n        <ion-icon style=\\\"font-size: 1.1rem\\\" name=\\\"people\\\"></ion-icon>Ver Trabajadores\\n      </p>\\n      <ion-icon (click)=\\\"back()\\\" name=\\\"chevron-back-outline\\\" slot=\\\"start\\\"></ion-icon>\\n    </ion-item>\\n  </div>\\n  <div class=\\\"toolbar toolcontent\\\">\\n    <span> <ion-img style=\\\"width: 32px; height: 32px\\\" src=\\\"assets/img/clarity_book-solid.svg\\\"></ion-img> </span>\\n    <ion-title>Adjuntar Evidencias</ion-title>\\n  </div>\\n  <div class=\\\"ion-padding\\\">\\n    <ion-row>\\n      <ion-col>\\n        <div class=\\\"take-photo\\\" (click)=\\\"selectMultiplePhotos()\\\">\\n          <span><strong> Seleccionar Foto</strong></span>\\n        </div>\\n      </ion-col>\\n      <ion-col>\\n        <div class=\\\"take-photo\\\" (click)=\\\"takePhoto()\\\">\\n          <span><strong>Tomar Foto</strong> </span>\\n        </div>\\n      </ion-col>\\n    </ion-row>\\n    <ion-row class=\\\"ion-text-center icon-color\\\">\\n      <ion-col>\\n        <ion-icon name=\\\"image\\\" size=\\\"large\\\"></ion-icon>\\n      </ion-col>\\n      <ion-col>\\n        <ion-icon name=\\\"camera\\\" size=\\\"large\\\"></ion-icon>\\n      </ion-col>\\n    </ion-row>\\n    <ion-list *ngIf=\\\"photos.length > 0\\\">\\n      <ion-item *ngFor=\\\"let photo of photos\\\" class=\\\"photo-item\\\">\\n        <div class=\\\"photo-content\\\">\\n          <!-- Muestra el nombre de la foto -->\\n          <div class=\\\"titulo-foto\\\">{{ photo.strNombreImagen }}</div>\\n          <div>\\n            <ion-button (click)=\\\"deletePhoto(photo)\\\" fill=\\\"clear\\\" slot=\\\"end\\\">\\n              <ion-icon name=\\\"trash-outline\\\" color=\\\"primary\\\"></ion-icon>\\n            </ion-button>\\n          </div>\\n        </div>\\n      </ion-item>\\n    </ion-list>\\n    <div class=\\\"ion-text-center\\\">\\n      <button class=\\\"guardar-continuar\\\" expand=\\\"block\\\" color=\\\"secondary\\\" (click)=\\\"continuar()\\\">Guardar y Continuar</button>\\n    </div>\\n  </div>\\n</ion-content>\\n\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { EvidenciaPage } from './evidencia.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: EvidenciaPage,\n  },\n  {\n    path: 'aceptar-terminos',\n    loadChildren: () => import('src/app/pages/SST/aceptar-terminos/aceptar-terminos.module').then(m => m.AceptarTerminosPageModule),\n  },\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class EvidenciaPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { EvidenciaPageRoutingModule } from './evidencia-routing.module';\n\nimport { EvidenciaPage } from './evidencia.page';\nimport { SharedModule } from 'src/app/shared.module';\n\n@NgModule({\n  imports: [CommonModule, FormsModule, IonicModule, EvidenciaPageRoutingModule, SharedModule],\n  declarations: [EvidenciaPage],\n})\nexport class EvidenciaPageModule {}\n","export default \"div.toolbar {\\n  background: #beb2b2;\\n  color: #fff;\\n  padding: 0 16px;\\n  height: 48px;\\n  align-items: center;\\n  display: flex;\\n  text-align: center;\\n}\\ndiv.toolbar ion-title {\\n  color: #fff;\\n}\\ndiv.toolbar.toolcontent {\\n  background-color: var(--ion-color-primary);\\n  display: flex;\\n  align-items: center;\\n}\\nion-label {\\n  margin-top: 12px;\\n  margin-bottom: auto;\\n  padding: auto;\\n  font-size: 14px;\\n  font-weight: 500;\\n  text-transform: uppercase;\\n  color: #000;\\n  text-align: justify;\\n}\\nion-row {\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n}\\nion-row div.take-photo {\\n  margin-bottom: 4px;\\n  display: flex;\\n  justify-content: space-evenly;\\n  align-items: center;\\n  border-radius: 50%;\\n  color: #000;\\n  background: #dedede !important;\\n  border-radius: 24px;\\n  width: 95%;\\n  height: 40px;\\n  font-size: 12px;\\n  font-weight: 500;\\n  border: none;\\n  outline: none;\\n  cursor: pointer;\\n  transition: all 0.3s ease;\\n}\\n.icon-color {\\n  color: #ff7500;\\n}\\n.photo-content {\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n  margin-top: 4px;\\n  margin-bottom: 4px;\\n}\\nbutton.guardar-continuar {\\n  color: #fff;\\n  background: #4b9a49 !important;\\n  margin-top: 10px;\\n  border-radius: 24px;\\n  width: 80%;\\n  height: 24px;\\n  font-size: 14px;\\n  font-weight: 500;\\n  text-transform: none;\\n  border: none;\\n  outline: none;\\n  cursor: pointer;\\n  transition: all 0.3s ease;\\n}\\nion-item.mostrar-usuarios {\\n  /* quitar estilos */\\n  --background: none;\\n  --border-color: none;\\n  --border-style: none;\\n  width: 100%;\\n  background: var(--ion-background-color);\\n  color: var(--ion-color-primary);\\n  padding: 0 16px;\\n  height: 48px;\\n  width: 100%;\\n  align-items: center;\\n  display: flex;\\n  text-align: center;\\n}\\nion-item {\\n  /* quitar estilos */\\n  --background: none;\\n  --border-color: none;\\n  --border-style: none;\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n}\\nion-item .photo-content {\\n  width: 100%;\\n  display: flex;\\n  justify-content: space-between;\\n  align-items: center;\\n}\\nion-item .titulo-foto {\\n  width: 80%;\\n  padding-top: 8px;\\n  padding-bottom: 8px;\\n  padding-left: 18px;\\n  padding-right: 18px;\\n  background: #dedede;\\n  box-shadow: 0px 0px 5px 0px rgba(0, 0, 0, 0.4);\\n  border-radius: 50px;\\n  text-align: center;\\n}\\n.center-trabajadores {\\n  width: 100%;\\n  display: flex;\\n  text-align: center;\\n  justify-content: center;\\n  font-size: 17px;\\n}\\nion-fab-button.float-button {\\n  --padding: 0;\\n  --margin: 0;\\n  --size: 44px;\\n  --background: #ff7500;\\n}\\nion-icon.float-button {\\n  --background: #ff7500;\\n}\\n.custom-icon-float {\\n  width: 100%;\\n  height: 100%;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvU1NUL2V2aWRlbmNpYS9ldmlkZW5jaWEucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsbUJBQUE7RUFDQSxXQUFBO0VBQ0EsZUFBQTtFQUNBLFlBQUE7RUFDQSxtQkFBQTtFQUNBLGFBQUE7RUFDQSxrQkFBQTtBQUNGO0FBQUU7RUFDRSxXQUFBO0FBRUo7QUFBRTtFQUNFLDBDQUFBO0VBQ0EsYUFBQTtFQUNBLG1CQUFBO0FBRUo7QUFFQTtFQUNFLGdCQUFBO0VBQ0EsbUJBQUE7RUFDQSxhQUFBO0VBQ0EsZUFBQTtFQUNBLGdCQUFBO0VBQ0EseUJBQUE7RUFDQSxXQUFBO0VBQ0EsbUJBQUE7QUFDRjtBQUNBO0VBQ0UsYUFBQTtFQUNBLHVCQUFBO0VBQ0EsbUJBQUE7QUFFRjtBQUFFO0VBQ0Usa0JBQUE7RUFDQSxhQUFBO0VBQ0EsNkJBQUE7RUFDQSxtQkFBQTtFQUVBLGtCQUFBO0VBQ0EsV0FBQTtFQUNBLDhCQUFBO0VBQ0EsbUJBQUE7RUFDQSxVQUFBO0VBQ0EsWUFBQTtFQUNBLGVBQUE7RUFDQSxnQkFBQTtFQUNBLFlBQUE7RUFDQSxhQUFBO0VBQ0EsZUFBQTtFQUNBLHlCQUFBO0FBQ0o7QUFHQTtFQUNFLGNBQUE7QUFBRjtBQUdBO0VBQ0UsYUFBQTtFQUNBLHVCQUFBO0VBQ0EsbUJBQUE7RUFDQSxlQUFBO0VBQ0Esa0JBQUE7QUFBRjtBQUdBO0VBQ0UsV0FBQTtFQUNBLDhCQUFBO0VBQ0EsZ0JBQUE7RUFDQSxtQkFBQTtFQUNBLFVBQUE7RUFDQSxZQUFBO0VBQ0EsZUFBQTtFQUNBLGdCQUFBO0VBQ0Esb0JBQUE7RUFDQSxZQUFBO0VBQ0EsYUFBQTtFQUNBLGVBQUE7RUFDQSx5QkFBQTtBQUFGO0FBR0E7RUFDRSxtQkFBQTtFQUNBLGtCQUFBO0VBQ0Esb0JBQUE7RUFDQSxvQkFBQTtFQUNBLFdBQUE7RUFDQSx1Q0FBQTtFQUNBLCtCQUFBO0VBQ0EsZUFBQTtFQUNBLFlBQUE7RUFDQSxXQUFBO0VBQ0EsbUJBQUE7RUFDQSxhQUFBO0VBQ0Esa0JBQUE7QUFBRjtBQUdBO0VBQ0UsbUJBQUE7RUFDQSxrQkFBQTtFQUNBLG9CQUFBO0VBQ0Esb0JBQUE7RUFDQSxhQUFBO0VBQ0EsdUJBQUE7RUFDQSxtQkFBQTtBQUFGO0FBQ0U7RUFDRSxXQUFBO0VBQ0EsYUFBQTtFQUNBLDhCQUFBO0VBQ0EsbUJBQUE7QUFDSjtBQUNFO0VBQ0UsVUFBQTtFQUNBLGdCQUFBO0VBQ0EsbUJBQUE7RUFDQSxrQkFBQTtFQUNBLG1CQUFBO0VBQ0EsbUJBQUE7RUFDQSw4Q0FBQTtFQUNBLG1CQUFBO0VBQ0Esa0JBQUE7QUFDSjtBQUdBO0VBQ0UsV0FBQTtFQUNBLGFBQUE7RUFDQSxrQkFBQTtFQUNBLHVCQUFBO0VBQ0EsZUFBQTtBQUFGO0FBR0E7RUFDRSxZQUFBO0VBQ0EsV0FBQTtFQUNBLFlBQUE7RUFDQSxxQkFBQTtBQUFGO0FBR0E7RUFDRSxxQkFBQTtBQUFGO0FBR0E7RUFDRSxXQUFBO0VBQ0EsWUFBQTtBQUFGIiwiZmlsZSI6InNyYy9hcHAvcGFnZXMvU1NUL2V2aWRlbmNpYS9ldmlkZW5jaWEucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiZGl2LnRvb2xiYXIge1xuICBiYWNrZ3JvdW5kOiAjYmViMmIyO1xuICBjb2xvcjogI2ZmZjtcbiAgcGFkZGluZzogMCAxNnB4O1xuICBoZWlnaHQ6IDQ4cHg7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgaW9uLXRpdGxlIHtcbiAgICBjb2xvcjogI2ZmZjtcbiAgfVxuICAmLnRvb2xjb250ZW50IHtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1pb24tY29sb3ItcHJpbWFyeSk7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICB9XG59XG5cbmlvbi1sYWJlbCB7XG4gIG1hcmdpbi10b3A6IDEycHg7XG4gIG1hcmdpbi1ib3R0b206IGF1dG87XG4gIHBhZGRpbmc6IGF1dG87XG4gIGZvbnQtc2l6ZTogMTRweDtcbiAgZm9udC13ZWlnaHQ6IDUwMDtcbiAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTtcbiAgY29sb3I6ICMwMDA7XG4gIHRleHQtYWxpZ246IGp1c3RpZnk7XG59XG5pb24tcm93IHtcbiAgZGlzcGxheTogZmxleDtcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG5cbiAgJiBkaXYudGFrZS1waG90byB7XG4gICAgbWFyZ2luLWJvdHRvbTogNHB4O1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1ldmVubHk7XG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcblxuICAgIGJvcmRlci1yYWRpdXM6IDUwJTtcbiAgICBjb2xvcjogIzAwMDtcbiAgICBiYWNrZ3JvdW5kOiAjZGVkZWRlICFpbXBvcnRhbnQ7XG4gICAgYm9yZGVyLXJhZGl1czogMjRweDtcbiAgICB3aWR0aDogOTUlO1xuICAgIGhlaWdodDogNDBweDtcbiAgICBmb250LXNpemU6IDEycHg7XG4gICAgZm9udC13ZWlnaHQ6IDUwMDtcbiAgICBib3JkZXI6IG5vbmU7XG4gICAgb3V0bGluZTogbm9uZTtcbiAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgdHJhbnNpdGlvbjogYWxsIDAuM3MgZWFzZTtcbiAgfVxufVxuXG4uaWNvbi1jb2xvciB7XG4gIGNvbG9yOiAjZmY3NTAwO1xufVxuXG4ucGhvdG8tY29udGVudCB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xuICBtYXJnaW4tdG9wOiA0cHg7XG4gIG1hcmdpbi1ib3R0b206IDRweDtcbn1cblxuYnV0dG9uLmd1YXJkYXItY29udGludWFyIHtcbiAgY29sb3I6ICNmZmY7XG4gIGJhY2tncm91bmQ6ICM0YjlhNDkgIWltcG9ydGFudDtcbiAgbWFyZ2luLXRvcDogMTBweDtcbiAgYm9yZGVyLXJhZGl1czogMjRweDtcbiAgd2lkdGg6IDgwJTtcbiAgaGVpZ2h0OiAyNHB4O1xuICBmb250LXNpemU6IDE0cHg7XG4gIGZvbnQtd2VpZ2h0OiA1MDA7XG4gIHRleHQtdHJhbnNmb3JtOiBub25lO1xuICBib3JkZXI6IG5vbmU7XG4gIG91dGxpbmU6IG5vbmU7XG4gIGN1cnNvcjogcG9pbnRlcjtcbiAgdHJhbnNpdGlvbjogYWxsIDAuM3MgZWFzZTtcbn1cblxuaW9uLWl0ZW0ubW9zdHJhci11c3VhcmlvcyB7XG4gIC8qIHF1aXRhciBlc3RpbG9zICovXG4gIC0tYmFja2dyb3VuZDogbm9uZTtcbiAgLS1ib3JkZXItY29sb3I6IG5vbmU7XG4gIC0tYm9yZGVyLXN0eWxlOiBub25lO1xuICB3aWR0aDogMTAwJTtcbiAgYmFja2dyb3VuZDogdmFyKC0taW9uLWJhY2tncm91bmQtY29sb3IpO1xuICBjb2xvcjogdmFyKC0taW9uLWNvbG9yLXByaW1hcnkpO1xuICBwYWRkaW5nOiAwIDE2cHg7XG4gIGhlaWdodDogNDhweDtcbiAgd2lkdGg6IDEwMCU7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbn1cblxuaW9uLWl0ZW0ge1xuICAvKiBxdWl0YXIgZXN0aWxvcyAqL1xuICAtLWJhY2tncm91bmQ6IG5vbmU7XG4gIC0tYm9yZGVyLWNvbG9yOiBub25lO1xuICAtLWJvcmRlci1zdHlsZTogbm9uZTtcbiAgZGlzcGxheTogZmxleDtcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICYgLnBob3RvLWNvbnRlbnQge1xuICAgIHdpZHRoOiAxMDAlO1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIH1cbiAgJiAudGl0dWxvLWZvdG8ge1xuICAgIHdpZHRoOiA4MCU7XG4gICAgcGFkZGluZy10b3A6IDhweDtcbiAgICBwYWRkaW5nLWJvdHRvbTogOHB4O1xuICAgIHBhZGRpbmctbGVmdDogMThweDtcbiAgICBwYWRkaW5nLXJpZ2h0OiAxOHB4O1xuICAgIGJhY2tncm91bmQ6ICNkZWRlZGU7XG4gICAgYm94LXNoYWRvdzogMHB4IDBweCA1cHggMHB4IHJnYmEoMCwgMCwgMCwgMC40KTtcbiAgICBib3JkZXItcmFkaXVzOiA1MHB4O1xuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgfVxufVxuXG4uY2VudGVyLXRyYWJhamFkb3JlcyB7XG4gIHdpZHRoOiAxMDAlO1xuICBkaXNwbGF5OiBmbGV4O1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICBmb250LXNpemU6IDE3cHg7XG59XG5cbmlvbi1mYWItYnV0dG9uLmZsb2F0LWJ1dHRvbiB7XG4gIC0tcGFkZGluZzogMDtcbiAgLS1tYXJnaW46IDA7XG4gIC0tc2l6ZTogNDRweDtcbiAgLS1iYWNrZ3JvdW5kOiAjZmY3NTAwO1xufVxuXG5pb24taWNvbi5mbG9hdC1idXR0b24ge1xuICAtLWJhY2tncm91bmQ6ICNmZjc1MDA7XG59XG5cbi5jdXN0b20taWNvbi1mbG9hdCB7XG4gIHdpZHRoOiAxMDAlO1xuICBoZWlnaHQ6IDEwMCU7XG59XG4iXX0= */\";","import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { AlertController, ModalController } from '@ionic/angular';\nimport { ModalTrabajadoresComponent } from 'src/app/components/modal-trabajadores/modal-trabajadores.component';\nimport { EDAnexosImagenesPermisoTrabajo } from 'src/app/interfaces/edanexos-imagenes-permiso-trabajo';\nimport { EDGuardarPermisoTrabajoAPP } from 'src/app/interfaces/edguardar-permiso-trabajo-app';\nimport { SaveDataService } from 'src/app/services/SST/save-data.service';\nimport { TablaTrabajadoresService } from 'src/app/services/SST/tabla-trabajadores.service';\nimport { UtilsService } from 'src/app/services/utils.service';\nimport { Camera, CameraResultType, CameraSource, GalleryPhotos } from '@capacitor/camera';\n\n@Component({\n  selector: 'app-evidencia',\n  templateUrl: './evidencia.page.html',\n  styleUrls: ['./evidencia.page.scss'],\n})\nexport class EvidenciaPage implements OnInit {\n  data: EDGuardarPermisoTrabajoAPP;\n  photos: EDAnexosImagenesPermisoTrabajo[] = [\n    // {\n    //   strNombreImagen: 'Foto 1',\n    //   strBase64Image: 'file:///storage/emulated/0/Android/data/io.ionic.starter/cache/1589394485483.jpg',\n    // },\n    // {\n    //   strNombreImagen: 'Foto 1',\n    //   strBase64Image: 'file:///storage/emulated/0/Android/data/io.ionic.starter/cache/1589394485483.jpg',\n    // },\n  ];\n\n  counterPhoto = 0;\n  constructor(\n    public modalController: ModalController,\n    private router: Router,\n    private dataService: SaveDataService,\n    private alertController: AlertController,\n    private utils: UtilsService,\n    private tablaTrabajadoresService: TablaTrabajadoresService\n  ) {}\n\n  ngOnInit() {\n    this.precargarDatos();\n  }\n\n  verTrabajadores() {\n    this.modalController\n      .create({\n        component: ModalTrabajadoresComponent,\n      })\n      .then(modal => {\n        modal.present();\n      });\n  }\n\n  async takePhoto() {\n    try {\n      const capturePicture = await Camera.getPhoto({\n        promptLabelPicture: 'Tomar foto',\n        promptLabelPhoto: 'Seleccionar foto',\n        promptLabelHeader: 'Seleccionar foto',\n        promptLabelCancel: 'Cancelar',\n        quality: 80,\n        allowEditing: false,\n        resultType: CameraResultType.Base64,\n        width: 400,\n        height: 400,\n        source: CameraSource.Camera,\n      });\n\n      if (capturePicture == null) {\n        return;\n      }\n\n      const photo: EDAnexosImagenesPermisoTrabajo = {\n        strNombreImagen: 'Foto ' + (this.photos.length + 1),\n        strBase64Image: capturePicture.base64String, // URI de la imagen\n      };\n      this.photos.push(photo);\n      this.counterPhoto++;\n    } catch (error) {\n      console.error('Error al tomar la foto:', error);\n      // this.mostrarError(error);\n    }\n  }\n\n  async selectMultiplePhotos() {\n    try {\n      await this.utils.presentLoading();\n\n      let fotos = await Camera.pickImages({ quality: 50, height: 400, width: 400, correctOrientation: true });\n\n      if (fotos == null) {\n        return;\n      }\n      await this.addPhotos(fotos);\n    } catch (error) {\n      console.error('Error al seleccionar las fotos:', error);\n      // this.mostrarError(error);\n    } finally {\n      this.utils.dismissLoading();\n    }\n  }\n\n  async addPhotos(fotosCargadas: GalleryPhotos) {\n    for (let index = 0; index < fotosCargadas.photos.length; index++) {\n      const image = fotosCargadas.photos[index];\n      try {\n        const response = await fetch(image.webPath);\n        const blob = await response.blob();\n\n        const reader = new FileReader();\n\n        await new Promise<void>(resolve => {\n          reader.onloadend = () => {\n            const base64data = reader.result.toString().split(',')[1];\n            const photo: EDAnexosImagenesPermisoTrabajo = {\n              strNombreImagen: 'Foto ' + (this.counterPhoto + 1), // Aumenta el contador\n              strBase64Image: base64data.toString(),\n            };\n            this.photos.push(photo);\n            this.counterPhoto++; // Incrementa el contador\n            resolve();\n          };\n          reader.readAsDataURL(blob);\n        });\n      } catch (error) {\n        console.error('Error al cargar imagen:', error);\n      }\n    }\n  }\n\n  deletePhoto(photo: EDAnexosImagenesPermisoTrabajo) {\n    // Elimina la foto del array\n    this.photos.splice(this.photos.indexOf(photo), 1);\n    if (this.photos.length === 0) {\n      this.counterPhoto = 0;\n    }\n  }\n\n  async continuar() {\n    if (this.photos.length === 0) {\n      this.mostrarError('Debe agregar al menos una imagen');\n      return;\n    }\n    await this.guardarDatos();\n    this.router.navigate([\n      '/home/permisos/registro-permiso/crear-permiso/inicio-permiso/seccion-general/seccion-multiusos/seccion-plataforma/descripcion-actividad/proteccion-colectiva/evidencia/aceptar-terminos',\n    ]);\n  }\n\n  async guardarDatos() {\n    this.data['listaAnexoImagenes'] = this.photos;\n    this.data['lastRoute'] =\n      '/home/permisos/registro-permiso/crear-permiso/inicio-permiso/seccion-general/seccion-multiusos/seccion-plataforma/descripcion-actividad/proteccion-colectiva/evidencia';\n    this.dataService.setData(this.data);\n    this.dataService.saveData();\n  }\n\n  private async mostrarError(message: string) {\n    const alert = await this.alertController.create({\n      header: 'Alerta',\n      message: message,\n      buttons: ['OK'],\n    });\n    alert.present();\n  }\n\n  async precargarDatos() {\n    const dataUrl = history.state.data;\n    console.log(dataUrl);\n    await this.utils.presentLoading();\n    if (dataUrl) {\n      this.tablaTrabajadoresService.setListaTrabajadores(dataUrl['listaTrabajadoresMigrados']);\n      this.counterPhoto = dataUrl['listaAnexoImagenes'].length;\n      this.photos = dataUrl['listaAnexoImagenes'];\n      this.dataService.setData(dataUrl);\n      this.data = dataUrl;\n    } else {\n      this.data = this.dataService.getData();\n      this.photos = this.data['listaAnexoImagenes'];\n      this.dataService.setData(this.data);\n    }\n    console.log(this.data);\n    this.utils.dismissLoading();\n  }\n\n  back() {\n    this.router.navigate(\n      [\n        '/home/permisos/registro-permiso/crear-permiso/inicio-permiso/seccion-general/seccion-multiusos/seccion-plataforma/descripcion-actividad/proteccion-colectiva',\n      ],\n      { state: { data: this.data } }\n    );\n  }\n\n  pushPermisosSST(): void {\n    this.router.navigate(['/home/permisos']);\n  }\n}\n"],"sourceRoot":"webpack:///"}