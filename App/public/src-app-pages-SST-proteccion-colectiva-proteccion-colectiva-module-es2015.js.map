{"version":3,"sources":["./src/app/pages/SST/proteccion-colectiva/proteccion-colectiva.page.html","./src/app/pages/SST/proteccion-colectiva/proteccion-colectiva-routing.module.ts","./src/app/pages/SST/proteccion-colectiva/proteccion-colectiva.module.ts","./src/app/pages/SST/proteccion-colectiva/proteccion-colectiva.page.scss","./src/app/pages/SST/proteccion-colectiva/proteccion-colectiva.page.ts"],"names":[],"mappings":"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","file":"src-app-pages-SST-proteccion-colectiva-proteccion-colectiva-module-es2015.js","sourcesContent":["export default \"<ion-header>\\n  <app-nav-bar></app-nav-bar>\\n  <div class=\\\"toolbar\\\">\\n    <ion-title style=\\\"color: #7e7e7e; padding: 0\\\"><strong> Registro Permiso</strong></ion-title>\\n  </div>\\n</ion-header>\\n\\n<ion-content>\\n  <div>\\n    <ion-item class=\\\"mostrar-usuarios\\\">\\n      <p class=\\\"center-trabajadores\\\" (click)=\\\"verTrabajadores()\\\">\\n        <ion-icon style=\\\"font-size: 1.1rem\\\" name=\\\"people\\\"></ion-icon>Ver Trabajadores\\n      </p>\\n      <ion-icon (click)=\\\"back()\\\" name=\\\"chevron-back-outline\\\" slot=\\\"start\\\"></ion-icon>\\n    </ion-item>\\n  </div>\\n  <div class=\\\"toolbar toolcontent\\\">\\n    <ion-icon style=\\\"width: 24px; height: 24px\\\" name=\\\"shield-half-outline\\\"></ion-icon>\\n    <ion-title>Proteccion Colectiva e Individual</ion-title>\\n  </div>\\n  <div class=\\\"ion-padding\\\">\\n    <ion-list *ngFor=\\\"let maestro of maestroPadre\\\">\\n      <ion-card-header>\\n        <ion-card-title>{{maestro.strDescricionPermiso}}</ion-card-title>\\n      </ion-card-header>\\n\\n      <ion-item\\n        *ngIf=\\\"tituloEitmes[maestro.Pk_ID_PermisoAlturas_ItemProteccionPadre].length ===0\\\"\\n        class=\\\"ion-padding-start ion-padding-end border\\\"\\n      >\\n        <ion-label>Ésta protección colectiva no tiene items creados</ion-label>\\n        <ion-select multiple=\\\"true\\\" cancelText=\\\"Cancelar\\\" okText=\\\"Aceptar\\\"></ion-select>\\n      </ion-item>\\n      <ion-item\\n        *ngIf=\\\"tituloEitmes[maestro.Pk_ID_PermisoAlturas_ItemProteccionPadre].length !==0\\\"\\n        class=\\\"ion-padding-start ion-padding-end border\\\"\\n      >\\n        <ionic-selectable\\n          item-content\\n          [(ngModel)]=\\\"selectedItems[maestro.Pk_ID_PermisoAlturas_ItemProteccionPadre]\\\"\\n          [itemValueField]=\\\"'Pk_ID_PermisoAlturas_ProteccionHijos'\\\"\\n          [itemTextField]=\\\"'strDescricionPermiso'\\\"\\n          [items]=\\\"tituloEitmes[maestro.Pk_ID_PermisoAlturas_ItemProteccionPadre]\\\"\\n          [canSearch]=\\\"true\\\"\\n          (onChange)=\\\"portChange($event)\\\"\\n          [isMultiple]=\\\"true\\\"\\n          closeButtonText=\\\"Cancelar\\\"\\n          closeButtonSlot=\\\"end\\\"\\n          placeholder=\\\"Seleccione...\\\"\\n          [searchFailText]=\\\"'No encontramos el item buscado'\\\"\\n          searchPlaceholder=\\\"Buscar\\\"\\n        >\\n        </ionic-selectable>\\n      </ion-item>\\n    </ion-list>\\n    <ion-col class=\\\"question\\\">\\n      <ion-card-header>\\n        <ion-card-title> <strong class=\\\"requieredQues\\\">*</strong> Observaciones</ion-card-title>\\n      </ion-card-header>\\n      <div *ngIf=\\\"submited && !observaciones\\\" class=\\\"error-message\\\">Campo requerido</div>\\n      <ion-card-content>\\n        <ion-row>\\n          <ion-textarea (ionChange)=\\\"actualizarContador($event)\\\" [(ngModel)]=\\\"observaciones\\\" maxlength=\\\"2000\\\"></ion-textarea>\\n        </ion-row>\\n        <p class=\\\"counter\\\">{{contadorObs}}/2000</p>\\n      </ion-card-content>\\n    </ion-col>\\n\\n    <div class=\\\"ion-text-center ion-padding\\\">\\n      <button class=\\\"guardar-continuar\\\" expand=\\\"block\\\" color=\\\"secondary\\\" (click)=\\\"continuar()\\\">Guardar y Continuar</button>\\n    </div>\\n  </div>\\n</ion-content>\\n\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { ProteccionColectivaPage } from './proteccion-colectiva.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ProteccionColectivaPage,\n  },\n  {\n    path: 'evidencia',\n    loadChildren: () => import('src/app/pages/SST/evidencia/evidencia.module').then(m => m.EvidenciaPageModule),\n  },\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class ProteccionColectivaPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ProteccionColectivaPageRoutingModule } from './proteccion-colectiva-routing.module';\n\nimport { ProteccionColectivaPage } from './proteccion-colectiva.page';\nimport { SharedModule } from 'src/app/shared.module';\n\n@NgModule({\n  imports: [CommonModule, FormsModule, IonicModule, ProteccionColectivaPageRoutingModule, SharedModule],\n  declarations: [ProteccionColectivaPage],\n})\nexport class ProteccionColectivaPageModule {}\n","export default \"div.toolbar {\\n  background: #beb2b2;\\n  color: #fff;\\n  padding: 0 16px;\\n  height: 48px;\\n  align-items: center;\\n  display: flex;\\n  text-align: center;\\n}\\ndiv.toolbar ion-title {\\n  color: #fff;\\n}\\ndiv.toolbar.toolcontent {\\n  background-color: var(--ion-color-primary);\\n}\\nbutton.guardar-continuar {\\n  color: #fff;\\n  background: #4b9a49 !important;\\n  margin-top: 10px;\\n  border-radius: 24px;\\n  width: 80%;\\n  height: 24px;\\n  font-size: 14px;\\n  font-weight: 500;\\n  text-transform: none;\\n  border: none;\\n  outline: none;\\n  cursor: pointer;\\n  transition: all 0.3s ease;\\n}\\nion-label {\\n  margin-top: 12px;\\n  margin-bottom: auto;\\n  padding: auto;\\n  font-size: 14px;\\n  font-weight: 500;\\n  text-transform: uppercase;\\n  color: #000;\\n  text-align: justify;\\n}\\nion-item.mostrar-usuarios {\\n  /* quitar estilos */\\n  --background: none;\\n  --border-color: none;\\n  --border-style: none;\\n  width: 100%;\\n  background: var(--ion-background-color);\\n  color: var(--ion-color-primary);\\n  padding: 0 16px;\\n  height: 48px;\\n  width: 100%;\\n  align-items: center;\\n  display: flex;\\n  text-align: center;\\n}\\nion-card-title {\\n  color: var(--ion-color-primary);\\n  font-weight: 600;\\n}\\n.scroll-custom {\\n  text-overflow: clip !important;\\n  white-space: nowrap !important;\\n  overflow: scroll !important;\\n}\\ndiv.alert-checkbox-label {\\n  text-overflow: clip !important;\\n  white-space: nowrap !important;\\n  overflow: scroll !important;\\n}\\nion-textarea {\\n  margin: 0;\\n  margin-bottom: 10px;\\n  padding: 0;\\n  width: 100%;\\n  height: 80px;\\n  border: 1px solid var(--ion-color-medium);\\n  border-radius: 5px;\\n}\\nion-card {\\n  width: 100%;\\n}\\n.requieredQues {\\n  color: red !important;\\n}\\nion-item.border {\\n  height: 45px;\\n  border: 1px solid #808080;\\n  border-radius: 10px;\\n}\\n.center-trabajadores {\\n  width: 100%;\\n  display: flex;\\n  text-align: center;\\n  justify-content: center;\\n  font-size: 17px;\\n}\\nion-select {\\n  width: 100%;\\n}\\np.counter {\\n  display: flex;\\n  color: #85b3e1 !important;\\n  justify-content: end;\\n  margin-top: 0;\\n  color: var(--ion-color-primary);\\n}\\n.select-icon {\\n  width: 12px;\\n  height: 26px;\\n  opacity: 1;\\n}\\nalert-checkbox-label.sc-ion-alert-md {\\n  padding-left: 53px;\\n  padding-right: 26px;\\n  padding-top: 13px;\\n  padding-bottom: 13px;\\n  flex: 1;\\n  color: var(--ion-color-step-850, #262626);\\n  font-size: 16px;\\n  text-overflow: clip;\\n  white-space: nowrap;\\n  overflow: auto;\\n}\\n.error-message {\\n  color: red;\\n  font-size: 12px;\\n}\\nion-modal.modal-wrapper.ion-overlay-wrapper.sc-ion-modal-md,\\nion-modal.modal-wrapper.ion-overlay-wrapper.sc-ion-modal-ios {\\n  width: 80% !important;\\n  height: 80% !important;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvU1NUL3Byb3RlY2Npb24tY29sZWN0aXZhL3Byb3RlY2Npb24tY29sZWN0aXZhLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLG1CQUFBO0VBQ0EsV0FBQTtFQUNBLGVBQUE7RUFDQSxZQUFBO0VBQ0EsbUJBQUE7RUFDQSxhQUFBO0VBQ0Esa0JBQUE7QUFDRjtBQUFFO0VBQ0UsV0FBQTtBQUVKO0FBQUU7RUFDRSwwQ0FBQTtBQUVKO0FBRUE7RUFDRSxXQUFBO0VBQ0EsOEJBQUE7RUFDQSxnQkFBQTtFQUNBLG1CQUFBO0VBQ0EsVUFBQTtFQUNBLFlBQUE7RUFDQSxlQUFBO0VBQ0EsZ0JBQUE7RUFDQSxvQkFBQTtFQUNBLFlBQUE7RUFDQSxhQUFBO0VBQ0EsZUFBQTtFQUNBLHlCQUFBO0FBQ0Y7QUFDQTtFQUNFLGdCQUFBO0VBQ0EsbUJBQUE7RUFDQSxhQUFBO0VBQ0EsZUFBQTtFQUNBLGdCQUFBO0VBQ0EseUJBQUE7RUFDQSxXQUFBO0VBQ0EsbUJBQUE7QUFFRjtBQUFBO0VBQ0UsbUJBQUE7RUFDQSxrQkFBQTtFQUNBLG9CQUFBO0VBQ0Esb0JBQUE7RUFDQSxXQUFBO0VBQ0EsdUNBQUE7RUFDQSwrQkFBQTtFQUNBLGVBQUE7RUFDQSxZQUFBO0VBQ0EsV0FBQTtFQUNBLG1CQUFBO0VBQ0EsYUFBQTtFQUNBLGtCQUFBO0FBR0Y7QUFBQTtFQUNFLCtCQUFBO0VBQ0EsZ0JBQUE7QUFHRjtBQUFBO0VBQ0UsOEJBQUE7RUFDQSw4QkFBQTtFQUNBLDJCQUFBO0FBR0Y7QUFEQTtFQUNFLDhCQUFBO0VBQ0EsOEJBQUE7RUFDQSwyQkFBQTtBQUlGO0FBREE7RUFDRSxTQUFBO0VBQ0EsbUJBQUE7RUFDQSxVQUFBO0VBQ0EsV0FBQTtFQUNBLFlBQUE7RUFDQSx5Q0FBQTtFQUNBLGtCQUFBO0FBSUY7QUFEQTtFQUNFLFdBQUE7QUFJRjtBQURBO0VBQ0UscUJBQUE7QUFJRjtBQURBO0VBQ0UsWUFBQTtFQUNBLHlCQUFBO0VBQ0EsbUJBQUE7QUFJRjtBQURBO0VBQ0UsV0FBQTtFQUNBLGFBQUE7RUFDQSxrQkFBQTtFQUNBLHVCQUFBO0VBQ0EsZUFBQTtBQUlGO0FBREE7RUFDRSxXQUFBO0FBSUY7QUFEQTtFQUNFLGFBQUE7RUFDQSx5QkFBQTtFQUNBLG9CQUFBO0VBQ0EsYUFBQTtFQUNBLCtCQUFBO0FBSUY7QUFEQTtFQUNFLFdBQUE7RUFDQSxZQUFBO0VBQ0EsVUFBQTtBQUlGO0FBREE7RUFDRSxrQkFBQTtFQUNBLG1CQUFBO0VBQ0EsaUJBQUE7RUFDQSxvQkFBQTtFQUVBLE9BQUE7RUFDQSx5Q0FBQTtFQUNBLGVBQUE7RUFDQSxtQkFBQTtFQUNBLG1CQUFBO0VBQ0EsY0FBQTtBQUlGO0FBREE7RUFDRSxVQUFBO0VBQ0EsZUFBQTtBQUlGO0FBREE7O0VBRUUscUJBQUE7RUFDQSxzQkFBQTtBQUlGIiwiZmlsZSI6InNyYy9hcHAvcGFnZXMvU1NUL3Byb3RlY2Npb24tY29sZWN0aXZhL3Byb3RlY2Npb24tY29sZWN0aXZhLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbImRpdi50b29sYmFyIHtcbiAgYmFja2dyb3VuZDogI2JlYjJiMjtcbiAgY29sb3I6ICNmZmY7XG4gIHBhZGRpbmc6IDAgMTZweDtcbiAgaGVpZ2h0OiA0OHB4O1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xuICBkaXNwbGF5OiBmbGV4O1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gIGlvbi10aXRsZSB7XG4gICAgY29sb3I6ICNmZmY7XG4gIH1cbiAgJi50b29sY29udGVudCB7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0taW9uLWNvbG9yLXByaW1hcnkpO1xuICB9XG59XG5cbmJ1dHRvbi5ndWFyZGFyLWNvbnRpbnVhciB7XG4gIGNvbG9yOiAjZmZmO1xuICBiYWNrZ3JvdW5kOiAjNGI5YTQ5ICFpbXBvcnRhbnQ7XG4gIG1hcmdpbi10b3A6IDEwcHg7XG4gIGJvcmRlci1yYWRpdXM6IDI0cHg7XG4gIHdpZHRoOiA4MCU7XG4gIGhlaWdodDogMjRweDtcbiAgZm9udC1zaXplOiAxNHB4O1xuICBmb250LXdlaWdodDogNTAwO1xuICB0ZXh0LXRyYW5zZm9ybTogbm9uZTtcbiAgYm9yZGVyOiBub25lO1xuICBvdXRsaW5lOiBub25lO1xuICBjdXJzb3I6IHBvaW50ZXI7XG4gIHRyYW5zaXRpb246IGFsbCAwLjNzIGVhc2U7XG59XG5pb24tbGFiZWwge1xuICBtYXJnaW4tdG9wOiAxMnB4O1xuICBtYXJnaW4tYm90dG9tOiBhdXRvO1xuICBwYWRkaW5nOiBhdXRvO1xuICBmb250LXNpemU6IDE0cHg7XG4gIGZvbnQtd2VpZ2h0OiA1MDA7XG4gIHRleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7XG4gIGNvbG9yOiAjMDAwO1xuICB0ZXh0LWFsaWduOiBqdXN0aWZ5O1xufVxuaW9uLWl0ZW0ubW9zdHJhci11c3VhcmlvcyB7XG4gIC8qIHF1aXRhciBlc3RpbG9zICovXG4gIC0tYmFja2dyb3VuZDogbm9uZTtcbiAgLS1ib3JkZXItY29sb3I6IG5vbmU7XG4gIC0tYm9yZGVyLXN0eWxlOiBub25lO1xuICB3aWR0aDogMTAwJTtcbiAgYmFja2dyb3VuZDogdmFyKC0taW9uLWJhY2tncm91bmQtY29sb3IpO1xuICBjb2xvcjogdmFyKC0taW9uLWNvbG9yLXByaW1hcnkpO1xuICBwYWRkaW5nOiAwIDE2cHg7XG4gIGhlaWdodDogNDhweDtcbiAgd2lkdGg6IDEwMCU7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbn1cblxuaW9uLWNhcmQtdGl0bGUge1xuICBjb2xvcjogdmFyKC0taW9uLWNvbG9yLXByaW1hcnkpO1xuICBmb250LXdlaWdodDogNjAwO1xufVxuXG4uc2Nyb2xsLWN1c3RvbSB7XG4gIHRleHQtb3ZlcmZsb3c6IGNsaXAgIWltcG9ydGFudDtcbiAgd2hpdGUtc3BhY2U6IG5vd3JhcCAhaW1wb3J0YW50O1xuICBvdmVyZmxvdzogc2Nyb2xsICFpbXBvcnRhbnQ7XG59XG5kaXYuYWxlcnQtY2hlY2tib3gtbGFiZWwge1xuICB0ZXh0LW92ZXJmbG93OiBjbGlwICFpbXBvcnRhbnQ7XG4gIHdoaXRlLXNwYWNlOiBub3dyYXAgIWltcG9ydGFudDtcbiAgb3ZlcmZsb3c6IHNjcm9sbCAhaW1wb3J0YW50O1xufVxuXG5pb24tdGV4dGFyZWEge1xuICBtYXJnaW46IDA7XG4gIG1hcmdpbi1ib3R0b206IDEwcHg7XG4gIHBhZGRpbmc6IDA7XG4gIHdpZHRoOiAxMDAlO1xuICBoZWlnaHQ6IDgwcHg7XG4gIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWlvbi1jb2xvci1tZWRpdW0pO1xuICBib3JkZXItcmFkaXVzOiA1cHg7XG59XG5cbmlvbi1jYXJkIHtcbiAgd2lkdGg6IDEwMCU7XG59XG5cbi5yZXF1aWVyZWRRdWVzIHtcbiAgY29sb3I6IHJlZCAhaW1wb3J0YW50O1xufVxuXG5pb24taXRlbS5ib3JkZXIge1xuICBoZWlnaHQ6IDQ1cHg7XG4gIGJvcmRlcjogMXB4IHNvbGlkICM4MDgwODA7XG4gIGJvcmRlci1yYWRpdXM6IDEwcHg7XG59XG5cbi5jZW50ZXItdHJhYmFqYWRvcmVzIHtcbiAgd2lkdGg6IDEwMCU7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gIGZvbnQtc2l6ZTogMTdweDtcbn1cblxuaW9uLXNlbGVjdCB7XG4gIHdpZHRoOiAxMDAlO1xufVxuXG5wLmNvdW50ZXIge1xuICBkaXNwbGF5OiBmbGV4O1xuICBjb2xvcjogcmdiKDEzMywgMTc5LCAyMjUpICFpbXBvcnRhbnQ7XG4gIGp1c3RpZnktY29udGVudDogZW5kO1xuICBtYXJnaW4tdG9wOiAwO1xuICBjb2xvcjogdmFyKC0taW9uLWNvbG9yLXByaW1hcnkpO1xufVxuXG4uc2VsZWN0LWljb24ge1xuICB3aWR0aDogMTJweDtcbiAgaGVpZ2h0OiAyNnB4O1xuICBvcGFjaXR5OiAxO1xufVxuXG5hbGVydC1jaGVja2JveC1sYWJlbC5zYy1pb24tYWxlcnQtbWQge1xuICBwYWRkaW5nLWxlZnQ6IDUzcHg7XG4gIHBhZGRpbmctcmlnaHQ6IDI2cHg7XG4gIHBhZGRpbmctdG9wOiAxM3B4O1xuICBwYWRkaW5nLWJvdHRvbTogMTNweDtcbiAgLW1zLWZsZXg6IDE7XG4gIGZsZXg6IDE7XG4gIGNvbG9yOiB2YXIoLS1pb24tY29sb3Itc3RlcC04NTAsICMyNjI2MjYpO1xuICBmb250LXNpemU6IDE2cHg7XG4gIHRleHQtb3ZlcmZsb3c6IGNsaXA7XG4gIHdoaXRlLXNwYWNlOiBub3dyYXA7XG4gIG92ZXJmbG93OiBhdXRvO1xufVxuXG4uZXJyb3ItbWVzc2FnZSB7XG4gIGNvbG9yOiByZWQ7XG4gIGZvbnQtc2l6ZTogMTJweDtcbn1cblxuaW9uLW1vZGFsLm1vZGFsLXdyYXBwZXIuaW9uLW92ZXJsYXktd3JhcHBlci5zYy1pb24tbW9kYWwtbWQsXG5pb24tbW9kYWwubW9kYWwtd3JhcHBlci5pb24tb3ZlcmxheS13cmFwcGVyLnNjLWlvbi1tb2RhbC1pb3Mge1xuICB3aWR0aDogODAlICFpbXBvcnRhbnQ7XG4gIGhlaWdodDogODAlICFpbXBvcnRhbnQ7XG59XG4iXX0= */\";","import { Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { AlertController, ModalController, Platform } from '@ionic/angular';\r\nimport { ModalTrabajadoresComponent } from 'src/app/components/modal-trabajadores/modal-trabajadores.component';\r\nimport { MaestroHijo } from 'src/app/interfaces/maestro-hijo';\r\nimport { MaestroPadre } from 'src/app/interfaces/maestro-padre';\r\nimport { DataQuestionsService } from 'src/app/services/SST/data-questions.service';\r\nimport { SaveDataService } from 'src/app/services/SST/save-data.service';\r\nimport { TablaTrabajadoresService } from 'src/app/services/SST/tabla-trabajadores.service';\r\nimport { UtilsService } from 'src/app/services/utils.service';\r\nimport { IonicSelectableComponent } from 'ionic-selectable';\r\nimport { SekectedItemsServiceService } from 'src/app/services/SST/sekected-items-service.service';\r\n\r\n@Component({\r\n  selector: 'app-proteccion-colectiva',\r\n  templateUrl: './proteccion-colectiva.page.html',\r\n  styleUrls: ['./proteccion-colectiva.page.scss'],\r\n})\r\nexport class ProteccionColectivaPage implements OnInit {\r\n  maestroPadre: MaestroPadre[] = [];\r\n  maestroHijo: MaestroHijo[] = [];\r\n  tituloEitmes = [];\r\n  selectedItems: { [key: number]: any } = {};\r\n  numerObligarorios: number = 0;\r\n  observaciones: string = '';\r\n  contadorObs = 0;\r\n  filtradosItems = [];\r\n  submited = false;\r\n\r\n  constructor(\r\n    private router: Router,\r\n    public modalController: ModalController,\r\n    private utils: UtilsService,\r\n    private questionService: DataQuestionsService,\r\n    private dataService: SaveDataService,\r\n    private alertController: AlertController,\r\n    private tablaTrabajadoresService: TablaTrabajadoresService,\r\n    private selectedItemsService: SekectedItemsServiceService\r\n  ) {}\r\n\r\n  ngOnInit() {\r\n    this.getData();\r\n  }\r\n\r\n  ionViewWillEnter() {\r\n    this.selectedItems = this.selectedItemsService.getSelectedItems();\r\n  }\r\n\r\n  portChange(event: { component: IonicSelectableComponent; value: any }) {\r\n    if (!event.value) {\r\n      console.log('event.value is undefined');\r\n      return;\r\n    }\r\n\r\n    if (event.value.id === undefined) {\r\n      console.log('event.value.id is undefined');\r\n      return;\r\n    }\r\n\r\n    if (!this.selectedItems) {\r\n      console.log('this.selectedItems is undefined');\r\n      return;\r\n    }\r\n    console.log('port:', event.value);\r\n    this.selectedItems[event.value.id] = event.value;\r\n    this.selectedItemsService.setSelectedItems(this.selectedItems);\r\n    console.log(this.selectedItems);\r\n  }\r\n\r\n  verTrabajadores() {\r\n    this.modalController\r\n      .create({\r\n        component: ModalTrabajadoresComponent,\r\n      })\r\n      .then(modal => {\r\n        modal.present();\r\n      });\r\n  }\r\n  private async getData() {\r\n    const dataUrl = history.state.data;\r\n    if (dataUrl) {\r\n      this.tablaTrabajadoresService.setListaTrabajadores(dataUrl['listaTrabajadoresMigrados']);\r\n      this.dataService.setData(dataUrl);\r\n      this.observaciones = dataUrl['strObservaciones'];\r\n      this.contadorObs = this.observaciones.length;\r\n      console.log(dataUrl);\r\n      let map = dataUrl['listaItemSeleccionados'].reduce((acc, items) => {\r\n        /* si items.leng === 0  eliminar esa lista */\r\n        if (items.length === 0) {\r\n          return acc;\r\n        }\r\n        acc[items[0].Fk_ID_PermisoAlturas_ItemProteccionPadre] = items;\r\n        return acc;\r\n      }, {});\r\n      this.selectedItems = map;\r\n      this.selectedItemsService.setSelectedItems(this.selectedItems);\r\n    }\r\n    await this.utils.presentLoading();\r\n    this.maestroPadre = await this.questionService.getAllMaestroPadres();\r\n    this.maestroHijo = await this.questionService.getAllMaestroHijos();\r\n    this.maestroPadre.forEach((padre: MaestroPadre) => {\r\n      this.maestroHijo.forEach((hijo: MaestroHijo) => {\r\n        if (padre.Pk_ID_PermisoAlturas_ItemProteccionPadre === hijo.Fk_ID_PermisoAlturas_ItemProteccionPadre) {\r\n          if (!this.tituloEitmes[padre.Pk_ID_PermisoAlturas_ItemProteccionPadre]) {\r\n            this.tituloEitmes[padre.Pk_ID_PermisoAlturas_ItemProteccionPadre] = [];\r\n          }\r\n          if (hijo.boolObligatorio) {\r\n            this.numerObligarorios++;\r\n            hijo.strDescricionPermiso = '* ' + hijo.strDescricionPermiso;\r\n          }\r\n          this.tituloEitmes[padre.Pk_ID_PermisoAlturas_ItemProteccionPadre].push(hijo);\r\n        } else {\r\n          if (!this.tituloEitmes[padre.Pk_ID_PermisoAlturas_ItemProteccionPadre]) {\r\n            this.tituloEitmes[padre.Pk_ID_PermisoAlturas_ItemProteccionPadre] = [];\r\n          }\r\n        }\r\n      });\r\n    });\r\n    this.utils.dismissLoading();\r\n    console.log(this.tituloEitmes);\r\n  }\r\n\r\n  async continuar() {\r\n    this.submited = true;\r\n    let check = await this.checkQuestions();\r\n    if (!check) {\r\n      return;\r\n    }\r\n    this.quitarAsterisco();\r\n    if (this.observaciones.length === 0) {\r\n      await this.mostrarError('Debe ingresar las observaciones');\r\n      return;\r\n    }\r\n    await this.guardarDatos();\r\n    this.router.navigate([\r\n      '/home/permisos/registro-permiso/crear-permiso/inicio-permiso/seccion-general/seccion-multiusos/seccion-plataforma/descripcion-actividad/proteccion-colectiva/evidencia',\r\n    ]);\r\n  }\r\n\r\n  async guardarDatos() {\r\n    let data = this.dataService.getData();\r\n\r\n    data['listaItemSeleccionados'] = this.filtradosItems;\r\n\r\n    this.filtradosItems.forEach(element => {\r\n      console.log(element);\r\n    });\r\n    data['lastRoute'] =\r\n      '/home/permisos/registro-permiso/crear-permiso/inicio-permiso/seccion-general/seccion-multiusos/seccion-plataforma/descripcion-actividad/proteccion-colectiva';\r\n    data['strObservaciones'] = this.observaciones;\r\n    this.dataService.setData(data);\r\n    await this.dataService.saveData();\r\n    this.selectedItems = {};\r\n  }\r\n\r\n  async quitarAsterisco() {\r\n    /* quitar asteriscos y eliminar uilimo array[] */\r\n    let obj = Object.values(this.selectedItems).filter(item => item !== undefined);\r\n    for (let i = 0; i < obj.length; i++) {\r\n      for (let j = 0; j < obj[i].length; j++) {\r\n        obj[i][j].strDescricionPermiso = obj[i][j].strDescricionPermiso.replace('* ', '');\r\n      }\r\n    }\r\n    /* aplanar any[] a [] */\r\n    this.filtradosItems = obj;\r\n    console.log(this.filtradosItems);\r\n  }\r\n  async checkQuestions(): Promise<boolean> {\r\n    let numeroContestados = 0;\r\n    let numeroObligatorios = this.numerObligarorios;\r\n    let TodosTitulosConHijos: string[] = [];\r\n\r\n    this.maestroPadre.forEach((padre: MaestroPadre) => {\r\n      this.maestroHijo.forEach((hijo: MaestroHijo) => {\r\n        if (padre.Pk_ID_PermisoAlturas_ItemProteccionPadre === hijo.Fk_ID_PermisoAlturas_ItemProteccionPadre) {\r\n          if (!TodosTitulosConHijos.includes(padre.strDescricionPermiso)) {\r\n            TodosTitulosConHijos.push(padre.strDescricionPermiso);\r\n          }\r\n        }\r\n      });\r\n    });\r\n\r\n    console.log(this.tituloEitmes);\r\n    for (const key in this.selectedItems) {\r\n      if (key === 'undefined') {\r\n        continue;\r\n      }\r\n      if (this.selectedItems.hasOwnProperty(key)) {\r\n        const preguntasObligatorias = (this.tituloEitmes[key]?.filter(element => element.boolObligatorio) || []).length;\r\n        let elements = this.selectedItems[key];\r\n        const preguntasObligatoriasRespondidas = (this.selectedItems[key]?.filter(element => element.boolObligatorio) || []).length;\r\n        /* si las elementos selecionados es mayor a las obligatorias eliminar del arreglo el titulo padre */\r\n        if (preguntasObligatorias <= preguntasObligatoriasRespondidas || preguntasObligatorias === 0) {\r\n          let tituloItem = this.maestroPadre.find(item => item.Pk_ID_PermisoAlturas_ItemProteccionPadre.toString() == key);\r\n          /* todos los titulos exepto los qu no tienene hijos */\r\n          TodosTitulosConHijos = TodosTitulosConHijos.filter(item => item !== tituloItem.strDescricionPermiso);\r\n        }\r\n        for (let element of elements) {\r\n          if (element.boolObligatorio) {\r\n            numeroContestados++;\r\n          }\r\n        }\r\n      }\r\n    }\r\n    if (numeroContestados < numeroObligatorios) {\r\n      const titulosIncompletos = TodosTitulosConHijos.join('<br>');\r\n      await this.mostrarError(\r\n        `Debe responder todas las preguntas obligatorias en los siguientes títulos: <br><br><strong>${titulosIncompletos}</strong>`\r\n      );\r\n      return false;\r\n    }\r\n    return true;\r\n  }\r\n\r\n  private async mostrarError(message: string) {\r\n    const alert = await this.alertController.create({\r\n      header: 'Alerta',\r\n      message: message,\r\n      buttons: ['OK'],\r\n    });\r\n    alert.present();\r\n  }\r\n\r\n  back() {\r\n    let data = this.dataService.getData();\r\n\r\n    this.router.navigate(\r\n      [\r\n        '/home/permisos/registro-permiso/crear-permiso/inicio-permiso/seccion-general/seccion-multiusos/seccion-plataforma/descripcion-actividad',\r\n      ],\r\n      { state: { data } }\r\n    );\r\n  }\r\n\r\n  actualizarContador(event: any) {\r\n    if (event.target.value.length == 0) {\r\n      this.contadorObs = 0;\r\n      return;\r\n    }\r\n    this.contadorObs = event.target.value.length;\r\n  }\r\n}\r\n"],"sourceRoot":"webpack:///"}