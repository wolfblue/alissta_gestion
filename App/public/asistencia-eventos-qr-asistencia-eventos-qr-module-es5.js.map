{"version":3,"sources":["webpack:///src/app/pages/asistencia-eventos-qr/asistencia-eventos-qr.page.html","webpack:///src/app/pages/asistencia-eventos-qr/asistencia-eventos-qr-routing.module.ts","webpack:///src/app/pages/asistencia-eventos-qr/asistencia-eventos-qr.module.ts","webpack:///src/app/pages/asistencia-eventos-qr/asistencia-eventos-qr.page.scss","webpack:///src/app/pages/asistencia-eventos-qr/asistencia-eventos-qr.page.ts"],"names":["routes","path","component","AsistenciaEventosQrPageRoutingModule","imports","forChild","exports","AsistenciaEventosQrPageModule","declarations","AsistenciaEventosQrPage","context","datePipe","alertCtrl","router","utils","buildQRData","opcion","undefined","presentLoading","get","dismissLoading","navigate","trabajador","empresa","primerNombre","segundoNombre","primerApellido","segundoApellido","nombreCompleto","replace","trim","fecha","transform","fechaNacimiento","data","tiEmpr","tipoDocumento","numEmpr","documentoEmp","razonEmpr","razonSocial","tiAsistente","numAsistente","id","nomAsist","sexo","cargo","tele","numeroTelefono","email","correo","fchnac","qrData","JSON","stringify","selector","template"],"mappings":"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","file":"asistencia-eventos-qr-asistencia-eventos-qr-module-es5.js","sourcesContent":["export default \"<ion-header>\\n  <app-nav-bar></app-nav-bar>\\n</ion-header>\\n\\n<ion-content>\\n  <app-title-bar [title]=\\\"'ASISTENCIA EVENTOS POSITIVA'\\\" [iconName]=\\\"'assets/icon/eventos.svg'\\\">\\n  </app-title-bar>\\n\\n  <qrcode [qrdata]=\\\"qrData\\\" *ngIf=\\\"qrData\\\"></qrcode>\\n\\n  <div class=\\\"button-wrapper\\\">\\n    <ion-button routerLink=\\\"/home\\\">Regresar</ion-button>\\n  </div>\\n</ion-content>\\n\\n<ion-footer>\\n  <app-menu-operativo [opcionSeleccionada]=\\\"opcion\\\" *ngIf=\\\"opcion\\\"></app-menu-operativo>\\n</ion-footer>\";","import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { AsistenciaEventosQrPage } from './asistencia-eventos-qr.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: AsistenciaEventosQrPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class AsistenciaEventosQrPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { SharedModule } from 'src/app/shared.module';\nimport { AsistenciaEventosQrPageRoutingModule } from './asistencia-eventos-qr-routing.module';\nimport { AsistenciaEventosQrPage } from './asistencia-eventos-qr.page';\n\n@NgModule({\n  imports: [\n    SharedModule,\n    AsistenciaEventosQrPageRoutingModule\n  ],\n  declarations: [AsistenciaEventosQrPage]\n})\nexport class AsistenciaEventosQrPageModule {}\n","export default \"qrcode {\\n  display: block;\\n  text-align: center;\\n  margin-top: 2rem;\\n}\\n\\n.button-wrapper {\\n  text-align: center;\\n  margin-top: 2rem;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvYXNpc3RlbmNpYS1ldmVudG9zLXFyL2FzaXN0ZW5jaWEtZXZlbnRvcy1xci5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxjQUFBO0VBQ0Esa0JBQUE7RUFDQSxnQkFBQTtBQUNGOztBQUVBO0VBQ0Usa0JBQUE7RUFDQSxnQkFBQTtBQUNGIiwiZmlsZSI6InNyYy9hcHAvcGFnZXMvYXNpc3RlbmNpYS1ldmVudG9zLXFyL2FzaXN0ZW5jaWEtZXZlbnRvcy1xci5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJxcmNvZGUge1xuICBkaXNwbGF5OiBibG9jaztcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICBtYXJnaW4tdG9wOiAycmVtO1xufVxuXG4uYnV0dG9uLXdyYXBwZXIge1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gIG1hcmdpbi10b3A6IDJyZW07XG59XG4iXX0= */\";","import { DatePipe } from '@angular/common';\nimport { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { AlertController } from '@ionic/angular';\nimport { alertCommunicationError } from 'src/app/commons/user-feedback';\nimport { ContextService } from 'src/app/services/context.service';\nimport { UtilsService } from 'src/app/services/utils.service';\n\n@Component({\n  selector: 'app-asistencia-eventos-qr',\n  templateUrl: './asistencia-eventos-qr.page.html',\n  styleUrls: ['./asistencia-eventos-qr.page.scss'],\n})\nexport class AsistenciaEventosQrPage implements OnInit {\n\n  opcion: string;\n\n  qrData: string;\n\n  constructor(\n    private context: ContextService,\n    private datePipe: DatePipe,\n    private alertCtrl: AlertController,\n    private router: Router,\n    private utils: UtilsService\n  ) { }\n\n  ngOnInit(): void {\n    this.buildQRData();\n  }\n\n  ionViewWillEnter(): void {\n    this.opcion = 'asistenciaEventos';\n  }\n\n  ionViewWillLeave(): void {\n    this.opcion = undefined;\n  }\n\n  private async buildQRData(): Promise<void> {\n    await this.utils.presentLoading();\n    const context = await this.context.get();\n    this.utils.dismissLoading();\n\n    if (!context) {\n      alertCommunicationError(this.alertCtrl);\n      this.router.navigate(['/home']);\n\n      return;\n    }\n\n    const trabajador = context.trabajador;\n    const empresa = context.empresa;\n\n    const primerNombre = trabajador.primerNombre ?? '';\n    const segundoNombre = trabajador.segundoNombre ?? '';\n    const primerApellido = trabajador.primerApellido ?? '';\n    const segundoApellido = trabajador.segundoApellido ?? '';\n    let nombreCompleto = `${primerNombre} ${segundoNombre} ${primerApellido} ${segundoApellido}`;\n    nombreCompleto = nombreCompleto.replace(/\\s+/g, ' ');\n    nombreCompleto = nombreCompleto.trim();\n    const fecha = this.datePipe.transform(trabajador.fechaNacimiento, 'dd/MM/yyyy');\n\n    const data = {\n      tiEmpr: empresa.tipoDocumento,\n      numEmpr: empresa.documentoEmp,\n      razonEmpr: empresa.razonSocial,\n      tiAsistente: trabajador.tipoDocumento,\n      numAsistente: `${trabajador.id}`,\n      nomAsist: nombreCompleto,\n      sexo: trabajador.sexo === 'M' ? \"Masculino\" : \"Femenino\",\n      cargo: \"3\",\n      tele: `${trabajador.numeroTelefono}`,\n      email: trabajador.correo,\n      fchnac: fecha\n    };\n\n    this.qrData = JSON.stringify(data);\n  }\n\n}\n"]}