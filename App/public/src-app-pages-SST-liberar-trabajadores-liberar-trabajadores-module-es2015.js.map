{"version":3,"sources":["./src/app/pages/SST/liberar-trabajadores/liberar-trabajadores.page.html","./src/app/pages/SST/liberar-trabajadores/liberar-trabajadores-routing.module.ts","./src/app/pages/SST/liberar-trabajadores/liberar-trabajadores.module.ts","./src/app/pages/SST/liberar-trabajadores/liberar-trabajadores.page.scss","./src/app/pages/SST/liberar-trabajadores/liberar-trabajadores.page.ts"],"names":[],"mappings":"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","file":"src-app-pages-SST-liberar-trabajadores-liberar-trabajadores-module-es2015.js","sourcesContent":["export default \"<ion-header>\\n  <app-nav-bar></app-nav-bar>\\n  <div>\\n    <ion-item class=\\\"mostrar-usuarios\\\">\\n      <ion-icon (click)=\\\"back()\\\" name=\\\"chevron-back-outline\\\" slot=\\\"start\\\"></ion-icon>\\n    </ion-item>\\n  </div>\\n  <div style=\\\"display: flex; align-items: center\\\" class=\\\"toolbar\\\">\\n    <span> <ion-img style=\\\"width: 32px; height: 32px; margin-right: 12px\\\" src=\\\"assets/img/carbon_result-draft.svg\\\"></ion-img> </span>\\n    <ion-title style=\\\"color: #7e7e7e; padding: 0\\\"><strong> PERMISOS DE TRABAJO</strong></ion-title>\\n  </div>\\n</ion-header>\\n<ion-content>\\n  <div class=\\\"toolbar toolcontent\\\">\\n    <ion-title> <ion-icon style=\\\"transform: rotate(308deg)\\\" name=\\\"send\\\"></ion-icon> Liberar Trabajadores</ion-title>\\n  </div>\\n\\n  <ion-item *ngIf=\\\"trabajadores.length > 0\\\" style=\\\"padding-bottom: 0\\\" class=\\\"ion-padding\\\">\\n    <ion-checkbox [(ngModel)]=\\\"marcarTodos\\\" (ionChange)=\\\"onChangeMarcarTodos($event)\\\"></ion-checkbox>\\n    <ion-label>&nbsp;<strong> Seleccionar toda la página</strong></ion-label>\\n  </ion-item>\\n\\n  <div style=\\\"padding-top: 0\\\" class=\\\"ion-padding\\\" *ngIf=\\\"trabajadores.length > 0\\\">\\n    <!-- <ion-item *ngFor=\\\"let trabajador of trabajadores\\\">\\n      <ion-card>\\n        <ion-card-header>\\n          <ion-card-title>{{trabajador.}}</ion-card-title>\\n          <ion-card-subtitle>{{trabajador}} : {{trabajador}}</ion-card-subtitle>\\n        </ion-card-header>\\n\\n        <ion-button (click)=\\\"liberarUser(trabajador, trbajador)\\\" fill=\\\"clear\\\" color=\\\"danger\\\">liberar</ion-button>\\n      </ion-card>\\n    </ion-item> -->\\n\\n    <ion-grid>\\n      <ion-row class=\\\"header-table\\\">\\n        <ion-col size=\\\"3\\\">\\n          <ion-label>Nombre </ion-label>\\n        </ion-col>\\n        <ion-col size=\\\"3\\\">\\n          <ion-label>ID</ion-label>\\n        </ion-col>\\n        <ion-col size=\\\"4\\\">\\n          <ion-label>Cargo</ion-label>\\n        </ion-col>\\n        <ion-col size=\\\"2\\\">\\n          <ion-label>Liberar</ion-label>\\n        </ion-col>\\n      </ion-row>\\n      <ion-row\\n        *ngFor=\\\"let trabajador of trabajadores | slice:(currentPage - 1) * workersPerPage:currentPage * workersPerPage\\\"\\n        class=\\\"body-table\\\"\\n      >\\n        <ion-col size=\\\"3\\\">\\n          <ion-label>{{trabajador.strNombreTrabajador}}</ion-label>\\n        </ion-col>\\n        <ion-col size=\\\"3\\\">\\n          <ion-label>{{trabajador.strNumeroDocumeto}}</ion-label>\\n        </ion-col>\\n        <ion-col size=\\\"4\\\">\\n          <ion-label>{{trabajador.strCargoTrabajador}}</ion-label>\\n        </ion-col>\\n        <ion-col size=\\\"2\\\" class=\\\"check\\\">\\n          <ion-checkbox [(ngModel)]=\\\"trabajador.accion\\\"></ion-checkbox>\\n        </ion-col>\\n      </ion-row>\\n    </ion-grid>\\n    <div class=\\\"pagination-buttons ion-text-center\\\">\\n      <ion-button (click)=\\\"previousPage()\\\" [disabled]=\\\"currentPage === 1\\\"><ion-icon name=\\\"chevron-back\\\"></ion-icon></ion-button>\\n      <ion-button [disabled]=\\\"true\\\">{{currentPage}}/{{totalPage}}</ion-button>\\n      <ion-button (click)=\\\"nextPage()\\\" [disabled]=\\\"currentPage * workersPerPage >= trabajadores.length\\\"\\n        ><ion-icon name=\\\"chevron-forward-outline\\\"></ion-icon\\n      ></ion-button>\\n    </div>\\n    <div class=\\\"ion-text-center ion-padding\\\">\\n      <button class=\\\"guardar-continuar\\\" *ngIf=\\\"trabajadores.length > 0\\\" color=\\\"secondary\\\" (click)=\\\"liberarUser()\\\">Liberar</button>\\n    </div>\\n  </div>\\n  <div class=\\\"ion-text-center ion-padding\\\">\\n    <br />\\n    <br />\\n    <br />\\n\\n    <button class=\\\"guardar-continuar\\\" *ngIf=\\\"trabajadores.length === 0\\\" color=\\\"secondary\\\" (click)=\\\"volver()\\\">Volver</button>\\n  </div>\\n</ion-content>\\n\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { LiberarTrabajadoresPage } from './liberar-trabajadores.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: LiberarTrabajadoresPage,\n  },\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class LiberarTrabajadoresPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { LiberarTrabajadoresPageRoutingModule } from './liberar-trabajadores-routing.module';\n\nimport { LiberarTrabajadoresPage } from './liberar-trabajadores.page';\nimport { SharedModule } from 'src/app/shared.module';\n\n@NgModule({\n  imports: [CommonModule, FormsModule, IonicModule, LiberarTrabajadoresPageRoutingModule, SharedModule],\n  declarations: [LiberarTrabajadoresPage],\n})\nexport class LiberarTrabajadoresPageModule {}\n","export default \"@charset \\\"UTF-8\\\";\\ndiv.toolbar {\\n  background: #beb2b2;\\n  color: #fff;\\n  padding: 0 16px;\\n  height: 48px;\\n  align-items: center;\\n  display: flex;\\n  text-align: center;\\n}\\ndiv.toolbar ion-title {\\n  color: #fff;\\n}\\ndiv.toolbar.toolcontent {\\n  background-color: var(--ion-color-primary);\\n}\\nion-card {\\n  width: 100%;\\n}\\n.botonCancelar {\\n  color: green;\\n  /* Cambia el color de texto del botón \\\"Cancelar\\\" a verde */\\n}\\n.botonAceptar {\\n  color: red;\\n  /* Cambia el color de texto del botón \\\"Aceptar\\\" a rojo */\\n}\\n.header-table {\\n  font-size: 0.7rem;\\n  font-weight: bold;\\n  background-color: #b1b7bd;\\n  color: black;\\n  text-align: center;\\n  padding: 2px;\\n  border: 1px solid #b1b7bd;\\n  border-radius: 5px 5px 0px 0px;\\n  border-collapse: collapse;\\n  border-spacing: 0;\\n  width: 100%;\\n  margin: 0 auto;\\n  align-items: center;\\n}\\n.body-table {\\n  font-size: 0.65rem;\\n  font-weight: 400;\\n  background-color: #e9ecef;\\n  color: black;\\n  text-align: start;\\n  align-items: center;\\n  padding-bottom: 2px;\\n  border: 1px solid #b1b7bd;\\n}\\n.body-table .check {\\n  text-align: center;\\n}\\nbutton.guardar-continuar {\\n  color: #fff;\\n  background: #4b9a49 !important;\\n  margin-top: 10px;\\n  border-radius: 24px;\\n  width: 50%;\\n  height: 24px;\\n  font-size: 14px;\\n  font-weight: 500;\\n  text-transform: none;\\n  border: none;\\n  outline: none;\\n  cursor: pointer;\\n  transition: all 0.3s ease;\\n}\\nion-fab-button.float-button {\\n  --padding: 0;\\n  --margin: 0;\\n  --size: 44px;\\n  --background: #ff7500;\\n}\\nion-icon.float-button {\\n  --background: #ff7500;\\n}\\n.custom-icon-float {\\n  width: 100%;\\n  height: 100%;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvU1NUL2xpYmVyYXItdHJhYmFqYWRvcmVzL2xpYmVyYXItdHJhYmFqYWRvcmVzLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxnQkFBZ0I7QUFBaEI7RUFDRSxtQkFBQTtFQUNBLFdBQUE7RUFDQSxlQUFBO0VBQ0EsWUFBQTtFQUNBLG1CQUFBO0VBQ0EsYUFBQTtFQUNBLGtCQUFBO0FBRUY7QUFERTtFQUNFLFdBQUE7QUFHSjtBQURFO0VBQ0UsMENBQUE7QUFHSjtBQUNBO0VBQ0UsV0FBQTtBQUVGO0FBQ0E7RUFDRSxZQUFBO0VBQWMsMERBQUE7QUFHaEI7QUFBQTtFQUNFLFVBQUE7RUFBWSx3REFBQTtBQUlkO0FBREE7RUFDRSxpQkFBQTtFQUNBLGlCQUFBO0VBQ0EseUJBQUE7RUFDQSxZQUFBO0VBQ0Esa0JBQUE7RUFDQSxZQUFBO0VBQ0EseUJBQUE7RUFDQSw4QkFBQTtFQUNBLHlCQUFBO0VBQ0EsaUJBQUE7RUFDQSxXQUFBO0VBQ0EsY0FBQTtFQUNBLG1CQUFBO0FBSUY7QUFEQTtFQUNFLGtCQUFBO0VBQ0EsZ0JBQUE7RUFDQSx5QkFBQTtFQUNBLFlBQUE7RUFDQSxpQkFBQTtFQUNBLG1CQUFBO0VBQ0EsbUJBQUE7RUFDQSx5QkFBQTtBQUlGO0FBSEU7RUFDRSxrQkFBQTtBQUtKO0FBRkE7RUFDRSxXQUFBO0VBQ0EsOEJBQUE7RUFDQSxnQkFBQTtFQUNBLG1CQUFBO0VBQ0EsVUFBQTtFQUNBLFlBQUE7RUFDQSxlQUFBO0VBQ0EsZ0JBQUE7RUFDQSxvQkFBQTtFQUNBLFlBQUE7RUFDQSxhQUFBO0VBQ0EsZUFBQTtFQUNBLHlCQUFBO0FBS0Y7QUFGQTtFQUNFLFlBQUE7RUFDQSxXQUFBO0VBQ0EsWUFBQTtFQUNBLHFCQUFBO0FBS0Y7QUFGQTtFQUNFLHFCQUFBO0FBS0Y7QUFGQTtFQUNFLFdBQUE7RUFDQSxZQUFBO0FBS0YiLCJmaWxlIjoic3JjL2FwcC9wYWdlcy9TU1QvbGliZXJhci10cmFiYWphZG9yZXMvbGliZXJhci10cmFiYWphZG9yZXMucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiQGNoYXJzZXQgXCJVVEYtOFwiO1xuZGl2LnRvb2xiYXIge1xuICBiYWNrZ3JvdW5kOiAjYmViMmIyO1xuICBjb2xvcjogI2ZmZjtcbiAgcGFkZGluZzogMCAxNnB4O1xuICBoZWlnaHQ6IDQ4cHg7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbn1cbmRpdi50b29sYmFyIGlvbi10aXRsZSB7XG4gIGNvbG9yOiAjZmZmO1xufVxuZGl2LnRvb2xiYXIudG9vbGNvbnRlbnQge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1pb24tY29sb3ItcHJpbWFyeSk7XG59XG5cbmlvbi1jYXJkIHtcbiAgd2lkdGg6IDEwMCU7XG59XG5cbi5ib3RvbkNhbmNlbGFyIHtcbiAgY29sb3I6IGdyZWVuO1xuICAvKiBDYW1iaWEgZWwgY29sb3IgZGUgdGV4dG8gZGVsIGJvdMOzbiBcIkNhbmNlbGFyXCIgYSB2ZXJkZSAqL1xufVxuXG4uYm90b25BY2VwdGFyIHtcbiAgY29sb3I6IHJlZDtcbiAgLyogQ2FtYmlhIGVsIGNvbG9yIGRlIHRleHRvIGRlbCBib3TDs24gXCJBY2VwdGFyXCIgYSByb2pvICovXG59XG5cbi5oZWFkZXItdGFibGUge1xuICBmb250LXNpemU6IDAuN3JlbTtcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gIGJhY2tncm91bmQtY29sb3I6ICNiMWI3YmQ7XG4gIGNvbG9yOiBibGFjaztcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICBwYWRkaW5nOiAycHg7XG4gIGJvcmRlcjogMXB4IHNvbGlkICNiMWI3YmQ7XG4gIGJvcmRlci1yYWRpdXM6IDVweCA1cHggMHB4IDBweDtcbiAgYm9yZGVyLWNvbGxhcHNlOiBjb2xsYXBzZTtcbiAgYm9yZGVyLXNwYWNpbmc6IDA7XG4gIHdpZHRoOiAxMDAlO1xuICBtYXJnaW46IDAgYXV0bztcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbn1cblxuLmJvZHktdGFibGUge1xuICBmb250LXNpemU6IDAuNjVyZW07XG4gIGZvbnQtd2VpZ2h0OiA0MDA7XG4gIGJhY2tncm91bmQtY29sb3I6ICNlOWVjZWY7XG4gIGNvbG9yOiBibGFjaztcbiAgdGV4dC1hbGlnbjogc3RhcnQ7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIHBhZGRpbmctYm90dG9tOiAycHg7XG4gIGJvcmRlcjogMXB4IHNvbGlkICNiMWI3YmQ7XG59XG4uYm9keS10YWJsZSAuY2hlY2sge1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG59XG5cbmJ1dHRvbi5ndWFyZGFyLWNvbnRpbnVhciB7XG4gIGNvbG9yOiAjZmZmO1xuICBiYWNrZ3JvdW5kOiAjNGI5YTQ5ICFpbXBvcnRhbnQ7XG4gIG1hcmdpbi10b3A6IDEwcHg7XG4gIGJvcmRlci1yYWRpdXM6IDI0cHg7XG4gIHdpZHRoOiA1MCU7XG4gIGhlaWdodDogMjRweDtcbiAgZm9udC1zaXplOiAxNHB4O1xuICBmb250LXdlaWdodDogNTAwO1xuICB0ZXh0LXRyYW5zZm9ybTogbm9uZTtcbiAgYm9yZGVyOiBub25lO1xuICBvdXRsaW5lOiBub25lO1xuICBjdXJzb3I6IHBvaW50ZXI7XG4gIHRyYW5zaXRpb246IGFsbCAwLjNzIGVhc2U7XG59XG5cbmlvbi1mYWItYnV0dG9uLmZsb2F0LWJ1dHRvbiB7XG4gIC0tcGFkZGluZzogMDtcbiAgLS1tYXJnaW46IDA7XG4gIC0tc2l6ZTogNDRweDtcbiAgLS1iYWNrZ3JvdW5kOiAjZmY3NTAwO1xufVxuXG5pb24taWNvbi5mbG9hdC1idXR0b24ge1xuICAtLWJhY2tncm91bmQ6ICNmZjc1MDA7XG59XG5cbi5jdXN0b20taWNvbi1mbG9hdCB7XG4gIHdpZHRoOiAxMDAlO1xuICBoZWlnaHQ6IDEwMCU7XG59Il19 */\";","import { Component, OnInit } from '@angular/core';\nimport { async } from '@angular/core/testing';\nimport { Router } from '@angular/router';\nimport { Device } from '@ionic-native/device/ngx';\nimport { AlertController } from '@ionic/angular';\nimport { EDGuardarPermisoTrabajoAPP } from 'src/app/interfaces/edguardar-permiso-trabajo-app';\nimport { EDInfoAuditoriaAPP } from 'src/app/interfaces/edinfo-auditoria-app';\nimport { TrabajadorMigrado } from 'src/app/interfaces/trabajador-migrado';\nimport { DataBaseService } from 'src/app/services/SST/data-base.service';\nimport { DataService } from 'src/app/services/SST/data.service';\nimport { ContextService } from 'src/app/services/context.service';\nimport { UtilsService } from 'src/app/services/utils.service';\n\n@Component({\n  selector: 'app-liberar-trabajadores',\n  templateUrl: './liberar-trabajadores.page.html',\n  styleUrls: ['./liberar-trabajadores.page.scss'],\n})\nexport class LiberarTrabajadoresPage implements OnInit {\n  trabajadores: TrabajadorMigrado[] = [];\n  user: any;\n  auditoria: EDInfoAuditoriaAPP = new EDInfoAuditoriaAPP();\n  currentPage: number = 1;\n  workersPerPage: number = 10;\n  marcarTodos: any;\n  trabajadoresMarcados: any[] = [];\n  totalPage: number = 0;\n  data: EDGuardarPermisoTrabajoAPP[];\n\n  constructor(\n    private dataBaseService: DataBaseService,\n    private utils: UtilsService,\n    private context: ContextService,\n    private device: Device,\n    private alertController: AlertController,\n    private dataService: DataService,\n    private router: Router\n  ) {}\n\n  ngOnInit() {\n    this.trabajadoresPorLiberar();\n    this.dataBaseService.open().then(() => {\n      this.dataBaseService.getAllData().subscribe({\n        next: (data: EDGuardarPermisoTrabajoAPP[]) => {\n          this.data = data;\n          this.updateTrabajadores();\n        },\n        error: error => {\n          this.dataBaseService.close();\n        },\n      });\n    });\n  }\n\n  async trabajadoresPorLiberar() {\n    console.log('trabajadoresPorLiberar');\n    try {\n      await this.utils.presentLoading();\n      this.user = await this.context.get();\n      await this.dataBaseService.open().then(() => {\n        this.dataBaseService.getAllTrabajadoresMigrados().subscribe({\n          next: (trabajadores: TrabajadorMigrado[]) => {\n            this.utils.dismissLoading();\n            trabajadores.forEach((trabajador: TrabajadorMigrado) => {\n              trabajador.accion = false;\n            });\n            this.trabajadores = trabajadores;\n            this.totalPage = Math.ceil(this.trabajadores.length / this.workersPerPage);\n          },\n          error: error => {\n            console.error('Error al obtener los trabajadores disponibles:', error);\n            this.dataBaseService.close();\n          },\n          complete: () => {\n            console.log('Trabajadores disponibles completados');\n            this.utils.dismissLoading();\n          },\n        });\n      });\n    } catch (error) {\n      console.error('Error al liberar trabajadores:', error);\n      this.dataBaseService.close();\n      this.utils.dismissLoading();\n    }\n  }\n\n  liberarUser() {\n    let idsUser: number[] = [];\n    let usuariosUtiliados: TrabajadorMigrado[] = [];\n    this.trabajadores.forEach((trabajador: TrabajadorMigrado) => {\n      if (trabajador.accion) {\n        idsUser.push(trabajador.PK_ID_PermisoAlturas_PersonasAMigrar);\n      }\n      return idsUser;\n    });\n\n    this.trabajadores.forEach((trabajador: TrabajadorMigrado) => {\n      if (trabajador.blnActivo && trabajador.accion) {\n        usuariosUtiliados.push(trabajador);\n      }\n      return usuariosUtiliados;\n    });\n\n    if (usuariosUtiliados.length > 0) {\n      let nombres = usuariosUtiliados.map((trabajador: TrabajadorMigrado) => {\n        return trabajador.strNombreTrabajador;\n      });\n      return this.mesaageAlert('No se pueden liberar trabajadores que esten en un permiso pendiente: \\n' + nombres);\n    }\n\n    if (idsUser.length === 0) return this.mesaageAlert('Debe seleccionar al menos un trabajador');\n    let permios;\n    /* estas seguro de eliminar el usuario */\n    /* si es cordova colocar web */\n    this.auditoria.strUUID = this.device.uuid ? this.device.uuid : 'web';\n    this.auditoria.strIdentificacionUsuario = this.user['_trabajador']._id;\n    this.auditoria.strNombreUsuario = this.user['_trabajador'].nombre;\n    this.auditoria.strNombreEmpresa = this.user['_empresa']._razonSocial;\n    this.auditoria.strTipoDocEmpresa = this.user['_empresa']._tipoDocumento;\n    this.auditoria.strDocumentoEmpresa = this.user['_empresa']._id;\n    this.alertController\n      .create({\n        header: 'Liberar trabajador',\n        message: `¿Estas seguro de liberar a los trabajadores?`,\n        buttons: [\n          {\n            text: 'Cancelar',\n            cssClass: 'color: green !important',\n            role: 'cancel',\n            handler: () => {\n              console.log('Cancelado');\n            },\n          },\n          {\n            text: 'Aceptar',\n            cssClass: 'color: red !important',\n            handler: async () => {\n              await this.utils.presentLoading();\n              await this.dataService.liberarTrabajador(idsUser, this.auditoria);\n              await this.trabajadoresPorLiberar();\n              this.utils.dismissLoading();\n            },\n          },\n        ],\n      })\n      .then(alert => {\n        alert.present();\n      });\n  }\n\n  onChangeMarcarTodos(event: any) {\n    const isChecked = event.detail.checked;\n    this.trabajadores = this.trabajadores.map(trabajador => {\n      if (this.isOnCurrentPage(trabajador)) {\n        trabajador.accion = isChecked;\n      }\n      return trabajador;\n    });\n\n    if (isChecked) {\n      this.trabajadores\n        .filter(trabajador => !this.trabajadoresMarcados.includes(trabajador))\n        .forEach(trabajador => this.trabajadoresMarcados.push(trabajador));\n    } else {\n      this.trabajadoresMarcados = this.trabajadoresMarcados.filter(trabajador => !trabajador.accion);\n    }\n  }\n\n  isOnCurrentPage(trabajador: any): boolean {\n    const index = this.trabajadores.indexOf(trabajador);\n    const startIndex = (this.currentPage - 1) * this.workersPerPage;\n    const endIndex = this.currentPage * this.workersPerPage;\n    return index >= startIndex && index < endIndex;\n  }\n\n  previousPage() {\n    if (this.currentPage > 1) {\n      this.currentPage--;\n      this.updatePage();\n    }\n  }\n\n  nextPage() {\n    if (this.currentPage * this.workersPerPage < this.trabajadores.length) {\n      this.currentPage++;\n      this.updatePage();\n    }\n  }\n\n  updatePage() {\n    const trabajadoresEnPaginaActual = this.trabajadores.slice(\n      (this.currentPage - 1) * this.workersPerPage,\n      this.currentPage * this.workersPerPage\n    );\n\n    const todosMarcados = trabajadoresEnPaginaActual.every(trabajador => trabajador.accion);\n    const otrosMarcados = this.trabajadoresMarcados.every(trabajador => trabajador.accion);\n\n    this.marcarTodos = todosMarcados && otrosMarcados;\n  }\n\n  private mesaageAlert(message: string) {\n    this.alertController\n      .create({\n        header: 'Información',\n        message,\n        buttons: ['Aceptar'],\n      })\n      .then(alert => {\n        alert.present();\n      });\n  }\n  pushPermisosSST(): void {\n    this.router.navigate(['/home/permisos']);\n  }\n\n  async updateTrabajadores() {\n    try {\n      this.data.forEach(permisoIncompleto => {\n        permisoIncompleto['listaTrabajadoresMigrados'].forEach(async trabajador => {\n          console.log(trabajador);\n          await this.dataBaseService.updateTrabajadorMigrado(trabajador);\n        });\n      });\n    } catch (error) {}\n  }\n\n  volver() {\n    this.router.navigate(['/home/permisos']);\n  }\n  back() {\n    this.router.navigate(['/home/permisos']);\n  }\n}\n"],"sourceRoot":"webpack:///"}