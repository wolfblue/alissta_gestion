{"version":3,"sources":["./src/app/pages/asistencia-eventos-qr/asistencia-eventos-qr.page.html","./src/app/pages/asistencia-eventos-qr/asistencia-eventos-qr-routing.module.ts","./src/app/pages/asistencia-eventos-qr/asistencia-eventos-qr.module.ts","./src/app/pages/asistencia-eventos-qr/asistencia-eventos-qr.page.scss","./src/app/pages/asistencia-eventos-qr/asistencia-eventos-qr.page.ts"],"names":[],"mappings":"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","file":"asistencia-eventos-qr-asistencia-eventos-qr-module-es2015.js","sourcesContent":["export default \"<ion-header>\\n  <app-nav-bar></app-nav-bar>\\n</ion-header>\\n\\n<ion-content>\\n  <app-title-bar [title]=\\\"'ASISTENCIA EVENTOS POSITIVA'\\\" [iconName]=\\\"'assets/icon/eventos.svg'\\\">\\n  </app-title-bar>\\n\\n  <qrcode [qrdata]=\\\"qrData\\\" *ngIf=\\\"qrData\\\"></qrcode>\\n\\n  <div class=\\\"button-wrapper\\\">\\n    <ion-button routerLink=\\\"/home\\\">Regresar</ion-button>\\n  </div>\\n</ion-content>\\n\\n<ion-footer>\\n  <app-menu-operativo [opcionSeleccionada]=\\\"opcion\\\" *ngIf=\\\"opcion\\\"></app-menu-operativo>\\n</ion-footer>\";","import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { AsistenciaEventosQrPage } from './asistencia-eventos-qr.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: AsistenciaEventosQrPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class AsistenciaEventosQrPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { SharedModule } from 'src/app/shared.module';\nimport { AsistenciaEventosQrPageRoutingModule } from './asistencia-eventos-qr-routing.module';\nimport { AsistenciaEventosQrPage } from './asistencia-eventos-qr.page';\n\n@NgModule({\n  imports: [\n    SharedModule,\n    AsistenciaEventosQrPageRoutingModule\n  ],\n  declarations: [AsistenciaEventosQrPage]\n})\nexport class AsistenciaEventosQrPageModule {}\n","export default \"qrcode {\\n  display: block;\\n  text-align: center;\\n  margin-top: 2rem;\\n}\\n\\n.button-wrapper {\\n  text-align: center;\\n  margin-top: 2rem;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvYXNpc3RlbmNpYS1ldmVudG9zLXFyL2FzaXN0ZW5jaWEtZXZlbnRvcy1xci5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxjQUFBO0VBQ0Esa0JBQUE7RUFDQSxnQkFBQTtBQUNGOztBQUVBO0VBQ0Usa0JBQUE7RUFDQSxnQkFBQTtBQUNGIiwiZmlsZSI6InNyYy9hcHAvcGFnZXMvYXNpc3RlbmNpYS1ldmVudG9zLXFyL2FzaXN0ZW5jaWEtZXZlbnRvcy1xci5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJxcmNvZGUge1xuICBkaXNwbGF5OiBibG9jaztcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICBtYXJnaW4tdG9wOiAycmVtO1xufVxuXG4uYnV0dG9uLXdyYXBwZXIge1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gIG1hcmdpbi10b3A6IDJyZW07XG59XG4iXX0= */\";","import { DatePipe } from '@angular/common';\nimport { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { AlertController } from '@ionic/angular';\nimport { alertCommunicationError } from 'src/app/commons/user-feedback';\nimport { ContextService } from 'src/app/services/context.service';\nimport { UtilsService } from 'src/app/services/utils.service';\n\n@Component({\n  selector: 'app-asistencia-eventos-qr',\n  templateUrl: './asistencia-eventos-qr.page.html',\n  styleUrls: ['./asistencia-eventos-qr.page.scss'],\n})\nexport class AsistenciaEventosQrPage implements OnInit {\n\n  opcion: string;\n\n  qrData: string;\n\n  constructor(\n    private context: ContextService,\n    private datePipe: DatePipe,\n    private alertCtrl: AlertController,\n    private router: Router,\n    private utils: UtilsService\n  ) { }\n\n  ngOnInit(): void {\n    this.buildQRData();\n  }\n\n  ionViewWillEnter(): void {\n    this.opcion = 'asistenciaEventos';\n  }\n\n  ionViewWillLeave(): void {\n    this.opcion = undefined;\n  }\n\n  private async buildQRData(): Promise<void> {\n    await this.utils.presentLoading();\n    const context = await this.context.get();\n    this.utils.dismissLoading();\n\n    if (!context) {\n      alertCommunicationError(this.alertCtrl);\n      this.router.navigate(['/home']);\n\n      return;\n    }\n\n    const trabajador = context.trabajador;\n    const empresa = context.empresa;\n\n    const primerNombre = trabajador.primerNombre ?? '';\n    const segundoNombre = trabajador.segundoNombre ?? '';\n    const primerApellido = trabajador.primerApellido ?? '';\n    const segundoApellido = trabajador.segundoApellido ?? '';\n    let nombreCompleto = `${primerNombre} ${segundoNombre} ${primerApellido} ${segundoApellido}`;\n    nombreCompleto = nombreCompleto.replace(/\\s+/g, ' ');\n    nombreCompleto = nombreCompleto.trim();\n    const fecha = this.datePipe.transform(trabajador.fechaNacimiento, 'dd/MM/yyyy');\n\n    const data = {\n      tiEmpr: empresa.tipoDocumento,\n      numEmpr: empresa.documentoEmp,\n      razonEmpr: empresa.razonSocial,\n      tiAsistente: trabajador.tipoDocumento,\n      numAsistente: `${trabajador.id}`,\n      nomAsist: nombreCompleto,\n      sexo: trabajador.sexo === 'M' ? \"Masculino\" : \"Femenino\",\n      cargo: \"3\",\n      tele: `${trabajador.numeroTelefono}`,\n      email: trabajador.correo,\n      fchnac: fecha\n    };\n\n    this.qrData = JSON.stringify(data);\n  }\n\n}\n"],"sourceRoot":"webpack:///"}